ARM GAS  /tmp/cc1ZxEVo.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"Polysynth.cpp"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text._ZN5daisy9ParameterD2Ev,"axG",%progbits,_ZN5daisy9ParameterD5Ev,comdat
  19              		.align	1
  20              		.p2align 2,,3
  21              		.weak	_ZN5daisy9ParameterD2Ev
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_ZN5daisy9ParameterD2Ev:
  27              	.LVL0:
  28              	.LFB1655:
  29              		.file 1 "../../libDaisy/src/hid/parameter.h"
   1:../../libDaisy/src/hid/parameter.h **** #pragma once
   2:../../libDaisy/src/hid/parameter.h **** #include <stdint.h>
   3:../../libDaisy/src/hid/parameter.h **** #include "hid/ctrl.h"
   4:../../libDaisy/src/hid/parameter.h **** 
   5:../../libDaisy/src/hid/parameter.h **** namespace daisy
   6:../../libDaisy/src/hid/parameter.h **** {
   7:../../libDaisy/src/hid/parameter.h **** /** @addtogroup controls
   8:../../libDaisy/src/hid/parameter.h ****     @{
   9:../../libDaisy/src/hid/parameter.h **** */
  10:../../libDaisy/src/hid/parameter.h **** 
  11:../../libDaisy/src/hid/parameter.h **** /**      Simple parameter mapping tool that takes a 0-1 input from an hid_ctrl. */
  12:../../libDaisy/src/hid/parameter.h **** class Parameter
  13:../../libDaisy/src/hid/parameter.h **** {
  14:../../libDaisy/src/hid/parameter.h ****   public:
  15:../../libDaisy/src/hid/parameter.h ****     /** Curves are applied to the output signal */
  16:../../libDaisy/src/hid/parameter.h ****     enum Curve
  17:../../libDaisy/src/hid/parameter.h ****     {
  18:../../libDaisy/src/hid/parameter.h ****         LINEAR,      /**< Linear curve */
  19:../../libDaisy/src/hid/parameter.h ****         EXPONENTIAL, /**< Exponential curve */
  20:../../libDaisy/src/hid/parameter.h ****         LOGARITHMIC, /**<  Logarithmic curve */
  21:../../libDaisy/src/hid/parameter.h ****         CUBE,        /**< Cubic curve */
  22:../../libDaisy/src/hid/parameter.h ****         LAST,        /**< Final enum element. */
  23:../../libDaisy/src/hid/parameter.h ****     };
  24:../../libDaisy/src/hid/parameter.h ****     /** Constructor */
  25:../../libDaisy/src/hid/parameter.h ****     Parameter() {}
  26:../../libDaisy/src/hid/parameter.h ****     /** Destructor */
  27:../../libDaisy/src/hid/parameter.h ****     ~Parameter() {}
  30              		.loc 1 27 5 view -0
  31              		.cfi_startproc
ARM GAS  /tmp/cc1ZxEVo.s 			page 2


  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              	.LBB593:
  36              	.LBI593:
  37              		.file 2 "../../libDaisy/src/hid/ctrl.h"
   1:../../libDaisy/src/hid/ctrl.h **** #pragma once
   2:../../libDaisy/src/hid/ctrl.h **** #ifndef DSY_KNOB_H
   3:../../libDaisy/src/hid/ctrl.h **** #define DSY_KNOB_H /**< & */
   4:../../libDaisy/src/hid/ctrl.h **** #include <stdint.h>
   5:../../libDaisy/src/hid/ctrl.h **** 
   6:../../libDaisy/src/hid/ctrl.h **** #ifdef __cplusplus
   7:../../libDaisy/src/hid/ctrl.h **** namespace daisy
   8:../../libDaisy/src/hid/ctrl.h **** {
   9:../../libDaisy/src/hid/ctrl.h **** /**
  10:../../libDaisy/src/hid/ctrl.h ****     @brief Hardware Interface for control inputs \n 
  11:../../libDaisy/src/hid/ctrl.h ****     Primarily designed for ADC input controls such as \n 
  12:../../libDaisy/src/hid/ctrl.h ****     potentiometers, and control voltage. \n 
  13:../../libDaisy/src/hid/ctrl.h ****     @author Stephen Hensley
  14:../../libDaisy/src/hid/ctrl.h ****     @date November 2019
  15:../../libDaisy/src/hid/ctrl.h ****     @ingroup controls
  16:../../libDaisy/src/hid/ctrl.h **** */
  17:../../libDaisy/src/hid/ctrl.h **** class AnalogControl
  18:../../libDaisy/src/hid/ctrl.h **** {
  19:../../libDaisy/src/hid/ctrl.h ****   public:
  20:../../libDaisy/src/hid/ctrl.h ****     /** Constructor */
  21:../../libDaisy/src/hid/ctrl.h ****     AnalogControl() {}
  22:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
  23:../../libDaisy/src/hid/ctrl.h ****     ~AnalogControl() {}
  38              		.loc 2 23 5 view .LVU1
  39              		.loc 2 23 5 is_stmt 0 view .LVU2
  40              	.LBE593:
  41              		.loc 1 27 19 view .LVU3
  42 0000 7047     		bx	lr
  43              		.cfi_endproc
  44              	.LFE1655:
  46              		.weak	_ZN5daisy9ParameterD1Ev
  47              		.thumb_set _ZN5daisy9ParameterD1Ev,_ZN5daisy9ParameterD2Ev
  48 0002 00BF     		.section	.text._ZN5daisy8DaisyPodD2Ev,"axG",%progbits,_ZN5daisy8DaisyPodD5Ev,comdat
  49              		.align	1
  50              		.p2align 2,,3
  51              		.weak	_ZN5daisy8DaisyPodD2Ev
  52              		.syntax unified
  53              		.thumb
  54              		.thumb_func
  56              	_ZN5daisy8DaisyPodD2Ev:
  57              	.LVL1:
  58              	.LFB2538:
  59              		.file 3 "../../libDaisy/src/daisy_pod.h"
   1:../../libDaisy/src/daisy_pod.h **** #pragma once
   2:../../libDaisy/src/daisy_pod.h **** #ifndef DSY_POD_BSP_H
   3:../../libDaisy/src/daisy_pod.h **** #define DSY_POD_BSP_H
   4:../../libDaisy/src/daisy_pod.h **** 
   5:../../libDaisy/src/daisy_pod.h **** #include "daisy_seed.h"
   6:../../libDaisy/src/daisy_pod.h **** 
   7:../../libDaisy/src/daisy_pod.h **** namespace daisy
   8:../../libDaisy/src/daisy_pod.h **** {
ARM GAS  /tmp/cc1ZxEVo.s 			page 3


   9:../../libDaisy/src/daisy_pod.h **** /**
  10:../../libDaisy/src/daisy_pod.h ****     @brief Class that handles initializing all of the hardware specific to the Daisy Patch Board. \
  11:../../libDaisy/src/daisy_pod.h ****     Helper funtions are also in place to provide easy access to built-in controls and peripherals.
  12:../../libDaisy/src/daisy_pod.h ****     @author Stephen Hensley
  13:../../libDaisy/src/daisy_pod.h ****     @date November 2019
  14:../../libDaisy/src/daisy_pod.h ****     @ingroup boards
  15:../../libDaisy/src/daisy_pod.h **** */
  16:../../libDaisy/src/daisy_pod.h **** class DaisyPod
  17:../../libDaisy/src/daisy_pod.h **** {
  18:../../libDaisy/src/daisy_pod.h ****   public:
  19:../../libDaisy/src/daisy_pod.h ****     /** Switches */
  20:../../libDaisy/src/daisy_pod.h ****     enum Sw
  21:../../libDaisy/src/daisy_pod.h ****     {
  22:../../libDaisy/src/daisy_pod.h ****         BUTTON_1,    /** & */
  23:../../libDaisy/src/daisy_pod.h ****         BUTTON_2,    /** & */
  24:../../libDaisy/src/daisy_pod.h ****         BUTTON_LAST, /** &  */
  25:../../libDaisy/src/daisy_pod.h ****     };
  26:../../libDaisy/src/daisy_pod.h **** 
  27:../../libDaisy/src/daisy_pod.h ****     /** Knobs */
  28:../../libDaisy/src/daisy_pod.h ****     enum Knob
  29:../../libDaisy/src/daisy_pod.h ****     {
  30:../../libDaisy/src/daisy_pod.h ****         KNOB_1,    /** &  */
  31:../../libDaisy/src/daisy_pod.h ****         KNOB_2,    /** & */
  32:../../libDaisy/src/daisy_pod.h ****         KNOB_LAST, /** & */
  33:../../libDaisy/src/daisy_pod.h ****     };
  34:../../libDaisy/src/daisy_pod.h **** 
  35:../../libDaisy/src/daisy_pod.h ****     DaisyPod() {}
  36:../../libDaisy/src/daisy_pod.h ****     ~DaisyPod() {}
  60              		.loc 3 36 5 is_stmt 1 view -0
  61              		.cfi_startproc
  62              		@ args = 0, pretend = 0, frame = 0
  63              		@ frame_needed = 0, uses_anonymous_args = 0
  64              		@ link register save eliminated.
  65              	.LBB594:
  66              	.LBI594:
  67              		.file 4 "../../libDaisy/src/hid/midi.h"
   1:../../libDaisy/src/hid/midi.h **** #pragma once
   2:../../libDaisy/src/hid/midi.h **** #ifndef DSY_MIDI_H
   3:../../libDaisy/src/hid/midi.h **** #define DSY_MIDI_H
   4:../../libDaisy/src/hid/midi.h **** 
   5:../../libDaisy/src/hid/midi.h **** // TODO: make this adjustable
   6:../../libDaisy/src/hid/midi.h **** #define SYSEX_BUFFER_LEN 128
   7:../../libDaisy/src/hid/midi.h **** 
   8:../../libDaisy/src/hid/midi.h **** #include <stdint.h>
   9:../../libDaisy/src/hid/midi.h **** #include <stdlib.h>
  10:../../libDaisy/src/hid/midi.h **** #include "per/uart.h"
  11:../../libDaisy/src/hid/midi.h **** #include "util/ringbuffer.h"
  12:../../libDaisy/src/hid/midi.h **** #include "hid/MidiEvent.h"
  13:../../libDaisy/src/hid/midi.h **** #include "hid/usb_midi.h"
  14:../../libDaisy/src/hid/midi.h **** #include "sys/system.h"
  15:../../libDaisy/src/hid/midi.h **** 
  16:../../libDaisy/src/hid/midi.h **** namespace daisy
  17:../../libDaisy/src/hid/midi.h **** {
  18:../../libDaisy/src/hid/midi.h **** /** @brief   Transport layer for sending and receiving MIDI data over UART 
  19:../../libDaisy/src/hid/midi.h ****  *  @details This is the mode of communication used for TRS and DIN MIDI
  20:../../libDaisy/src/hid/midi.h ****  *  @ingroup midi
  21:../../libDaisy/src/hid/midi.h **** */
ARM GAS  /tmp/cc1ZxEVo.s 			page 4


  22:../../libDaisy/src/hid/midi.h **** class MidiUartTransport
  23:../../libDaisy/src/hid/midi.h **** {
  24:../../libDaisy/src/hid/midi.h ****   public:
  25:../../libDaisy/src/hid/midi.h ****     MidiUartTransport() {}
  26:../../libDaisy/src/hid/midi.h ****     ~MidiUartTransport() {}
  27:../../libDaisy/src/hid/midi.h **** 
  28:../../libDaisy/src/hid/midi.h ****     struct Config
  29:../../libDaisy/src/hid/midi.h ****     {
  30:../../libDaisy/src/hid/midi.h ****         UartHandler::Config::Peripheral periph;
  31:../../libDaisy/src/hid/midi.h ****         dsy_gpio_pin                    rx;
  32:../../libDaisy/src/hid/midi.h ****         dsy_gpio_pin                    tx;
  33:../../libDaisy/src/hid/midi.h **** 
  34:../../libDaisy/src/hid/midi.h ****         Config()
  35:../../libDaisy/src/hid/midi.h ****         {
  36:../../libDaisy/src/hid/midi.h ****             periph = UartHandler::Config::Peripheral::USART_1;
  37:../../libDaisy/src/hid/midi.h ****             rx     = {DSY_GPIOB, 7};
  38:../../libDaisy/src/hid/midi.h ****             tx     = {DSY_GPIOB, 6};
  39:../../libDaisy/src/hid/midi.h ****         }
  40:../../libDaisy/src/hid/midi.h ****     };
  41:../../libDaisy/src/hid/midi.h **** 
  42:../../libDaisy/src/hid/midi.h ****     inline void Init(Config config)
  43:../../libDaisy/src/hid/midi.h ****     {
  44:../../libDaisy/src/hid/midi.h ****         UartHandler::Config uart_config;
  45:../../libDaisy/src/hid/midi.h **** 
  46:../../libDaisy/src/hid/midi.h ****         //defaults
  47:../../libDaisy/src/hid/midi.h ****         uart_config.baudrate   = 31250;
  48:../../libDaisy/src/hid/midi.h ****         uart_config.stopbits   = UartHandler::Config::StopBits::BITS_1;
  49:../../libDaisy/src/hid/midi.h ****         uart_config.parity     = UartHandler::Config::Parity::NONE;
  50:../../libDaisy/src/hid/midi.h ****         uart_config.mode       = UartHandler::Config::Mode::TX_RX;
  51:../../libDaisy/src/hid/midi.h ****         uart_config.wordlength = UartHandler::Config::WordLength::BITS_8;
  52:../../libDaisy/src/hid/midi.h **** 
  53:../../libDaisy/src/hid/midi.h ****         //user settings
  54:../../libDaisy/src/hid/midi.h ****         uart_config.periph        = config.periph;
  55:../../libDaisy/src/hid/midi.h ****         uart_config.pin_config.rx = config.rx;
  56:../../libDaisy/src/hid/midi.h ****         uart_config.pin_config.tx = config.tx;
  57:../../libDaisy/src/hid/midi.h **** 
  58:../../libDaisy/src/hid/midi.h ****         uart_.Init(uart_config);
  59:../../libDaisy/src/hid/midi.h ****     }
  60:../../libDaisy/src/hid/midi.h **** 
  61:../../libDaisy/src/hid/midi.h ****     inline void    StartRx() { uart_.StartRx(); }
  62:../../libDaisy/src/hid/midi.h ****     inline size_t  Readable() { return uart_.Readable(); }
  63:../../libDaisy/src/hid/midi.h ****     inline uint8_t Rx() { return uart_.PopRx(); }
  64:../../libDaisy/src/hid/midi.h ****     inline bool    RxActive() { return uart_.RxActive(); }
  65:../../libDaisy/src/hid/midi.h ****     inline void    FlushRx() { uart_.FlushRx(); }
  66:../../libDaisy/src/hid/midi.h ****     inline void    Tx(uint8_t* buff, size_t size) { uart_.PollTx(buff, size); }
  67:../../libDaisy/src/hid/midi.h **** 
  68:../../libDaisy/src/hid/midi.h ****   private:
  69:../../libDaisy/src/hid/midi.h ****     UartHandler uart_;
  70:../../libDaisy/src/hid/midi.h **** };
  71:../../libDaisy/src/hid/midi.h **** 
  72:../../libDaisy/src/hid/midi.h **** /** 
  73:../../libDaisy/src/hid/midi.h ****     @brief Simple MIDI Handler \n 
  74:../../libDaisy/src/hid/midi.h ****     Parses bytes from an input into valid MidiEvents. \n 
  75:../../libDaisy/src/hid/midi.h ****     The MidiEvents fill a FIFO queue that the user can pop messages from.
  76:../../libDaisy/src/hid/midi.h ****     @author shensley
  77:../../libDaisy/src/hid/midi.h ****     @date March 2020
  78:../../libDaisy/src/hid/midi.h ****     @ingroup midi
ARM GAS  /tmp/cc1ZxEVo.s 			page 5


  79:../../libDaisy/src/hid/midi.h **** */
  80:../../libDaisy/src/hid/midi.h **** template <typename Transport>
  81:../../libDaisy/src/hid/midi.h **** class MidiHandler
  82:../../libDaisy/src/hid/midi.h **** {
  83:../../libDaisy/src/hid/midi.h ****   public:
  84:../../libDaisy/src/hid/midi.h ****     MidiHandler() {}
  85:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
  68              		.loc 4 85 5 view .LVU5
  69              	.LBB595:
  70              	.LBI595:
  26:../../libDaisy/src/hid/midi.h **** 
  71              		.loc 4 26 5 view .LVU6
  26:../../libDaisy/src/hid/midi.h **** 
  72              		.loc 4 26 5 is_stmt 0 view .LVU7
  73              	.LBE595:
  74              	.LBE594:
  75              	.LBB596:
  76              	.LBI596:
  77              		.file 5 "../../libDaisy/src/hid/rgb_led.h"
   1:../../libDaisy/src/hid/rgb_led.h **** #pragma once
   2:../../libDaisy/src/hid/rgb_led.h **** #ifndef DSY_RGB_LED_H
   3:../../libDaisy/src/hid/rgb_led.h **** #define DSY_RGB_LED_H
   4:../../libDaisy/src/hid/rgb_led.h **** #include "hid/led.h"
   5:../../libDaisy/src/hid/rgb_led.h **** #include "util/color.h"
   6:../../libDaisy/src/hid/rgb_led.h **** 
   7:../../libDaisy/src/hid/rgb_led.h **** namespace daisy
   8:../../libDaisy/src/hid/rgb_led.h **** {
   9:../../libDaisy/src/hid/rgb_led.h **** /** @addtogroup feedback
  10:../../libDaisy/src/hid/rgb_led.h ****     @{
  11:../../libDaisy/src/hid/rgb_led.h **** */
  12:../../libDaisy/src/hid/rgb_led.h **** 
  13:../../libDaisy/src/hid/rgb_led.h **** /** 3x LEDs configured as an RGB for ease of use. */
  14:../../libDaisy/src/hid/rgb_led.h **** class RgbLed
  15:../../libDaisy/src/hid/rgb_led.h **** {
  16:../../libDaisy/src/hid/rgb_led.h ****   public:
  17:../../libDaisy/src/hid/rgb_led.h ****     RgbLed() {}
  18:../../libDaisy/src/hid/rgb_led.h ****     ~RgbLed() {}
  78              		.loc 5 18 5 is_stmt 1 view .LVU8
  79              	.LBB597:
  80              	.LBI597:
  81              		.file 6 "../../libDaisy/src/hid/led.h"
   1:../../libDaisy/src/hid/led.h **** 
   2:../../libDaisy/src/hid/led.h **** #pragma once
   3:../../libDaisy/src/hid/led.h **** #ifndef DSY_LED_H
   4:../../libDaisy/src/hid/led.h **** #define DSY_LED_H
   5:../../libDaisy/src/hid/led.h **** #include "daisy_core.h"
   6:../../libDaisy/src/hid/led.h **** #include "per/gpio.h"
   7:../../libDaisy/src/hid/led.h **** 
   8:../../libDaisy/src/hid/led.h **** /* TODO - Get this set up to work with the dev_leddriver stuff as well
   9:../../libDaisy/src/hid/led.h **** - Setup Hardware PWM for pins that have it
  10:../../libDaisy/src/hid/led.h **** */
  11:../../libDaisy/src/hid/led.h **** 
  12:../../libDaisy/src/hid/led.h **** namespace daisy
  13:../../libDaisy/src/hid/led.h **** {
  14:../../libDaisy/src/hid/led.h **** /**
  15:../../libDaisy/src/hid/led.h ****     @brief LED Class providing simple Software PWM ability, etc \n 
  16:../../libDaisy/src/hid/led.h ****     Eventually this will work with hardware PWM, and external LED Driver devices as well.
ARM GAS  /tmp/cc1ZxEVo.s 			page 6


  17:../../libDaisy/src/hid/led.h ****     @author shensley
  18:../../libDaisy/src/hid/led.h ****     @date March 2020
  19:../../libDaisy/src/hid/led.h ****     @ingroup feedback
  20:../../libDaisy/src/hid/led.h **** */
  21:../../libDaisy/src/hid/led.h **** class Led
  22:../../libDaisy/src/hid/led.h **** {
  23:../../libDaisy/src/hid/led.h ****   public:
  24:../../libDaisy/src/hid/led.h ****     Led() {}
  25:../../libDaisy/src/hid/led.h ****     ~Led() {}
  82              		.loc 6 25 5 view .LVU9
  83              		.loc 6 25 5 is_stmt 0 view .LVU10
  84              	.LBE597:
  85              	.LBB598:
  86              	.LBI598:
  87              		.loc 6 25 5 is_stmt 1 view .LVU11
  88              		.loc 6 25 5 is_stmt 0 view .LVU12
  89              	.LBE598:
  90              	.LBB599:
  91              	.LBI599:
  92              		.loc 6 25 5 is_stmt 1 view .LVU13
  93              		.loc 6 25 5 is_stmt 0 view .LVU14
  94              	.LBE599:
  95              	.LBE596:
  96              	.LBB600:
  97              	.LBI600:
  98              		.loc 5 18 5 is_stmt 1 view .LVU15
  99              	.LBB601:
 100              	.LBI601:
 101              		.loc 6 25 5 view .LVU16
 102              		.loc 6 25 5 is_stmt 0 view .LVU17
 103              	.LBE601:
 104              	.LBB602:
 105              	.LBI602:
 106              		.loc 6 25 5 is_stmt 1 view .LVU18
 107              		.loc 6 25 5 is_stmt 0 view .LVU19
 108              	.LBE602:
 109              	.LBB603:
 110              	.LBI603:
 111              		.loc 6 25 5 is_stmt 1 view .LVU20
 112              		.loc 6 25 5 is_stmt 0 view .LVU21
 113              	.LBE603:
 114              	.LBE600:
 115              	.LBB604:
 116              	.LBI604:
 117              		.file 7 "../../libDaisy/src/hid/switch.h"
   1:../../libDaisy/src/hid/switch.h **** #pragma once
   2:../../libDaisy/src/hid/switch.h **** #ifndef DSY_SWITCH_H
   3:../../libDaisy/src/hid/switch.h **** #define DSY_SWITCH_H
   4:../../libDaisy/src/hid/switch.h **** #include "daisy_core.h"
   5:../../libDaisy/src/hid/switch.h **** #include "per/gpio.h"
   6:../../libDaisy/src/hid/switch.h **** #include "sys/system.h"
   7:../../libDaisy/src/hid/switch.h **** 
   8:../../libDaisy/src/hid/switch.h **** namespace daisy
   9:../../libDaisy/src/hid/switch.h **** {
  10:../../libDaisy/src/hid/switch.h **** /** 
  11:../../libDaisy/src/hid/switch.h ****     Generic Class for handling momentary/latching switches \n 
  12:../../libDaisy/src/hid/switch.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Switch classes
ARM GAS  /tmp/cc1ZxEVo.s 			page 7


  13:../../libDaisy/src/hid/switch.h ****     @author Stephen Hensley
  14:../../libDaisy/src/hid/switch.h ****     @date December 2019
  15:../../libDaisy/src/hid/switch.h ****     @ingroup controls
  16:../../libDaisy/src/hid/switch.h **** */
  17:../../libDaisy/src/hid/switch.h **** class Switch
  18:../../libDaisy/src/hid/switch.h **** {
  19:../../libDaisy/src/hid/switch.h ****   public:
  20:../../libDaisy/src/hid/switch.h ****     /** Specifies the expected behavior of the switch */
  21:../../libDaisy/src/hid/switch.h ****     enum Type
  22:../../libDaisy/src/hid/switch.h ****     {
  23:../../libDaisy/src/hid/switch.h ****         TYPE_TOGGLE,    /**< & */
  24:../../libDaisy/src/hid/switch.h ****         TYPE_MOMENTARY, /**< & */
  25:../../libDaisy/src/hid/switch.h ****     };
  26:../../libDaisy/src/hid/switch.h ****     /** Specifies whether the pressed is HIGH or LOW. */
  27:../../libDaisy/src/hid/switch.h ****     enum Polarity
  28:../../libDaisy/src/hid/switch.h ****     {
  29:../../libDaisy/src/hid/switch.h ****         POLARITY_NORMAL,   /**< & */
  30:../../libDaisy/src/hid/switch.h ****         POLARITY_INVERTED, /**< & */
  31:../../libDaisy/src/hid/switch.h ****     };
  32:../../libDaisy/src/hid/switch.h **** 
  33:../../libDaisy/src/hid/switch.h ****     /** Specifies whether to use built-in Pull Up/Down resistors to hold button at a given state wh
  34:../../libDaisy/src/hid/switch.h ****     enum Pull
  35:../../libDaisy/src/hid/switch.h ****     {
  36:../../libDaisy/src/hid/switch.h ****         PULL_UP,   /**< & */
  37:../../libDaisy/src/hid/switch.h ****         PULL_DOWN, /**< & */
  38:../../libDaisy/src/hid/switch.h ****         PULL_NONE, /**< & */
  39:../../libDaisy/src/hid/switch.h ****     };
  40:../../libDaisy/src/hid/switch.h **** 
  41:../../libDaisy/src/hid/switch.h ****     Switch() {}
  42:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 118              		.loc 7 42 5 is_stmt 1 view .LVU22
 119              		.loc 7 42 5 is_stmt 0 view .LVU23
 120              	.LBE604:
 121              	.LBB605:
 122              	.LBI605:
 123              		.loc 7 42 5 is_stmt 1 view .LVU24
 124              		.loc 7 42 5 is_stmt 0 view .LVU25
 125              	.LBE605:
 126              	.LBB606:
 127              	.LBI606:
 128              		.loc 2 23 5 is_stmt 1 view .LVU26
 129              		.loc 2 23 5 is_stmt 0 view .LVU27
 130              	.LBE606:
 131              	.LBB607:
 132              	.LBI607:
 133              		.loc 2 23 5 is_stmt 1 view .LVU28
 134              		.loc 2 23 5 is_stmt 0 view .LVU29
 135              	.LBE607:
 136              	.LBB608:
 137              	.LBI608:
 138              		.file 8 "../../libDaisy/src/hid/encoder.h"
   1:../../libDaisy/src/hid/encoder.h **** #pragma once
   2:../../libDaisy/src/hid/encoder.h **** #ifndef DSY_ENCODER_H
   3:../../libDaisy/src/hid/encoder.h **** #define DSY_ENCODER_H
   4:../../libDaisy/src/hid/encoder.h **** #include "daisy_core.h"
   5:../../libDaisy/src/hid/encoder.h **** #include "per/gpio.h"
   6:../../libDaisy/src/hid/encoder.h **** #include "hid/switch.h"
ARM GAS  /tmp/cc1ZxEVo.s 			page 8


   7:../../libDaisy/src/hid/encoder.h **** 
   8:../../libDaisy/src/hid/encoder.h **** namespace daisy
   9:../../libDaisy/src/hid/encoder.h **** {
  10:../../libDaisy/src/hid/encoder.h **** /** 
  11:../../libDaisy/src/hid/encoder.h ****     @brief Generic Class for handling Quadrature Encoders \n 
  12:../../libDaisy/src/hid/encoder.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Encoder classes
  13:../../libDaisy/src/hid/encoder.h ****     @author Stephen Hensley
  14:../../libDaisy/src/hid/encoder.h ****     @date December 2019
  15:../../libDaisy/src/hid/encoder.h ****     @ingroup controls
  16:../../libDaisy/src/hid/encoder.h **** */
  17:../../libDaisy/src/hid/encoder.h **** class Encoder
  18:../../libDaisy/src/hid/encoder.h **** {
  19:../../libDaisy/src/hid/encoder.h ****   public:
  20:../../libDaisy/src/hid/encoder.h ****     Encoder() {}
  21:../../libDaisy/src/hid/encoder.h ****     ~Encoder() {}
 139              		.loc 8 21 5 is_stmt 1 view .LVU30
 140              	.LBB609:
 141              	.LBI609:
 142              		.loc 7 42 5 view .LVU31
 143              		.loc 7 42 5 is_stmt 0 view .LVU32
 144              	.LBE609:
 145              	.LBE608:
 146              	.LBB610:
 147              	.LBI610:
 148              		.file 9 "../../libDaisy/src/daisy_seed.h"
   1:../../libDaisy/src/daisy_seed.h **** #pragma once
   2:../../libDaisy/src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:../../libDaisy/src/daisy_seed.h **** #define DSY_SEED_H
   4:../../libDaisy/src/daisy_seed.h **** 
   5:../../libDaisy/src/daisy_seed.h **** #include "daisy.h"
   6:../../libDaisy/src/daisy_seed.h **** 
   7:../../libDaisy/src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:../../libDaisy/src/daisy_seed.h **** //#define SEED_REV2
   9:../../libDaisy/src/daisy_seed.h **** 
  10:../../libDaisy/src/daisy_seed.h **** namespace daisy
  11:../../libDaisy/src/daisy_seed.h **** {
  12:../../libDaisy/src/daisy_seed.h **** /**
  13:../../libDaisy/src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:../../libDaisy/src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:../../libDaisy/src/daisy_seed.h **** 
  16:../../libDaisy/src/daisy_seed.h ****    @ingroup boards
  17:../../libDaisy/src/daisy_seed.h **** */
  18:../../libDaisy/src/daisy_seed.h **** class DaisySeed
  19:../../libDaisy/src/daisy_seed.h **** {
  20:../../libDaisy/src/daisy_seed.h ****   public:
  21:../../libDaisy/src/daisy_seed.h ****     DaisySeed() {}
  22:../../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 149              		.loc 9 22 5 is_stmt 1 view .LVU33
 150              	.LBB611:
 151              	.LBI611:
 152              		.file 10 "../../libDaisy/src/sys/system.h"
   1:../../libDaisy/src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../../libDaisy/src/sys/system.h **** #define DSY_SYSTEM_H
   3:../../libDaisy/src/sys/system.h **** 
   4:../../libDaisy/src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../../libDaisy/src/sys/system.h **** 
   6:../../libDaisy/src/sys/system.h **** #include <cstdint>
ARM GAS  /tmp/cc1ZxEVo.s 			page 9


   7:../../libDaisy/src/sys/system.h **** #include "per/tim.h"
   8:../../libDaisy/src/sys/system.h **** 
   9:../../libDaisy/src/sys/system.h **** namespace daisy
  10:../../libDaisy/src/sys/system.h **** {
  11:../../libDaisy/src/sys/system.h **** /** A handle for interacting with the Core System. 
  12:../../libDaisy/src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../../libDaisy/src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../../libDaisy/src/sys/system.h ****  **
  15:../../libDaisy/src/sys/system.h ****  ** @author shensley
  16:../../libDaisy/src/sys/system.h ****  ** @ingroup system
  17:../../libDaisy/src/sys/system.h ****  */
  18:../../libDaisy/src/sys/system.h **** class System
  19:../../libDaisy/src/sys/system.h **** {
  20:../../libDaisy/src/sys/system.h ****   public:
  21:../../libDaisy/src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../../libDaisy/src/sys/system.h ****     struct Config
  23:../../libDaisy/src/sys/system.h ****     {
  24:../../libDaisy/src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../../libDaisy/src/sys/system.h ****         enum class SysClkFreq
  26:../../libDaisy/src/sys/system.h ****         {
  27:../../libDaisy/src/sys/system.h ****             FREQ_400MHZ,
  28:../../libDaisy/src/sys/system.h ****             FREQ_480MHZ,
  29:../../libDaisy/src/sys/system.h ****         };
  30:../../libDaisy/src/sys/system.h **** 
  31:../../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../../libDaisy/src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../../libDaisy/src/sys/system.h ****          ** Cache Enabled 
  34:../../libDaisy/src/sys/system.h ****          ** */
  35:../../libDaisy/src/sys/system.h ****         void Defaults()
  36:../../libDaisy/src/sys/system.h ****         {
  37:../../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../../libDaisy/src/sys/system.h ****             use_dcache  = true;
  39:../../libDaisy/src/sys/system.h ****             use_icache  = true;
  40:../../libDaisy/src/sys/system.h ****             skip_clocks = false;
  41:../../libDaisy/src/sys/system.h ****         }
  42:../../libDaisy/src/sys/system.h **** 
  43:../../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../../libDaisy/src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../../libDaisy/src/sys/system.h ****          ** Cache Enabled 
  46:../../libDaisy/src/sys/system.h ****          ** */
  47:../../libDaisy/src/sys/system.h ****         void Boost()
  48:../../libDaisy/src/sys/system.h ****         {
  49:../../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../../libDaisy/src/sys/system.h ****             use_dcache  = true;
  51:../../libDaisy/src/sys/system.h ****             use_icache  = true;
  52:../../libDaisy/src/sys/system.h ****             skip_clocks = false;
  53:../../libDaisy/src/sys/system.h ****         }
  54:../../libDaisy/src/sys/system.h **** 
  55:../../libDaisy/src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../../libDaisy/src/sys/system.h ****         bool       use_dcache;
  57:../../libDaisy/src/sys/system.h ****         bool       use_icache;
  58:../../libDaisy/src/sys/system.h ****         bool       skip_clocks;
  59:../../libDaisy/src/sys/system.h ****     };
  60:../../libDaisy/src/sys/system.h **** 
  61:../../libDaisy/src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy
  62:../../libDaisy/src/sys/system.h ****      * 
  63:../../libDaisy/src/sys/system.h ****      */
ARM GAS  /tmp/cc1ZxEVo.s 			page 10


  64:../../libDaisy/src/sys/system.h ****     enum MemoryRegion
  65:../../libDaisy/src/sys/system.h ****     {
  66:../../libDaisy/src/sys/system.h ****         INTERNAL_FLASH = 0,
  67:../../libDaisy/src/sys/system.h ****         ITCMRAM,
  68:../../libDaisy/src/sys/system.h ****         DTCMRAM,
  69:../../libDaisy/src/sys/system.h ****         SRAM_D1,
  70:../../libDaisy/src/sys/system.h ****         SRAM_D2,
  71:../../libDaisy/src/sys/system.h ****         SRAM_D3,
  72:../../libDaisy/src/sys/system.h ****         SDRAM,
  73:../../libDaisy/src/sys/system.h ****         QSPI,
  74:../../libDaisy/src/sys/system.h ****         INVALID_ADDRESS,
  75:../../libDaisy/src/sys/system.h ****     };
  76:../../libDaisy/src/sys/system.h **** 
  77:../../libDaisy/src/sys/system.h ****     System() {}
  78:../../libDaisy/src/sys/system.h ****     ~System() {}
 153              		.loc 10 78 5 view .LVU34
 154              		.loc 10 78 5 is_stmt 0 view .LVU35
 155              	.LBE611:
 156              	.LBB612:
 157              	.LBI612:
 158              		.file 11 "../../libDaisy/src/hid/usb.h"
   1:../../libDaisy/src/hid/usb.h **** #pragma once
   2:../../libDaisy/src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../../libDaisy/src/hid/usb.h **** #define DSY_HID_USB_H
   4:../../libDaisy/src/hid/usb.h **** #include <stdint.h>
   5:../../libDaisy/src/hid/usb.h **** #include <stdlib.h>
   6:../../libDaisy/src/hid/usb.h **** 
   7:../../libDaisy/src/hid/usb.h **** namespace daisy
   8:../../libDaisy/src/hid/usb.h **** /** @addtogroup human_interface
   9:../../libDaisy/src/hid/usb.h ****     @{
  10:../../libDaisy/src/hid/usb.h **** */
  11:../../libDaisy/src/hid/usb.h **** 
  12:../../libDaisy/src/hid/usb.h **** {
  13:../../libDaisy/src/hid/usb.h **** /** 
  14:../../libDaisy/src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../../libDaisy/src/hid/usb.h ****     @author Stephen Hensley
  16:../../libDaisy/src/hid/usb.h ****     @date December 2019
  17:../../libDaisy/src/hid/usb.h **** */
  18:../../libDaisy/src/hid/usb.h **** class UsbHandle
  19:../../libDaisy/src/hid/usb.h **** {
  20:../../libDaisy/src/hid/usb.h ****   public:
  21:../../libDaisy/src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../../libDaisy/src/hid/usb.h ****     enum class Result
  23:../../libDaisy/src/hid/usb.h ****     {
  24:../../libDaisy/src/hid/usb.h ****         OK,
  25:../../libDaisy/src/hid/usb.h ****         ERR,
  26:../../libDaisy/src/hid/usb.h ****     };
  27:../../libDaisy/src/hid/usb.h **** 
  28:../../libDaisy/src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../../libDaisy/src/hid/usb.h ****     enum UsbPeriph
  30:../../libDaisy/src/hid/usb.h ****     {
  31:../../libDaisy/src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../../libDaisy/src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../../libDaisy/src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../../libDaisy/src/hid/usb.h ****     };
  35:../../libDaisy/src/hid/usb.h **** 
  36:../../libDaisy/src/hid/usb.h **** 
ARM GAS  /tmp/cc1ZxEVo.s 			page 11


  37:../../libDaisy/src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../../libDaisy/src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../../libDaisy/src/hid/usb.h **** 
  40:../../libDaisy/src/hid/usb.h ****     UsbHandle() {}
  41:../../libDaisy/src/hid/usb.h **** 
  42:../../libDaisy/src/hid/usb.h ****     ~UsbHandle() {}
 159              		.loc 11 42 5 is_stmt 1 view .LVU36
 160              		.loc 11 42 5 is_stmt 0 view .LVU37
 161              	.LBE612:
 162              	.LBB613:
 163              	.LBI613:
 164              		.file 12 "../../libDaisy/src/per/adc.h"
   1:../../libDaisy/src/per/adc.h **** #pragma once
   2:../../libDaisy/src/per/adc.h **** #ifndef DSY_ADC_H
   3:../../libDaisy/src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../../libDaisy/src/per/adc.h **** #include <stdint.h>
   5:../../libDaisy/src/per/adc.h **** #include <stdlib.h>
   6:../../libDaisy/src/per/adc.h **** #include "daisy_core.h"
   7:../../libDaisy/src/per/adc.h **** #include "per/gpio.h"
   8:../../libDaisy/src/per/adc.h **** 
   9:../../libDaisy/src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:../../libDaisy/src/per/adc.h **** 
  11:../../libDaisy/src/per/adc.h **** namespace daisy
  12:../../libDaisy/src/per/adc.h **** {
  13:../../libDaisy/src/per/adc.h **** /** @addtogroup per_analog
  14:../../libDaisy/src/per/adc.h ****     @{
  15:../../libDaisy/src/per/adc.h **** */
  16:../../libDaisy/src/per/adc.h **** 
  17:../../libDaisy/src/per/adc.h **** /* While there may not be many configuration options here,
  18:../../libDaisy/src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../../libDaisy/src/per/adc.h **** later without breaking existing functionality.
  20:../../libDaisy/src/per/adc.h **** */
  21:../../libDaisy/src/per/adc.h **** 
  22:../../libDaisy/src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../../libDaisy/src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../../libDaisy/src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../../libDaisy/src/per/adc.h ****  *           one channel.
  26:../../libDaisy/src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../../libDaisy/src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../../libDaisy/src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../../libDaisy/src/per/adc.h ****  *           inputs connected.
  30:../../libDaisy/src/per/adc.h **** */
  31:../../libDaisy/src/per/adc.h **** struct AdcChannelConfig
  32:../../libDaisy/src/per/adc.h **** {
  33:../../libDaisy/src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../../libDaisy/src/per/adc.h ****     enum MuxPin
  35:../../libDaisy/src/per/adc.h ****     {
  36:../../libDaisy/src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../../libDaisy/src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../../libDaisy/src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:../../libDaisy/src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../../libDaisy/src/per/adc.h ****     };
  41:../../libDaisy/src/per/adc.h **** 
  42:../../libDaisy/src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  43:../../libDaisy/src/per/adc.h ****     \param pin Pin to init.
  44:../../libDaisy/src/per/adc.h ****      */
  45:../../libDaisy/src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin);
ARM GAS  /tmp/cc1ZxEVo.s 			page 12


  46:../../libDaisy/src/per/adc.h **** 
  47:../../libDaisy/src/per/adc.h ****     /** 
  48:../../libDaisy/src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  49:../../libDaisy/src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  50:../../libDaisy/src/per/adc.h ****     You only need to supply the mux pins that are required,
  51:../../libDaisy/src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  52:../../libDaisy/src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  53:../../libDaisy/src/per/adc.h ****     \param mux_channels must be 1-8
  54:../../libDaisy/src/per/adc.h ****     \param mux_0 First mux pin
  55:../../libDaisy/src/per/adc.h ****     \param mux_1 Second mux pin
  56:../../libDaisy/src/per/adc.h ****     \param mux_2 Third mux pin
  57:../../libDaisy/src/per/adc.h ****     \param adc_pin &
  58:../../libDaisy/src/per/adc.h ****     */
  59:../../libDaisy/src/per/adc.h ****     void InitMux(dsy_gpio_pin adc_pin,
  60:../../libDaisy/src/per/adc.h ****                  size_t       mux_channels,
  61:../../libDaisy/src/per/adc.h ****                  dsy_gpio_pin mux_0,
  62:../../libDaisy/src/per/adc.h ****                  dsy_gpio_pin mux_1 = {DSY_GPIOX, 0},
  63:../../libDaisy/src/per/adc.h ****                  dsy_gpio_pin mux_2 = {DSY_GPIOX, 0});
  64:../../libDaisy/src/per/adc.h **** 
  65:../../libDaisy/src/per/adc.h ****     dsy_gpio pin_;                   /**< & */
  66:../../libDaisy/src/per/adc.h ****     dsy_gpio mux_pin_[MUX_SEL_LAST]; /**< & */
  67:../../libDaisy/src/per/adc.h ****     uint8_t  mux_channels_;          /**< & */
  68:../../libDaisy/src/per/adc.h **** };
  69:../../libDaisy/src/per/adc.h **** 
  70:../../libDaisy/src/per/adc.h **** /**
  71:../../libDaisy/src/per/adc.h ****    @brief Handler for analog to digital conversion
  72:../../libDaisy/src/per/adc.h **** */
  73:../../libDaisy/src/per/adc.h **** class AdcHandle
  74:../../libDaisy/src/per/adc.h **** {
  75:../../libDaisy/src/per/adc.h ****   public:
  76:../../libDaisy/src/per/adc.h ****     /** Supported oversampling amounts */
  77:../../libDaisy/src/per/adc.h ****     enum OverSampling
  78:../../libDaisy/src/per/adc.h ****     {
  79:../../libDaisy/src/per/adc.h ****         OVS_NONE, /**< & */
  80:../../libDaisy/src/per/adc.h ****         OVS_4,    /**< & */
  81:../../libDaisy/src/per/adc.h ****         OVS_8,    /**< & */
  82:../../libDaisy/src/per/adc.h ****         OVS_16,   /**< & */
  83:../../libDaisy/src/per/adc.h ****         OVS_32,   /**< & */
  84:../../libDaisy/src/per/adc.h ****         OVS_64,   /**< & */
  85:../../libDaisy/src/per/adc.h ****         OVS_128,  /**< & */
  86:../../libDaisy/src/per/adc.h ****         OVS_256,  /**< & */
  87:../../libDaisy/src/per/adc.h ****         OVS_512,  /**< & */
  88:../../libDaisy/src/per/adc.h ****         OVS_1024, /**< & */
  89:../../libDaisy/src/per/adc.h ****         OVS_LAST, /**< & */
  90:../../libDaisy/src/per/adc.h ****     };
  91:../../libDaisy/src/per/adc.h **** 
  92:../../libDaisy/src/per/adc.h ****     AdcHandle() {}
  93:../../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 165              		.loc 12 93 5 is_stmt 1 view .LVU38
 166              		.loc 12 93 5 is_stmt 0 view .LVU39
 167              	.LBE613:
 168              	.LBB614:
 169              	.LBI614:
 170              		.file 13 "../../libDaisy/src/hid/audio.h"
   1:../../libDaisy/src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../../libDaisy/src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../../libDaisy/src/hid/audio.h **** 
ARM GAS  /tmp/cc1ZxEVo.s 			page 13


   4:../../libDaisy/src/hid/audio.h **** #include "per/sai.h"
   5:../../libDaisy/src/hid/audio.h **** 
   6:../../libDaisy/src/hid/audio.h **** namespace daisy
   7:../../libDaisy/src/hid/audio.h **** {
   8:../../libDaisy/src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../../libDaisy/src/hid/audio.h ****  *  @ingroup audio 
  10:../../libDaisy/src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../../libDaisy/src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../../libDaisy/src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../../libDaisy/src/hid/audio.h ****  *            is already taken  care of.
  14:../../libDaisy/src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../../libDaisy/src/hid/audio.h ****  *           you will have to take the following steps:
  16:../../libDaisy/src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../../libDaisy/src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../../libDaisy/src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../../libDaisy/src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../../libDaisy/src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../../libDaisy/src/hid/audio.h ****  */
  22:../../libDaisy/src/hid/audio.h **** class AudioHandle
  23:../../libDaisy/src/hid/audio.h **** {
  24:../../libDaisy/src/hid/audio.h ****   public:
  25:../../libDaisy/src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../../libDaisy/src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../../libDaisy/src/hid/audio.h ****     struct Config
  28:../../libDaisy/src/hid/audio.h ****     {
  29:../../libDaisy/src/hid/audio.h ****         /** number of samples to process per callback */
  30:../../libDaisy/src/hid/audio.h ****         size_t blocksize;
  31:../../libDaisy/src/hid/audio.h **** 
  32:../../libDaisy/src/hid/audio.h ****         /**< Sample rate of audio */
  33:../../libDaisy/src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  34:../../libDaisy/src/hid/audio.h **** 
  35:../../libDaisy/src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  36:../../libDaisy/src/hid/audio.h ****         float postgain;
  37:../../libDaisy/src/hid/audio.h **** 
  38:../../libDaisy/src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  39:../../libDaisy/src/hid/audio.h ****          *  have unequal input/output ranges
  40:../../libDaisy/src/hid/audio.h ****          */
  41:../../libDaisy/src/hid/audio.h ****         float output_compensation;
  42:../../libDaisy/src/hid/audio.h **** 
  43:../../libDaisy/src/hid/audio.h ****         /** Sets default values for config struct */
  44:../../libDaisy/src/hid/audio.h ****         Config()
  45:../../libDaisy/src/hid/audio.h ****         : blocksize(48),
  46:../../libDaisy/src/hid/audio.h ****           samplerate(SaiHandle::Config::SampleRate::SAI_48KHZ),
  47:../../libDaisy/src/hid/audio.h ****           postgain(1.f),
  48:../../libDaisy/src/hid/audio.h ****           output_compensation(1.f)
  49:../../libDaisy/src/hid/audio.h ****         {
  50:../../libDaisy/src/hid/audio.h ****         }
  51:../../libDaisy/src/hid/audio.h ****     };
  52:../../libDaisy/src/hid/audio.h **** 
  53:../../libDaisy/src/hid/audio.h ****     enum class Result
  54:../../libDaisy/src/hid/audio.h ****     {
  55:../../libDaisy/src/hid/audio.h ****         OK,
  56:../../libDaisy/src/hid/audio.h ****         ERR,
  57:../../libDaisy/src/hid/audio.h ****     };
  58:../../libDaisy/src/hid/audio.h **** 
  59:../../libDaisy/src/hid/audio.h ****     /** Non-Interleaving input buffer
  60:../../libDaisy/src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
ARM GAS  /tmp/cc1ZxEVo.s 			page 14


  61:../../libDaisy/src/hid/audio.h ****      * const so that the user can't modify the input
  62:../../libDaisy/src/hid/audio.h ****      */
  63:../../libDaisy/src/hid/audio.h ****     typedef const float* const* InputBuffer;
  64:../../libDaisy/src/hid/audio.h **** 
  65:../../libDaisy/src/hid/audio.h ****     /** Non-Interleaving output buffer
  66:../../libDaisy/src/hid/audio.h ****      * Arranged by float[chn][sample] 
  67:../../libDaisy/src/hid/audio.h ****      */
  68:../../libDaisy/src/hid/audio.h ****     typedef float** OutputBuffer;
  69:../../libDaisy/src/hid/audio.h **** 
  70:../../libDaisy/src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  71:../../libDaisy/src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  72:../../libDaisy/src/hid/audio.h ****      */
  73:../../libDaisy/src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  74:../../libDaisy/src/hid/audio.h ****                                   OutputBuffer out,
  75:../../libDaisy/src/hid/audio.h ****                                   size_t       size);
  76:../../libDaisy/src/hid/audio.h **** 
  77:../../libDaisy/src/hid/audio.h ****     /** Interleaving Input buffer
  78:../../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  79:../../libDaisy/src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  80:../../libDaisy/src/hid/audio.h ****     */
  81:../../libDaisy/src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  82:../../libDaisy/src/hid/audio.h **** 
  83:../../libDaisy/src/hid/audio.h ****     /** Interleaving Output buffer 
  84:../../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  85:../../libDaisy/src/hid/audio.h ****     */
  86:../../libDaisy/src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  87:../../libDaisy/src/hid/audio.h **** 
  88:../../libDaisy/src/hid/audio.h ****     /** Interleaving Audio Callback 
  89:../../libDaisy/src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  90:../../libDaisy/src/hid/audio.h ****      */
  91:../../libDaisy/src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  92:../../libDaisy/src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  93:../../libDaisy/src/hid/audio.h ****                                               size_t                   size);
  94:../../libDaisy/src/hid/audio.h **** 
  95:../../libDaisy/src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  96:../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 171              		.loc 13 96 5 is_stmt 1 view .LVU40
 172              		.loc 13 96 5 is_stmt 0 view .LVU41
 173              	.LBE614:
 174              	.LBE610:
 175              		.loc 3 36 18 view .LVU42
 176 0000 7047     		bx	lr
 177              		.cfi_endproc
 178              	.LFE2538:
 180              		.weak	_ZN5daisy8DaisyPodD1Ev
 181              		.thumb_set _ZN5daisy8DaisyPodD1Ev,_ZN5daisy8DaisyPodD2Ev
 182 0002 00BF     		.section	.text.__tcf_0,"ax",%progbits
 183              		.align	1
 184              		.p2align 2,,3
 185              		.syntax unified
 186              		.thumb
 187              		.thumb_func
 189              	__tcf_0:
 190              	.LFB5406:
 191              		.file 14 "Polysynth.cpp"
   1:Polysynth.cpp **** /*
   2:Polysynth.cpp **** Basic 4 voice synthesizer that has voice allocation via USB midi and an envelopes with decay.
ARM GAS  /tmp/cc1ZxEVo.s 			page 15


   3:Polysynth.cpp **** I made this to accompany my Monome Norns computer since I needed a simple additional polysynth for 
   4:Polysynth.cpp **** Todo:
   5:Polysynth.cpp **** Implement a Moog ladder filter with the same envelopes that's used for the VCA
   6:Polysynth.cpp **** Have waveforms selectable via the two pushbuttons
   7:Polysynth.cpp **** 
   8:Polysynth.cpp **** Controls are:
   9:Polysynth.cpp **** 
  10:Polysynth.cpp **** Pot1: Envelopes amount to filter (WIP)
  11:Polysynth.cpp **** Pot2: Decay of envelopes
  12:Polysynth.cpp **** Rotary encoder: Resonance of filter (WIP)
  13:Polysynth.cpp **** Pushbutton1: waveshape (WIP)
  14:Polysynth.cpp **** 
  15:Polysynth.cpp **** */
  16:Polysynth.cpp **** 
  17:Polysynth.cpp **** 
  18:Polysynth.cpp **** #include "daisy_pod.h"
  19:Polysynth.cpp **** #include "daisysp.h"
  20:Polysynth.cpp **** 
  21:Polysynth.cpp **** using namespace daisy;
  22:Polysynth.cpp **** using namespace daisysp;
  23:Polysynth.cpp **** 
  24:Polysynth.cpp **** #define voicecount 4
  25:Polysynth.cpp **** 
  26:Polysynth.cpp **** uint8_t voicenote[voicecount] = {0,0,0,0};
  27:Polysynth.cpp **** bool voicetrig[voicecount] = {0,0,0,0};//kind of redundant as of now since the envelopes is an AD e
  28:Polysynth.cpp **** uint8_t voicehist[voicecount] = {4, 3, 2, 1}; //use this for voice allocation method
  29:Polysynth.cpp **** Color      colors[10];
 192              		.loc 14 29 12 is_stmt 1 view -0
 193              		.cfi_startproc
 194              		@ args = 0, pretend = 0, frame = 0
 195              		@ frame_needed = 0, uses_anonymous_args = 0
 196              		@ link register save eliminated.
 197              		.loc 14 29 12 is_stmt 0 view .LVU44
 198 0000 7047     		bx	lr
 199              		.cfi_endproc
 200              	.LFE5406:
 202 0002 00BF     		.section	.text._ZN10filtStructD2Ev,"axG",%progbits,_ZN10filtStructD5Ev,comdat
 203              		.align	1
 204              		.p2align 2,,3
 205              		.weak	_ZN10filtStructD2Ev
 206              		.syntax unified
 207              		.thumb
 208              		.thumb_func
 210              	_ZN10filtStructD2Ev:
 211              	.LVL2:
 212              	.LFB5413:
  30:Polysynth.cpp **** int curveTimeMode;
  31:Polysynth.cpp **** 
  32:Polysynth.cpp **** Logger<LOGGER_SEMIHOST> logger;
  33:Polysynth.cpp **** 
  34:Polysynth.cpp **** struct envStruct
  35:Polysynth.cpp **** {
  36:Polysynth.cpp ****     AdEnv     env;
  37:Polysynth.cpp ****     Parameter attackParam;
  38:Polysynth.cpp ****     Parameter decayParam;
  39:Polysynth.cpp ****     Parameter curveParam;
  40:Polysynth.cpp ****     float     envSig;
ARM GAS  /tmp/cc1ZxEVo.s 			page 16


  41:Polysynth.cpp **** };
  42:Polysynth.cpp **** 
  43:Polysynth.cpp **** struct filtStruct
 213              		.loc 14 43 8 is_stmt 1 view -0
 214              		.cfi_startproc
 215              		@ args = 0, pretend = 0, frame = 0
 216              		@ frame_needed = 0, uses_anonymous_args = 0
 217              		@ link register save eliminated.
 218              	.LBB616:
 219              	.LBI616:
 220              		.loc 1 27 5 view .LVU46
 221              	.LBB617:
 222              	.LBI617:
 223              		.loc 2 23 5 view .LVU47
 224              		.loc 2 23 5 is_stmt 0 view .LVU48
 225              	.LBE617:
 226              	.LBE616:
 227              	.LBB618:
 228              	.LBI618:
 229              		.loc 1 27 5 is_stmt 1 view .LVU49
 230              	.LBB619:
 231              	.LBI619:
 232              		.loc 2 23 5 view .LVU50
 233              		.loc 2 23 5 is_stmt 0 view .LVU51
 234              	.LBE619:
 235              	.LBE618:
 236              	.LBB620:
 237              	.LBI620:
 238              		.loc 1 27 5 is_stmt 1 view .LVU52
 239              	.LBB621:
 240              	.LBI621:
 241              		.loc 2 23 5 view .LVU53
 242              		.loc 2 23 5 is_stmt 0 view .LVU54
 243              	.LBE621:
 244              	.LBE620:
 245              	.LBB622:
 246              	.LBI622:
 247              		.file 15 "../../DaisySP/Source/Filters/moogladder.h"
   1:../../DaisySP/Source/Filters/moogladder.h **** #pragma once
   2:../../DaisySP/Source/Filters/moogladder.h **** #ifndef DSY_MOOGLADDER_H
   3:../../DaisySP/Source/Filters/moogladder.h **** #define DSY_MOOGLADDER_H
   4:../../DaisySP/Source/Filters/moogladder.h **** 
   5:../../DaisySP/Source/Filters/moogladder.h **** #include <stdint.h>
   6:../../DaisySP/Source/Filters/moogladder.h **** #ifdef __cplusplus
   7:../../DaisySP/Source/Filters/moogladder.h **** 
   8:../../DaisySP/Source/Filters/moogladder.h **** namespace daisysp
   9:../../DaisySP/Source/Filters/moogladder.h **** {
  10:../../DaisySP/Source/Filters/moogladder.h **** /** Moog ladder filter module
  11:../../DaisySP/Source/Filters/moogladder.h **** 
  12:../../DaisySP/Source/Filters/moogladder.h **** Ported from soundpipe
  13:../../DaisySP/Source/Filters/moogladder.h **** 
  14:../../DaisySP/Source/Filters/moogladder.h **** Original author(s) : Victor Lazzarini, John ffitch (fast tanh), Bob Moog
  15:../../DaisySP/Source/Filters/moogladder.h **** 
  16:../../DaisySP/Source/Filters/moogladder.h **** */
  17:../../DaisySP/Source/Filters/moogladder.h **** class MoogLadder
  18:../../DaisySP/Source/Filters/moogladder.h **** {
  19:../../DaisySP/Source/Filters/moogladder.h ****   public:
ARM GAS  /tmp/cc1ZxEVo.s 			page 17


  20:../../DaisySP/Source/Filters/moogladder.h ****     MoogLadder() {}
  21:../../DaisySP/Source/Filters/moogladder.h ****     ~MoogLadder() {}
 248              		.loc 15 21 5 is_stmt 1 view .LVU55
 249              		.loc 15 21 5 is_stmt 0 view .LVU56
 250              	.LBE622:
 251              		.loc 14 43 8 view .LVU57
 252 0000 7047     		bx	lr
 253              		.cfi_endproc
 254              	.LFE5413:
 256              		.weak	_ZN10filtStructD1Ev
 257              		.thumb_set _ZN10filtStructD1Ev,_ZN10filtStructD2Ev
 258 0002 00BF     		.section	.text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev,"axG",%progbits,_ZN5daisy11MidiH
 259              		.align	1
 260              		.p2align 2,,3
 261              		.weak	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 266              	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:
 267              	.LVL3:
 268              	.LFB5416:
 269              		.loc 4 85 5 is_stmt 1 view -0
 270              		.cfi_startproc
 271              		@ args = 0, pretend = 0, frame = 0
 272              		@ frame_needed = 0, uses_anonymous_args = 0
 273              		@ link register save eliminated.
 274              	.LBB623:
 275              	.LBI623:
 276              		.file 16 "../../libDaisy/src/hid/usb_midi.h"
   1:../../libDaisy/src/hid/usb_midi.h **** #pragma once
   2:../../libDaisy/src/hid/usb_midi.h **** #ifndef __DSY_MIDIUSBTRANSPORT_H__
   3:../../libDaisy/src/hid/usb_midi.h **** #define __DSY_MIDIUSBTRANSPORT_H__
   4:../../libDaisy/src/hid/usb_midi.h **** 
   5:../../libDaisy/src/hid/usb_midi.h **** #include "hid/usb.h"
   6:../../libDaisy/src/hid/usb_midi.h **** #include "sys/system.h"
   7:../../libDaisy/src/hid/usb_midi.h **** #include "util/ringbuffer.h"
   8:../../libDaisy/src/hid/usb_midi.h **** 
   9:../../libDaisy/src/hid/usb_midi.h **** namespace daisy
  10:../../libDaisy/src/hid/usb_midi.h **** {
  11:../../libDaisy/src/hid/usb_midi.h **** /** @brief USB Transport for MIDI 
  12:../../libDaisy/src/hid/usb_midi.h ****  *  @ingroup midi
  13:../../libDaisy/src/hid/usb_midi.h ****  */
  14:../../libDaisy/src/hid/usb_midi.h **** class MidiUsbTransport
  15:../../libDaisy/src/hid/usb_midi.h **** {
  16:../../libDaisy/src/hid/usb_midi.h ****   public:
  17:../../libDaisy/src/hid/usb_midi.h ****     // MidiUsbTransport() {}
  18:../../libDaisy/src/hid/usb_midi.h ****     ~MidiUsbTransport() {}
 277              		.loc 16 18 5 view .LVU59
 278              		.loc 16 18 5 is_stmt 0 view .LVU60
 279              	.LBE623:
 280              		.loc 4 85 21 view .LVU61
 281 0000 7047     		bx	lr
 282              		.cfi_endproc
 283              	.LFE5416:
 285              		.weak	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev
 286              		.thumb_set _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev,_ZN5daisy11MidiHandlerINS_16MidiUsbT
 287 0002 00BF     		.section	.text.__tcf_2,"ax",%progbits
ARM GAS  /tmp/cc1ZxEVo.s 			page 18


 288              		.align	1
 289              		.p2align 2,,3
 290              		.syntax unified
 291              		.thumb
 292              		.thumb_func
 294              	__tcf_2:
 295              	.LFB5422:
 296              		.cfi_startproc
 297              		@ args = 0, pretend = 0, frame = 0
 298              		@ frame_needed = 0, uses_anonymous_args = 0
 299              		@ link register save eliminated.
 300 0000 7047     		bx	lr
 301              		.cfi_endproc
 302              	.LFE5422:
 304 0002 00BF     		.section	.text.__tcf_1,"ax",%progbits
 305              		.align	1
 306              		.p2align 2,,3
 307              		.syntax unified
 308              		.thumb
 309              		.thumb_func
 311              	__tcf_1:
 312              	.LFB5420:
 313              		.cfi_startproc
 314              		@ args = 0, pretend = 0, frame = 0
 315              		@ frame_needed = 0, uses_anonymous_args = 0
 316              		@ link register save eliminated.
 317 0000 7047     		bx	lr
 318              		.cfi_endproc
 319              	.LFE5420:
 321 0002 00BF     		.section	.text._ZL13AudioCallbackPKfPfj,"ax",%progbits
 322              		.align	1
 323              		.p2align 2,,3
 324              		.syntax unified
 325              		.thumb
 326              		.thumb_func
 328              	_ZL13AudioCallbackPKfPfj:
 329              	.LVL4:
 330              	.LFB4802:
  44:Polysynth.cpp **** {
  45:Polysynth.cpp ****     MoogLadder     filter;
  46:Polysynth.cpp ****     Parameter freqParam;
  47:Polysynth.cpp ****     Parameter resonanceParam;
  48:Polysynth.cpp ****     Parameter envFiltParam;
  49:Polysynth.cpp **** };
  50:Polysynth.cpp **** 
  51:Polysynth.cpp **** DaisyPod   hw;
  52:Polysynth.cpp **** Oscillator osc[voicecount];
  53:Polysynth.cpp **** Parameter  p_envf, p_decay;
  54:Polysynth.cpp **** 
  55:Polysynth.cpp **** MidiUsbHandler midi; //initialize midi object
  56:Polysynth.cpp **** envStruct envelopes[voicecount]; // envelopes struct
  57:Polysynth.cpp **** filtStruct   filter; // filter struct
  58:Polysynth.cpp **** 
  59:Polysynth.cpp **** void UpdateControls();
  60:Polysynth.cpp **** void NoteON(uint8_t note);
  61:Polysynth.cpp **** 
  62:Polysynth.cpp **** 
ARM GAS  /tmp/cc1ZxEVo.s 			page 19


  63:Polysynth.cpp **** 
  64:Polysynth.cpp **** static void AudioCallback(AudioHandle::InterleavingInputBuffer  in,
  65:Polysynth.cpp ****                           AudioHandle::InterleavingOutputBuffer out,
  66:Polysynth.cpp ****                           size_t                                size)
  67:Polysynth.cpp **** {
 331              		.loc 14 67 1 is_stmt 1 view -0
 332              		.cfi_startproc
 333              		@ args = 0, pretend = 0, frame = 0
 334              		@ frame_needed = 0, uses_anonymous_args = 0
  68:Polysynth.cpp ****     UpdateControls();
 335              		.loc 14 68 5 view .LVU63
 336              	.LBB641:
 337              	.LBI641:
  69:Polysynth.cpp **** 
  70:Polysynth.cpp ****     for(int i = 0; i < voicecount; i++)
  71:Polysynth.cpp ****     {
  72:Polysynth.cpp ****         osc[i].SetFreq(mtof(voicenote[i]));
  73:Polysynth.cpp ****     }
  74:Polysynth.cpp **** 
  75:Polysynth.cpp ****     // Audio Loop
  76:Polysynth.cpp ****     for(size_t i = 0; i < size; i += 2)
  77:Polysynth.cpp ****     {
  78:Polysynth.cpp **** 
  79:Polysynth.cpp ****         
  80:Polysynth.cpp ****         float sig = 0;
  81:Polysynth.cpp ****         for(int k = 0; k < voicecount; k++)
  82:Polysynth.cpp ****         {
  83:Polysynth.cpp ****             envelopes[k].envSig = envelopes[k].env.Process();
  84:Polysynth.cpp ****             sig += (osc[k].Process()*envelopes[k].envSig);
  85:Polysynth.cpp ****             
  86:Polysynth.cpp ****         }
  87:Polysynth.cpp **** 
  88:Polysynth.cpp ****         out[i]     = sig; //left out
  89:Polysynth.cpp ****         out[i + 1] = sig; //right out
  90:Polysynth.cpp ****         
  91:Polysynth.cpp ****     }
  92:Polysynth.cpp ****     //filter.Process(out[i+1]);
  93:Polysynth.cpp ****     
  94:Polysynth.cpp ****     
  95:Polysynth.cpp **** }
  96:Polysynth.cpp **** 
  97:Polysynth.cpp **** void InitSynth(float samplerate)
  98:Polysynth.cpp **** {
  99:Polysynth.cpp ****     // Init freq Parameter to knob1 using MIDI note numbers
 100:Polysynth.cpp ****     // min 10, max 127, curve linear
 101:Polysynth.cpp ****     //p_envf.Init(hw.knob1, 0, 1, Parameter::LINEAR);
 102:Polysynth.cpp ****     //p_decay.Init(hw.knob2, 0, 100, Parameter::LINEAR);
 103:Polysynth.cpp **** 
 104:Polysynth.cpp ****     for(int i = 0; i < 4; i++)
 105:Polysynth.cpp ****     {
 106:Polysynth.cpp ****         osc[i].Init(samplerate);
 107:Polysynth.cpp ****         osc[i].SetAmp(0.1f);
 108:Polysynth.cpp ****         osc[i].SetWaveform(Oscillator::WAVE_SIN);
 109:Polysynth.cpp ****         osc[i].SetFreq( mtof(voicenote[i]) );
 110:Polysynth.cpp ****     }
 111:Polysynth.cpp **** }
 112:Polysynth.cpp **** 
ARM GAS  /tmp/cc1ZxEVo.s 			page 20


 113:Polysynth.cpp **** void InitEnvelopes(float samplerate)
 114:Polysynth.cpp **** {
 115:Polysynth.cpp ****     for(int i = 0; i < voicecount; i++)
 116:Polysynth.cpp ****     {
 117:Polysynth.cpp ****         //envelopes values and Init
 118:Polysynth.cpp ****         envelopes[i].env.Init(samplerate);
 119:Polysynth.cpp ****         envelopes[i].env.SetMax(1);
 120:Polysynth.cpp ****         envelopes[i].env.SetMin(0);
 121:Polysynth.cpp ****         envelopes[i].env.SetCurve(0);
 122:Polysynth.cpp ****         envelopes[i].attackParam.Init(hw.knob1, .01,2,Parameter::EXPONENTIAL); //assign controls to
 123:Polysynth.cpp ****         envelopes[i].decayParam.Init(hw.knob2, .01,2,Parameter::EXPONENTIAL);
 124:Polysynth.cpp ****     }
 125:Polysynth.cpp **** 
 126:Polysynth.cpp **** }
 127:Polysynth.cpp **** 
 128:Polysynth.cpp **** void InitColors()
 129:Polysynth.cpp **** {
 130:Polysynth.cpp ****     for(int i = 0; i < 7; i++)
 131:Polysynth.cpp ****     {
 132:Polysynth.cpp ****         colors[i].Init((Color::PresetColor)i);
 133:Polysynth.cpp ****     }
 134:Polysynth.cpp ****     colors[7].Init(1, 1, 0);
 135:Polysynth.cpp ****     colors[8].Init(1, 0, 1);
 136:Polysynth.cpp ****     colors[9].Init(0, .7, .4);
 137:Polysynth.cpp **** }
 138:Polysynth.cpp **** 
 139:Polysynth.cpp **** 
 140:Polysynth.cpp **** int main(void)
 141:Polysynth.cpp **** {
 142:Polysynth.cpp ****     float samplerate;
 143:Polysynth.cpp ****     
 144:Polysynth.cpp ****     // Init everything
 145:Polysynth.cpp ****     hw.Init();
 146:Polysynth.cpp ****     hw.SetAudioBlockSize(4);
 147:Polysynth.cpp ****     samplerate = hw.AudioSampleRate();
 148:Polysynth.cpp ****     
 149:Polysynth.cpp ****     MidiUsbHandler::Config midi_cfg;
 150:Polysynth.cpp ****     midi_cfg.transport_config.periph = MidiUsbTransport::Config::INTERNAL;
 151:Polysynth.cpp ****     midi.Init(midi_cfg);
 152:Polysynth.cpp ****     hw.midi.StartReceive();
 153:Polysynth.cpp **** 
 154:Polysynth.cpp ****     InitSynth(samplerate);
 155:Polysynth.cpp ****     InitEnvelopes(samplerate);
 156:Polysynth.cpp ****     InitColors();
 157:Polysynth.cpp ****     
 158:Polysynth.cpp ****     // start callbacks
 159:Polysynth.cpp ****     hw.StartAdc();
 160:Polysynth.cpp ****     hw.StartAudio(AudioCallback);
 161:Polysynth.cpp ****     //logger.StartLog(true);
 162:Polysynth.cpp ****     //logger.PrintLine("Logging started");
 163:Polysynth.cpp **** 
 164:Polysynth.cpp ****     while(1) 
 165:Polysynth.cpp ****     {
 166:Polysynth.cpp ****  	 /** Listen to MIDI for new changes */
 167:Polysynth.cpp ****         midi.Listen();
 168:Polysynth.cpp ****         hw.midi.Listen();
 169:Polysynth.cpp ****         /** When there are messages waiting in the queue... */
ARM GAS  /tmp/cc1ZxEVo.s 			page 21


 170:Polysynth.cpp ****         while(midi.HasEvents())
 171:Polysynth.cpp ****         {
 172:Polysynth.cpp ****             /** Pull the oldest one from the list... */
 173:Polysynth.cpp ****             auto msg = midi.PopEvent();
 174:Polysynth.cpp ****             switch(msg.type)
 175:Polysynth.cpp ****             {
 176:Polysynth.cpp ****                 case NoteOn:
 177:Polysynth.cpp ****                 {
 178:Polysynth.cpp ****                     /** and change the frequency of the oscillator */
 179:Polysynth.cpp ****                     auto note_msg = msg.AsNoteOn();
 180:Polysynth.cpp ****                     //osc[0].SetFreq(mtof(note_msg.note));
 181:Polysynth.cpp ****                     NoteON(note_msg.note);
 182:Polysynth.cpp ****                     hw.UpdateLeds();
 183:Polysynth.cpp ****                 }
 184:Polysynth.cpp ****                 break;
 185:Polysynth.cpp ****                 
 186:Polysynth.cpp ****                 default: break;
 187:Polysynth.cpp ****             }
 188:Polysynth.cpp ****         }   
 189:Polysynth.cpp ****         while(hw.midi.HasEvents())
 190:Polysynth.cpp ****         {
 191:Polysynth.cpp ****             /** Pull the oldest one from the list... */
 192:Polysynth.cpp ****             auto msg = hw.midi.PopEvent();
 193:Polysynth.cpp ****             switch(msg.type)
 194:Polysynth.cpp ****             {
 195:Polysynth.cpp ****                 case NoteOn:
 196:Polysynth.cpp ****                 {
 197:Polysynth.cpp ****                     /** and change the frequency of the oscillator */
 198:Polysynth.cpp ****                     auto note_msg = msg.AsNoteOn();
 199:Polysynth.cpp ****                     //osc[0].SetFreq(mtof(note_msg.note));
 200:Polysynth.cpp ****                     NoteON(note_msg.note);
 201:Polysynth.cpp ****                     hw.UpdateLeds();
 202:Polysynth.cpp ****                 }
 203:Polysynth.cpp ****                 break;
 204:Polysynth.cpp ****         
 205:Polysynth.cpp ****                 default: break;
 206:Polysynth.cpp ****             }
 207:Polysynth.cpp ****         }   
 208:Polysynth.cpp ****     }
 209:Polysynth.cpp **** }
 210:Polysynth.cpp **** 
 211:Polysynth.cpp **** void UpdateEncoder()
 212:Polysynth.cpp **** {
 213:Polysynth.cpp ****     if(hw.encoder.RisingEdge())
 214:Polysynth.cpp ****     {
 215:Polysynth.cpp ****     
 216:Polysynth.cpp ****     }
 217:Polysynth.cpp **** 
 218:Polysynth.cpp ****     //chordNum += hw.encoder.Increment();
 219:Polysynth.cpp **** }
 220:Polysynth.cpp **** 
 221:Polysynth.cpp **** void UpdateKnobs()
 222:Polysynth.cpp **** {
 223:Polysynth.cpp ****     for(int i = 0; i<voicecount;i++)
 224:Polysynth.cpp ****     {
 225:Polysynth.cpp ****         envelopes[i].env.SetTime(ADENV_SEG_ATTACK,
 226:Polysynth.cpp ****                                         envelopes[i].attackParam.Process());
ARM GAS  /tmp/cc1ZxEVo.s 			page 22


 227:Polysynth.cpp ****         envelopes[i].env.SetTime(ADENV_SEG_DECAY,
 228:Polysynth.cpp ****                                         envelopes[i].decayParam.Process());
 229:Polysynth.cpp ****     }
 230:Polysynth.cpp **** }
 231:Polysynth.cpp **** 
 232:Polysynth.cpp **** 
 233:Polysynth.cpp **** void UpdateControls()
 338              		.loc 14 233 6 view .LVU64
 339              	.LBB642:
 234:Polysynth.cpp **** {
 235:Polysynth.cpp ****     hw.ProcessAnalogControls();
 340              		.loc 14 235 5 view .LVU65
 341              	.LBE642:
 342              	.LBE641:
  67:Polysynth.cpp ****     UpdateControls();
 343              		.loc 14 67 1 is_stmt 0 view .LVU66
 344 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 345              		.cfi_def_cfa_offset 40
 346              		.cfi_offset 3, -40
 347              		.cfi_offset 4, -36
 348              		.cfi_offset 5, -32
 349              		.cfi_offset 6, -28
 350              		.cfi_offset 7, -24
 351              		.cfi_offset 8, -20
 352              		.cfi_offset 9, -16
 353              		.cfi_offset 10, -12
 354              		.cfi_offset 11, -8
 355              		.cfi_offset 14, -4
 356 0004 DFF8F890 		ldr	r9, .L20+20
 357 0008 0E46     		mov	r6, r1
 358              	.LBB654:
 359              	.LBB651:
 360              		.loc 14 235 29 view .LVU67
 361 000a 3848     		ldr	r0, .L20
 362              	.LVL5:
 363              		.loc 14 235 29 view .LVU68
 364              	.LBE651:
 365              	.LBE654:
  67:Polysynth.cpp ****     UpdateControls();
 366              		.loc 14 67 1 view .LVU69
 367 000c 1746     		mov	r7, r2
 368 000e 09F13804 		add	r4, r9, #56
 369 0012 09F57275 		add	r5, r9, #968
 370 0016 2DED028B 		vpush.64	{d8}
 371              		.cfi_def_cfa_offset 48
 372              		.cfi_offset 80, -48
 373              		.cfi_offset 81, -44
 374              	.LBB655:
 375              	.LBB652:
 376              		.loc 14 235 29 view .LVU70
 377 001a FFF7FEFF 		bl	_ZN5daisy8DaisyPod21ProcessAnalogControlsEv
 378              	.LVL6:
 236:Polysynth.cpp ****     hw.ProcessDigitalControls();
 379              		.loc 14 236 5 is_stmt 1 view .LVU71
 380              		.loc 14 236 30 is_stmt 0 view .LVU72
 381 001e 3348     		ldr	r0, .L20
 382 0020 FFF7FEFF 		bl	_ZN5daisy8DaisyPod22ProcessDigitalControlsEv
ARM GAS  /tmp/cc1ZxEVo.s 			page 23


 383              	.LVL7:
 237:Polysynth.cpp ****     hw.UpdateLeds();
 384              		.loc 14 237 5 is_stmt 1 view .LVU73
 385              		.loc 14 237 18 is_stmt 0 view .LVU74
 386 0024 3148     		ldr	r0, .L20
 387 0026 FFF7FEFF 		bl	_ZN5daisy8DaisyPod10UpdateLedsEv
 388              	.LVL8:
 238:Polysynth.cpp ****     UpdateEncoder();
 389              		.loc 14 238 5 is_stmt 1 view .LVU75
 390              	.LBE652:
 391              	.LBE655:
 213:Polysynth.cpp ****     {
 392              		.loc 14 213 5 view .LVU76
  22:../../libDaisy/src/hid/encoder.h **** 
  23:../../libDaisy/src/hid/encoder.h ****     /** Initializes the encoder with the specified hardware pins.
  24:../../libDaisy/src/hid/encoder.h ****      * Update rate is to be deprecated in a future release
  25:../../libDaisy/src/hid/encoder.h ****      */
  26:../../libDaisy/src/hid/encoder.h ****     void Init(dsy_gpio_pin a,
  27:../../libDaisy/src/hid/encoder.h ****               dsy_gpio_pin b,
  28:../../libDaisy/src/hid/encoder.h ****               dsy_gpio_pin click,
  29:../../libDaisy/src/hid/encoder.h ****               float        update_rate = 0.f);
  30:../../libDaisy/src/hid/encoder.h ****     /** Called at update_rate to debounce and handle timing for the switch.
  31:../../libDaisy/src/hid/encoder.h ****      * In order for events not to be missed, its important that the Edge/Pressed checks be made at 
  32:../../libDaisy/src/hid/encoder.h ****      */
  33:../../libDaisy/src/hid/encoder.h ****     void Debounce();
  34:../../libDaisy/src/hid/encoder.h **** 
  35:../../libDaisy/src/hid/encoder.h ****     /** Returns +1 if the encoder was turned clockwise, -1 if it was turned counter-clockwise, or 0
  36:../../libDaisy/src/hid/encoder.h ****     inline int32_t Increment() const { return updated_ ? inc_ : 0; }
  37:../../libDaisy/src/hid/encoder.h **** 
  38:../../libDaisy/src/hid/encoder.h ****     /** Returns true if the encoder was just pressed. */
  39:../../libDaisy/src/hid/encoder.h ****     inline bool RisingEdge() const { return sw_.RisingEdge(); }
 393              		.loc 8 39 38 view .LVU77
  43:../../libDaisy/src/hid/switch.h **** 
  44:../../libDaisy/src/hid/switch.h ****     /** 
  45:../../libDaisy/src/hid/switch.h ****     Initializes the switch object with a given port/pin combo.
  46:../../libDaisy/src/hid/switch.h ****     \param pin port/pin object to tell the switch which hardware pin to use.
  47:../../libDaisy/src/hid/switch.h ****     \param update_rate Does nothing. Backwards compatibility until next breaking update.
  48:../../libDaisy/src/hid/switch.h ****     \param t switch type -- Default: TYPE_MOMENTARY
  49:../../libDaisy/src/hid/switch.h ****     \param pol switch polarity -- Default: POLARITY_INVERTED
  50:../../libDaisy/src/hid/switch.h ****     \param pu switch pull up/down -- Default: PULL_UP
  51:../../libDaisy/src/hid/switch.h ****     */
  52:../../libDaisy/src/hid/switch.h ****     void
  53:../../libDaisy/src/hid/switch.h ****     Init(dsy_gpio_pin pin, float update_rate, Type t, Polarity pol, Pull pu);
  54:../../libDaisy/src/hid/switch.h **** 
  55:../../libDaisy/src/hid/switch.h ****     /**
  56:../../libDaisy/src/hid/switch.h ****        Simplified Init.
  57:../../libDaisy/src/hid/switch.h ****        \param pin port/pin object to tell the switch which hardware pin to use.
  58:../../libDaisy/src/hid/switch.h ****        \param update_rate Left for backwards compatibility until next breaking change.
  59:../../libDaisy/src/hid/switch.h ****     */
  60:../../libDaisy/src/hid/switch.h ****     void Init(dsy_gpio_pin pin, float update_rate = 0.f);
  61:../../libDaisy/src/hid/switch.h **** 
  62:../../libDaisy/src/hid/switch.h ****     /** 
  63:../../libDaisy/src/hid/switch.h ****     Called at update_rate to debounce and handle timing for the switch.
  64:../../libDaisy/src/hid/switch.h ****     In order for events not to be missed, its important that the Edge/Pressed checks
  65:../../libDaisy/src/hid/switch.h ****     be made at the same rate as the debounce function is being called.
  66:../../libDaisy/src/hid/switch.h ****     */
  67:../../libDaisy/src/hid/switch.h ****     void Debounce();
ARM GAS  /tmp/cc1ZxEVo.s 			page 24


  68:../../libDaisy/src/hid/switch.h **** 
  69:../../libDaisy/src/hid/switch.h ****     /** \return true if a button was just pressed. */
  70:../../libDaisy/src/hid/switch.h ****     inline bool RisingEdge() const { return updated_ ? state_ == 0x7f : false; }
 394              		.loc 7 70 38 view .LVU78
 395              	.LBB656:
 396              	.LBB653:
 239:Polysynth.cpp ****     UpdateKnobs();
 397              		.loc 14 239 5 view .LVU79
 398              	.LBB643:
 399              	.LBI643:
 221:Polysynth.cpp **** {
 400              		.loc 14 221 6 view .LVU80
 401              	.LBB644:
 223:Polysynth.cpp ****     {
 402              		.loc 14 223 21 view .LVU81
 403              	.L10:
 225:Polysynth.cpp ****                                         envelopes[i].attackParam.Process());
 404              		.loc 14 225 9 view .LVU82
 225:Polysynth.cpp ****                                         envelopes[i].attackParam.Process());
 405              		.loc 14 225 33 is_stmt 0 view .LVU83
 406 002a 2046     		mov	r0, r4
 407 002c FFF7FEFF 		bl	_ZN5daisy9Parameter7ProcessEv
 408              	.LVL9:
 409              	.LBB645:
 410              	.LBI645:
 411              		.file 17 "../../DaisySP/Source/Control/adenv.h"
   1:../../DaisySP/Source/Control/adenv.h **** #pragma once
   2:../../DaisySP/Source/Control/adenv.h **** #ifndef ADENV_H
   3:../../DaisySP/Source/Control/adenv.h **** #define ADENV_H
   4:../../DaisySP/Source/Control/adenv.h **** #include <stdint.h>
   5:../../DaisySP/Source/Control/adenv.h **** #ifdef __cplusplus
   6:../../DaisySP/Source/Control/adenv.h **** 
   7:../../DaisySP/Source/Control/adenv.h **** namespace daisysp
   8:../../DaisySP/Source/Control/adenv.h **** {
   9:../../DaisySP/Source/Control/adenv.h **** /** Distinct stages that the phase of the envelope can be located in.
  10:../../DaisySP/Source/Control/adenv.h ****     @see AdEnv
  11:../../DaisySP/Source/Control/adenv.h **** */
  12:../../DaisySP/Source/Control/adenv.h **** enum AdEnvSegment
  13:../../DaisySP/Source/Control/adenv.h **** {
  14:../../DaisySP/Source/Control/adenv.h ****     /** located at phase location 0, and not currently running */
  15:../../DaisySP/Source/Control/adenv.h ****     ADENV_SEG_IDLE,
  16:../../DaisySP/Source/Control/adenv.h ****     /** First segment of envelope where phase moves from MIN value to MAX value */
  17:../../DaisySP/Source/Control/adenv.h ****     ADENV_SEG_ATTACK,
  18:../../DaisySP/Source/Control/adenv.h ****     /** Second segment of envelope where phase moves from MAX to MIN value */
  19:../../DaisySP/Source/Control/adenv.h ****     ADENV_SEG_DECAY,
  20:../../DaisySP/Source/Control/adenv.h ****     /** The final segment of the envelope (currently decay) */
  21:../../DaisySP/Source/Control/adenv.h ****     ADENV_SEG_LAST,
  22:../../DaisySP/Source/Control/adenv.h **** };
  23:../../DaisySP/Source/Control/adenv.h **** 
  24:../../DaisySP/Source/Control/adenv.h **** /** Trigger-able envelope with adjustable min/max, and independent per-segment time control.
  25:../../DaisySP/Source/Control/adenv.h **** 
  26:../../DaisySP/Source/Control/adenv.h ****     \author shensley
  27:../../DaisySP/Source/Control/adenv.h ****     \todo - Add Cycling
  28:../../DaisySP/Source/Control/adenv.h ****     \todo - Implement Curve (its only linear for now).
  29:../../DaisySP/Source/Control/adenv.h ****     \todo - Maybe make this an ADsr_ that has AD/AR/Asr_ modes.
  30:../../DaisySP/Source/Control/adenv.h ****  */
  31:../../DaisySP/Source/Control/adenv.h **** class AdEnv
ARM GAS  /tmp/cc1ZxEVo.s 			page 25


  32:../../DaisySP/Source/Control/adenv.h **** {
  33:../../DaisySP/Source/Control/adenv.h ****   public:
  34:../../DaisySP/Source/Control/adenv.h ****     AdEnv() {}
  35:../../DaisySP/Source/Control/adenv.h ****     ~AdEnv() {}
  36:../../DaisySP/Source/Control/adenv.h ****     /** Initializes the ad envelope.
  37:../../DaisySP/Source/Control/adenv.h **** 
  38:../../DaisySP/Source/Control/adenv.h ****         Defaults:
  39:../../DaisySP/Source/Control/adenv.h ****             - current segment = idle
  40:../../DaisySP/Source/Control/adenv.h ****             - curve = linear
  41:../../DaisySP/Source/Control/adenv.h ****             - phase = 0
  42:../../DaisySP/Source/Control/adenv.h ****             - min = 0
  43:../../DaisySP/Source/Control/adenv.h ****             - max = 1
  44:../../DaisySP/Source/Control/adenv.h **** 
  45:../../DaisySP/Source/Control/adenv.h ****         \param sample_rate      sample rate of the audio engine being run
  46:../../DaisySP/Source/Control/adenv.h ****     */
  47:../../DaisySP/Source/Control/adenv.h ****     void Init(float sample_rate);
  48:../../DaisySP/Source/Control/adenv.h **** 
  49:../../DaisySP/Source/Control/adenv.h ****     /** Processes the current sample of the envelope. This should be called once
  50:../../DaisySP/Source/Control/adenv.h ****         per sample period.
  51:../../DaisySP/Source/Control/adenv.h ****         \return the current envelope value.
  52:../../DaisySP/Source/Control/adenv.h ****     */
  53:../../DaisySP/Source/Control/adenv.h ****     float Process();
  54:../../DaisySP/Source/Control/adenv.h **** 
  55:../../DaisySP/Source/Control/adenv.h ****     /** Starts or retriggers the envelope.*/
  56:../../DaisySP/Source/Control/adenv.h ****     inline void Trigger() { trigger_ = 1; }
  57:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
  58:../../DaisySP/Source/Control/adenv.h ****     inline void SetTime(uint8_t seg, float time) { segment_time_[seg] = time; }
 412              		.loc 17 58 17 is_stmt 1 view .LVU84
 413              	.LBB646:
 414              		.loc 17 58 52 view .LVU85
 415              	.LBE646:
 416              	.LBE645:
 227:Polysynth.cpp ****                                         envelopes[i].decayParam.Process());
 417              		.loc 14 227 33 is_stmt 0 view .LVU86
 418 0030 04F13800 		add	r0, r4, #56
 419              	.LBB648:
 420              	.LBB647:
 421              		.loc 17 58 71 view .LVU87
 422 0034 04ED0C0A 		vstr.32	s0, [r4, #-48]
 423              	.LVL10:
 424              		.loc 17 58 71 view .LVU88
 425              	.LBE647:
 426              	.LBE648:
 227:Polysynth.cpp ****                                         envelopes[i].decayParam.Process());
 427              		.loc 14 227 9 is_stmt 1 view .LVU89
 227:Polysynth.cpp ****                                         envelopes[i].decayParam.Process());
 428              		.loc 14 227 33 is_stmt 0 view .LVU90
 429 0038 FFF7FEFF 		bl	_ZN5daisy9Parameter7ProcessEv
 430              	.LVL11:
 431              	.LBB649:
 432              	.LBI649:
 433              		.loc 17 58 17 is_stmt 1 view .LVU91
 434              	.LBB650:
 435              		.loc 17 58 52 view .LVU92
 436              		.loc 17 58 71 is_stmt 0 view .LVU93
 437 003c 04ED0B0A 		vstr.32	s0, [r4, #-44]
 438              	.LVL12:
ARM GAS  /tmp/cc1ZxEVo.s 			page 26


 439              		.loc 17 58 71 view .LVU94
 440              	.LBE650:
 441              	.LBE649:
 223:Polysynth.cpp ****     {
 442              		.loc 14 223 5 is_stmt 1 view .LVU95
 223:Polysynth.cpp ****     {
 443              		.loc 14 223 21 view .LVU96
 444 0040 E434     		adds	r4, r4, #228
 445 0042 AC42     		cmp	r4, r5
 446 0044 F1D1     		bne	.L10
 447 0046 2A4D     		ldr	r5, .L20+4
 448 0048 DFF8B8A0 		ldr	r10, .L20+24
 449 004c 05F10408 		add	r8, r5, #4
 450 0050 5446     		mov	r4, r10
 451              	.L11:
 452              	.LVL13:
 223:Polysynth.cpp ****     {
 453              		.loc 14 223 21 is_stmt 0 view .LVU97
 454              	.LBE644:
 455              	.LBE643:
 456              	.LBE653:
 457              	.LBE656:
 458              	.LBB657:
  72:Polysynth.cpp ****     }
 459              		.loc 14 72 9 is_stmt 1 discriminator 2 view .LVU98
  72:Polysynth.cpp ****     }
 460              		.loc 14 72 40 is_stmt 0 discriminator 2 view .LVU99
 461 0052 15F8013B 		ldrb	r3, [r5], #1	@ zero_extendqisi2
 462              	.LVL14:
 463              	.LBB658:
 464              	.LBB659:
 465              		.file 18 "../../DaisySP/Source/Utility/dsp.h"
   1:../../DaisySP/Source/Utility/dsp.h **** /** Helpful defines, functions, and other utilities for use in/with daisysp modules.
   2:../../DaisySP/Source/Utility/dsp.h **** */
   3:../../DaisySP/Source/Utility/dsp.h **** #pragma once
   4:../../DaisySP/Source/Utility/dsp.h **** #ifndef DSY_CORE_DSP
   5:../../DaisySP/Source/Utility/dsp.h **** #define DSY_CORE_DSP
   6:../../DaisySP/Source/Utility/dsp.h **** #include <cassert>
   7:../../DaisySP/Source/Utility/dsp.h **** #include <cstdint>
   8:../../DaisySP/Source/Utility/dsp.h **** #include <random>
   9:../../DaisySP/Source/Utility/dsp.h **** #include <cmath>
  10:../../DaisySP/Source/Utility/dsp.h **** 
  11:../../DaisySP/Source/Utility/dsp.h **** /** PIs
  12:../../DaisySP/Source/Utility/dsp.h **** */
  13:../../DaisySP/Source/Utility/dsp.h **** #define PI_F 3.1415927410125732421875f
  14:../../DaisySP/Source/Utility/dsp.h **** #define TWOPI_F (2.0f * PI_F)
  15:../../DaisySP/Source/Utility/dsp.h **** #define HALFPI_F (PI_F * 0.5f)
  16:../../DaisySP/Source/Utility/dsp.h **** #define DSY_MIN(in, mn) (in < mn ? in : mn)
  17:../../DaisySP/Source/Utility/dsp.h **** #define DSY_MAX(in, mx) (in > mx ? in : mx)
  18:../../DaisySP/Source/Utility/dsp.h **** #define DSY_CLAMP(in, mn, mx) (DSY_MIN(DSY_MAX(in, mn), mx))
  19:../../DaisySP/Source/Utility/dsp.h **** #define DSY_COUNTOF(_arr) (sizeof(_arr) / sizeof(_arr[0]))
  20:../../DaisySP/Source/Utility/dsp.h **** 
  21:../../DaisySP/Source/Utility/dsp.h **** namespace daisysp
  22:../../DaisySP/Source/Utility/dsp.h **** {
  23:../../DaisySP/Source/Utility/dsp.h **** //Avoids division for random floats. e.g. rand() * kRandFrac
  24:../../DaisySP/Source/Utility/dsp.h **** static constexpr float kRandFrac = 1.f / (float)RAND_MAX;
  25:../../DaisySP/Source/Utility/dsp.h **** 
ARM GAS  /tmp/cc1ZxEVo.s 			page 27


  26:../../DaisySP/Source/Utility/dsp.h **** //Convert from semitones to other units. e.g. 2 ^ (kOneTwelfth * x)
  27:../../DaisySP/Source/Utility/dsp.h **** static constexpr float kOneTwelfth = 1.f / 12.f;
  28:../../DaisySP/Source/Utility/dsp.h **** 
  29:../../DaisySP/Source/Utility/dsp.h **** /** efficient floating point min/max
  30:../../DaisySP/Source/Utility/dsp.h **** c/o stephen mccaul
  31:../../DaisySP/Source/Utility/dsp.h **** */
  32:../../DaisySP/Source/Utility/dsp.h **** inline float fmax(float a, float b)
  33:../../DaisySP/Source/Utility/dsp.h **** {
  34:../../DaisySP/Source/Utility/dsp.h ****     float r;
  35:../../DaisySP/Source/Utility/dsp.h **** #ifdef __arm__
  36:../../DaisySP/Source/Utility/dsp.h ****     asm("vmaxnm.f32 %[d], %[n], %[m]" : [d] "=t"(r) : [n] "t"(a), [m] "t"(b) :);
  37:../../DaisySP/Source/Utility/dsp.h **** #else
  38:../../DaisySP/Source/Utility/dsp.h ****     r = (a > b) ? a : b;
  39:../../DaisySP/Source/Utility/dsp.h **** #endif // __arm__
  40:../../DaisySP/Source/Utility/dsp.h ****     return r;
  41:../../DaisySP/Source/Utility/dsp.h **** }
  42:../../DaisySP/Source/Utility/dsp.h **** 
  43:../../DaisySP/Source/Utility/dsp.h **** inline float fmin(float a, float b)
  44:../../DaisySP/Source/Utility/dsp.h **** {
  45:../../DaisySP/Source/Utility/dsp.h ****     float r;
  46:../../DaisySP/Source/Utility/dsp.h **** #ifdef __arm__
  47:../../DaisySP/Source/Utility/dsp.h ****     asm("vminnm.f32 %[d], %[n], %[m]" : [d] "=t"(r) : [n] "t"(a), [m] "t"(b) :);
  48:../../DaisySP/Source/Utility/dsp.h **** #else
  49:../../DaisySP/Source/Utility/dsp.h ****     r = (a < b) ? a : b;
  50:../../DaisySP/Source/Utility/dsp.h **** #endif // __arm__
  51:../../DaisySP/Source/Utility/dsp.h ****     return r;
  52:../../DaisySP/Source/Utility/dsp.h **** }
  53:../../DaisySP/Source/Utility/dsp.h **** 
  54:../../DaisySP/Source/Utility/dsp.h **** /** quick fp clamp
  55:../../DaisySP/Source/Utility/dsp.h **** */
  56:../../DaisySP/Source/Utility/dsp.h **** inline float fclamp(float in, float min, float max)
  57:../../DaisySP/Source/Utility/dsp.h **** {
  58:../../DaisySP/Source/Utility/dsp.h ****     return fmin(fmax(in, min), max);
  59:../../DaisySP/Source/Utility/dsp.h **** }
  60:../../DaisySP/Source/Utility/dsp.h **** 
  61:../../DaisySP/Source/Utility/dsp.h **** /** From Musicdsp.org "Fast power and root estimates for 32bit floats)
  62:../../DaisySP/Source/Utility/dsp.h **** Original code by Stefan Stenzel
  63:../../DaisySP/Source/Utility/dsp.h **** These are approximations
  64:../../DaisySP/Source/Utility/dsp.h **** */
  65:../../DaisySP/Source/Utility/dsp.h **** inline float fastpower(float f, int n)
  66:../../DaisySP/Source/Utility/dsp.h **** {
  67:../../DaisySP/Source/Utility/dsp.h ****     long *lp, l;
  68:../../DaisySP/Source/Utility/dsp.h ****     lp = (long *)(&f);
  69:../../DaisySP/Source/Utility/dsp.h ****     l  = *lp;
  70:../../DaisySP/Source/Utility/dsp.h ****     l -= 0x3F800000;
  71:../../DaisySP/Source/Utility/dsp.h ****     l <<= (n - 1);
  72:../../DaisySP/Source/Utility/dsp.h ****     l += 0x3F800000;
  73:../../DaisySP/Source/Utility/dsp.h ****     *lp = l;
  74:../../DaisySP/Source/Utility/dsp.h ****     return f;
  75:../../DaisySP/Source/Utility/dsp.h **** }
  76:../../DaisySP/Source/Utility/dsp.h **** 
  77:../../DaisySP/Source/Utility/dsp.h **** inline float fastroot(float f, int n)
  78:../../DaisySP/Source/Utility/dsp.h **** {
  79:../../DaisySP/Source/Utility/dsp.h ****     long *lp, l;
  80:../../DaisySP/Source/Utility/dsp.h ****     lp = (long *)(&f);
  81:../../DaisySP/Source/Utility/dsp.h ****     l  = *lp;
  82:../../DaisySP/Source/Utility/dsp.h ****     l -= 0x3F800000;
ARM GAS  /tmp/cc1ZxEVo.s 			page 28


  83:../../DaisySP/Source/Utility/dsp.h ****     l >>= (n = 1);
  84:../../DaisySP/Source/Utility/dsp.h ****     l += 0x3F800000;
  85:../../DaisySP/Source/Utility/dsp.h ****     *lp = l;
  86:../../DaisySP/Source/Utility/dsp.h ****     return f;
  87:../../DaisySP/Source/Utility/dsp.h **** }
  88:../../DaisySP/Source/Utility/dsp.h **** 
  89:../../DaisySP/Source/Utility/dsp.h **** /** From http://openaudio.blogspot.com/2017/02/faster-log10-and-pow.html
  90:../../DaisySP/Source/Utility/dsp.h **** No approximation, pow10f(x) gives a 90% speed increase over powf(10.f, x)
  91:../../DaisySP/Source/Utility/dsp.h **** */
  92:../../DaisySP/Source/Utility/dsp.h **** inline float pow10f(float f)
  93:../../DaisySP/Source/Utility/dsp.h **** {
  94:../../DaisySP/Source/Utility/dsp.h ****     return expf(2.302585092994046f * f);
  95:../../DaisySP/Source/Utility/dsp.h **** }
  96:../../DaisySP/Source/Utility/dsp.h **** 
  97:../../DaisySP/Source/Utility/dsp.h **** /* Original code for fastlog2f by Dr. Paul Beckmann from the ARM community forum, adapted from the 
  98:../../DaisySP/Source/Utility/dsp.h **** About 25% performance increase over std::log10f
  99:../../DaisySP/Source/Utility/dsp.h **** */
 100:../../DaisySP/Source/Utility/dsp.h **** inline float fastlog2f(float f)
 101:../../DaisySP/Source/Utility/dsp.h **** {
 102:../../DaisySP/Source/Utility/dsp.h ****     float frac;
 103:../../DaisySP/Source/Utility/dsp.h ****     int   exp;
 104:../../DaisySP/Source/Utility/dsp.h ****     frac = frexpf(fabsf(f), &exp);
 105:../../DaisySP/Source/Utility/dsp.h ****     f    = 1.23149591368684f;
 106:../../DaisySP/Source/Utility/dsp.h ****     f *= frac;
 107:../../DaisySP/Source/Utility/dsp.h ****     f += -4.11852516267426f;
 108:../../DaisySP/Source/Utility/dsp.h ****     f *= frac;
 109:../../DaisySP/Source/Utility/dsp.h ****     f += 6.02197014179219f;
 110:../../DaisySP/Source/Utility/dsp.h ****     f *= frac;
 111:../../DaisySP/Source/Utility/dsp.h ****     f += -3.13396450166353f;
 112:../../DaisySP/Source/Utility/dsp.h ****     f += exp;
 113:../../DaisySP/Source/Utility/dsp.h ****     return (f);
 114:../../DaisySP/Source/Utility/dsp.h **** }
 115:../../DaisySP/Source/Utility/dsp.h **** 
 116:../../DaisySP/Source/Utility/dsp.h **** inline float fastlog10f(float f)
 117:../../DaisySP/Source/Utility/dsp.h **** {
 118:../../DaisySP/Source/Utility/dsp.h ****     return fastlog2f(f) * 0.3010299956639812f;
 119:../../DaisySP/Source/Utility/dsp.h **** }
 120:../../DaisySP/Source/Utility/dsp.h **** 
 121:../../DaisySP/Source/Utility/dsp.h **** /** Midi to frequency helper
 122:../../DaisySP/Source/Utility/dsp.h **** */
 123:../../DaisySP/Source/Utility/dsp.h **** inline float mtof(float m)
 124:../../DaisySP/Source/Utility/dsp.h **** {
 125:../../DaisySP/Source/Utility/dsp.h ****     return powf(2, (m - 69.0f) / 12.0f) * 440.0f;
 466              		.loc 18 125 16 discriminator 2 view .LVU100
 467 0056 F2EE080A 		vmov.f32	s1, #1.2e+1
 468              		.loc 18 125 23 discriminator 2 view .LVU101
 469 005a 9FED267A 		vldr.32	s14, .L20+8
 470              		.loc 18 125 16 discriminator 2 view .LVU102
 471 005e B0EE000A 		vmov.f32	s0, #2.0e+0
 472              	.LBE659:
 473              	.LBE658:
  72:Polysynth.cpp ****     }
 474              		.loc 14 72 40 discriminator 2 view .LVU103
 475 0062 07EE903A 		vmov	s15, r3	@ int
 476              	.LVL15:
 477              	.LBB663:
 478              	.LBI658:
ARM GAS  /tmp/cc1ZxEVo.s 			page 29


 123:../../DaisySP/Source/Utility/dsp.h **** {
 479              		.loc 18 123 14 is_stmt 1 discriminator 2 view .LVU104
 480              	.LBB660:
 481              		.loc 18 125 5 discriminator 2 view .LVU105
 482              	.LBE660:
 483              	.LBE663:
  72:Polysynth.cpp ****     }
 484              		.loc 14 72 23 is_stmt 0 discriminator 2 view .LVU106
 485 0066 F8EE677A 		vcvt.f32.u32	s15, s15
 486              	.LBB664:
 487              	.LBB661:
 488              		.loc 18 125 23 discriminator 2 view .LVU107
 489 006a 77EEC77A 		vsub.f32	s15, s15, s14
 490              		.loc 18 125 16 discriminator 2 view .LVU108
 491 006e C7EEA00A 		vdiv.f32	s1, s15, s1
 492 0072 FFF7FEFF 		bl	powf
 493              	.LVL16:
 494              		.loc 18 125 43 discriminator 2 view .LVU109
 495 0076 DFED207A 		vldr.32	s15, .L20+12
 496              	.LBE661:
 497              	.LBE664:
 498              	.LBB665:
 499              	.LBB666:
 500              		.file 19 "../../DaisySP/Source/Synthesis/oscillator.h"
   1:../../DaisySP/Source/Synthesis/oscillator.h **** #pragma once
   2:../../DaisySP/Source/Synthesis/oscillator.h **** #ifndef DSY_OSCILLATOR_H
   3:../../DaisySP/Source/Synthesis/oscillator.h **** #define DSY_OSCILLATOR_H
   4:../../DaisySP/Source/Synthesis/oscillator.h **** #include <stdint.h>
   5:../../DaisySP/Source/Synthesis/oscillator.h **** #include "Utility/dsp.h"
   6:../../DaisySP/Source/Synthesis/oscillator.h **** #ifdef __cplusplus
   7:../../DaisySP/Source/Synthesis/oscillator.h **** 
   8:../../DaisySP/Source/Synthesis/oscillator.h **** namespace daisysp
   9:../../DaisySP/Source/Synthesis/oscillator.h **** {
  10:../../DaisySP/Source/Synthesis/oscillator.h **** /** Synthesis of several waveforms, including polyBLEP bandlimited waveforms.
  11:../../DaisySP/Source/Synthesis/oscillator.h **** */
  12:../../DaisySP/Source/Synthesis/oscillator.h **** class Oscillator
  13:../../DaisySP/Source/Synthesis/oscillator.h **** {
  14:../../DaisySP/Source/Synthesis/oscillator.h ****   public:
  15:../../DaisySP/Source/Synthesis/oscillator.h ****     Oscillator() {}
  16:../../DaisySP/Source/Synthesis/oscillator.h ****     ~Oscillator() {}
  17:../../DaisySP/Source/Synthesis/oscillator.h ****     /** Choices for output waveforms, POLYBLEP are appropriately labeled. Others are naive forms.
  18:../../DaisySP/Source/Synthesis/oscillator.h ****     */
  19:../../DaisySP/Source/Synthesis/oscillator.h ****     enum
  20:../../DaisySP/Source/Synthesis/oscillator.h ****     {
  21:../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_SIN,
  22:../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_TRI,
  23:../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_SAW,
  24:../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_RAMP,
  25:../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_SQUARE,
  26:../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_POLYBLEP_TRI,
  27:../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_POLYBLEP_SAW,
  28:../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_POLYBLEP_SQUARE,
  29:../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_LAST,
  30:../../DaisySP/Source/Synthesis/oscillator.h ****     };
  31:../../DaisySP/Source/Synthesis/oscillator.h **** 
  32:../../DaisySP/Source/Synthesis/oscillator.h **** 
  33:../../DaisySP/Source/Synthesis/oscillator.h ****     /** Initializes the Oscillator
ARM GAS  /tmp/cc1ZxEVo.s 			page 30


  34:../../DaisySP/Source/Synthesis/oscillator.h **** 
  35:../../DaisySP/Source/Synthesis/oscillator.h ****         \param sample_rate - sample rate of the audio engine being run, and the frequency that the 
  36:../../DaisySP/Source/Synthesis/oscillator.h **** 
  37:../../DaisySP/Source/Synthesis/oscillator.h ****         Defaults:
  38:../../DaisySP/Source/Synthesis/oscillator.h ****         - freq_ = 100 Hz
  39:../../DaisySP/Source/Synthesis/oscillator.h ****         - amp_ = 0.5
  40:../../DaisySP/Source/Synthesis/oscillator.h ****         - waveform_ = sine wave.
  41:../../DaisySP/Source/Synthesis/oscillator.h ****     */
  42:../../DaisySP/Source/Synthesis/oscillator.h ****     void Init(float sample_rate)
  43:../../DaisySP/Source/Synthesis/oscillator.h ****     {
  44:../../DaisySP/Source/Synthesis/oscillator.h ****         sr_        = sample_rate;
  45:../../DaisySP/Source/Synthesis/oscillator.h ****         sr_recip_  = 1.0f / sample_rate;
  46:../../DaisySP/Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
  47:../../DaisySP/Source/Synthesis/oscillator.h ****         amp_       = 0.5f;
  48:../../DaisySP/Source/Synthesis/oscillator.h ****         pw_        = 0.5f;
  49:../../DaisySP/Source/Synthesis/oscillator.h ****         pw_rad_    = pw_ * TWOPI_F;
  50:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_     = 0.0f;
  51:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(freq_);
  52:../../DaisySP/Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
  53:../../DaisySP/Source/Synthesis/oscillator.h ****         eoc_       = true;
  54:../../DaisySP/Source/Synthesis/oscillator.h ****         eor_       = true;
  55:../../DaisySP/Source/Synthesis/oscillator.h ****     }
  56:../../DaisySP/Source/Synthesis/oscillator.h **** 
  57:../../DaisySP/Source/Synthesis/oscillator.h **** 
  58:../../DaisySP/Source/Synthesis/oscillator.h ****     /** Changes the frequency of the Oscillator, and recalculates phase increment.
  59:../../DaisySP/Source/Synthesis/oscillator.h ****     */
  60:../../DaisySP/Source/Synthesis/oscillator.h ****     inline void SetFreq(const float f)
  61:../../DaisySP/Source/Synthesis/oscillator.h ****     {
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         freq_      = f;
  63:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 501              		.loc 19 63 34 discriminator 2 view .LVU110
 502 007a 2046     		mov	r0, r4
 503              	.LBE666:
 504              	.LBE665:
  70:Polysynth.cpp ****     {
 505              		.loc 14 70 22 discriminator 2 view .LVU111
 506 007c 3034     		adds	r4, r4, #48
 507              	.LBB669:
 508              	.LBB662:
 509              		.loc 18 125 43 discriminator 2 view .LVU112
 510 007e 20EE270A 		vmul.f32	s0, s0, s15
 511              	.LVL17:
 512              		.loc 18 125 43 discriminator 2 view .LVU113
 513              	.LBE662:
 514              	.LBE669:
 515              	.LBB670:
 516              	.LBI665:
  60:../../DaisySP/Source/Synthesis/oscillator.h ****     {
 517              		.loc 19 60 17 is_stmt 1 discriminator 2 view .LVU114
 518              	.LBB667:
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 519              		.loc 19 62 9 discriminator 2 view .LVU115
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 520              		.loc 19 62 20 is_stmt 0 discriminator 2 view .LVU116
 521 0082 04ED0A0A 		vstr.32	s0, [r4, #-40]
 522              		.loc 19 63 9 is_stmt 1 discriminator 2 view .LVU117
 523              		.loc 19 63 34 is_stmt 0 discriminator 2 view .LVU118
ARM GAS  /tmp/cc1ZxEVo.s 			page 31


 524 0086 FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 525              	.LVL18:
 526              		.loc 19 63 34 discriminator 2 view .LVU119
 527              	.LBE667:
 528              	.LBE670:
  70:Polysynth.cpp ****     {
 529              		.loc 14 70 22 discriminator 2 view .LVU120
 530 008a A845     		cmp	r8, r5
 531              	.LBB671:
 532              	.LBB668:
 533              		.loc 19 63 20 discriminator 2 view .LVU121
 534 008c 04ED040A 		vstr.32	s0, [r4, #-16]
 535              		.loc 19 63 20 discriminator 2 view .LVU122
 536              	.LBE668:
 537              	.LBE671:
  70:Polysynth.cpp ****     {
 538              		.loc 14 70 5 is_stmt 1 discriminator 2 view .LVU123
 539              	.LVL19:
  70:Polysynth.cpp ****     {
 540              		.loc 14 70 22 discriminator 2 view .LVU124
 541 0090 DFD1     		bne	.L11
 542              	.LVL20:
  70:Polysynth.cpp ****     {
 543              		.loc 14 70 22 is_stmt 0 discriminator 2 view .LVU125
 544              	.LBE657:
 545              	.LBB672:
  76:Polysynth.cpp ****     {
 546              		.loc 14 76 25 is_stmt 1 view .LVU126
 547 0092 3FB3     		cbz	r7, .L9
 548 0094 07F1FF3B 		add	fp, r7, #-1
 549 0098 4FF00008 		mov	r8, #0
 550 009c 09F56477 		add	r7, r9, #912
 551              	.LVL21:
  76:Polysynth.cpp ****     {
 552              		.loc 14 76 25 is_stmt 0 view .LVU127
 553 00a0 4FEA5B0B 		lsr	fp, fp, #1
 554              	.LVL22:
 555              	.L15:
  76:Polysynth.cpp ****     {
 556              		.loc 14 76 25 view .LVU128
 557 00a4 5546     		mov	r5, r10
 558 00a6 4C46     		mov	r4, r9
 559              	.LBB673:
  80:Polysynth.cpp ****         for(int k = 0; k < voicecount; k++)
 560              		.loc 14 80 15 view .LVU129
 561 00a8 9FED148A 		vldr.32	s16, .L20+16
 562              	.L13:
 563              	.LVL23:
 564              	.LBB674:
  83:Polysynth.cpp ****             sig += (osc[k].Process()*envelopes[k].envSig);
 565              		.loc 14 83 13 is_stmt 1 discriminator 2 view .LVU130
  83:Polysynth.cpp ****             sig += (osc[k].Process()*envelopes[k].envSig);
 566              		.loc 14 83 59 is_stmt 0 discriminator 2 view .LVU131
 567 00ac 2046     		mov	r0, r4
  81:Polysynth.cpp ****         {
 568              		.loc 14 81 26 discriminator 2 view .LVU132
 569 00ae E434     		adds	r4, r4, #228
ARM GAS  /tmp/cc1ZxEVo.s 			page 32


  83:Polysynth.cpp ****             sig += (osc[k].Process()*envelopes[k].envSig);
 570              		.loc 14 83 59 discriminator 2 view .LVU133
 571 00b0 FFF7FEFF 		bl	_ZN7daisysp5AdEnv7ProcessEv
 572              	.LVL24:
  84:Polysynth.cpp ****             
 573              		.loc 14 84 35 discriminator 2 view .LVU134
 574 00b4 2846     		mov	r0, r5
  83:Polysynth.cpp ****             sig += (osc[k].Process()*envelopes[k].envSig);
 575              		.loc 14 83 33 discriminator 2 view .LVU135
 576 00b6 04ED010A 		vstr.32	s0, [r4, #-4]
  84:Polysynth.cpp ****             
 577              		.loc 14 84 13 is_stmt 1 discriminator 2 view .LVU136
  81:Polysynth.cpp ****         {
 578              		.loc 14 81 26 is_stmt 0 discriminator 2 view .LVU137
 579 00ba 3035     		adds	r5, r5, #48
  84:Polysynth.cpp ****             
 580              		.loc 14 84 35 discriminator 2 view .LVU138
 581 00bc FFF7FEFF 		bl	_ZN7daisysp10Oscillator7ProcessEv
 582              	.LVL25:
  84:Polysynth.cpp ****             
 583              		.loc 14 84 17 discriminator 2 view .LVU139
 584 00c0 54ED017A 		vldr.32	s15, [r4, #-4]
  81:Polysynth.cpp ****         {
 585              		.loc 14 81 26 discriminator 2 view .LVU140
 586 00c4 A742     		cmp	r7, r4
  84:Polysynth.cpp ****             
 587              		.loc 14 84 17 discriminator 2 view .LVU141
 588 00c6 A0EE278A 		vfma.f32	s16, s0, s15
 589              	.LVL26:
  81:Polysynth.cpp ****         {
 590              		.loc 14 81 9 is_stmt 1 discriminator 2 view .LVU142
  81:Polysynth.cpp ****         {
 591              		.loc 14 81 26 discriminator 2 view .LVU143
 592 00ca EFD1     		bne	.L13
 593              	.LBE674:
  88:Polysynth.cpp ****         out[i + 1] = sig; //right out
 594              		.loc 14 88 9 discriminator 2 view .LVU144
 595              	.LBE673:
  76:Polysynth.cpp ****     {
 596              		.loc 14 76 25 is_stmt 0 discriminator 2 view .LVU145
 597 00cc D845     		cmp	r8, fp
 598              	.LBB675:
  88:Polysynth.cpp ****         out[i + 1] = sig; //right out
 599              		.loc 14 88 20 discriminator 2 view .LVU146
 600 00ce 86ED008A 		vstr.32	s16, [r6]
  89:Polysynth.cpp ****         
 601              		.loc 14 89 9 is_stmt 1 discriminator 2 view .LVU147
  89:Polysynth.cpp ****         
 602              		.loc 14 89 20 is_stmt 0 discriminator 2 view .LVU148
 603 00d2 86ED018A 		vstr.32	s16, [r6, #4]
 604              	.LBE675:
  76:Polysynth.cpp ****     {
 605              		.loc 14 76 5 is_stmt 1 discriminator 2 view .LVU149
 606              	.LVL27:
  76:Polysynth.cpp ****     {
 607              		.loc 14 76 25 discriminator 2 view .LVU150
 608 00d6 08F10103 		add	r3, r8, #1
ARM GAS  /tmp/cc1ZxEVo.s 			page 33


 609 00da 06F10806 		add	r6, r6, #8
 610 00de 01D0     		beq	.L9
 611 00e0 9846     		mov	r8, r3
 612              	.LVL28:
  76:Polysynth.cpp ****     {
 613              		.loc 14 76 25 is_stmt 0 discriminator 2 view .LVU151
 614 00e2 DFE7     		b	.L15
 615              	.LVL29:
 616              	.L9:
  76:Polysynth.cpp ****     {
 617              		.loc 14 76 25 discriminator 2 view .LVU152
 618              	.LBE672:
  95:Polysynth.cpp **** 
 619              		.loc 14 95 1 view .LVU153
 620 00e4 BDEC028B 		vldm	sp!, {d8}
 621              		.cfi_restore 80
 622              		.cfi_restore 81
 623              		.cfi_def_cfa_offset 40
 624 00e8 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 625              	.L21:
 626              		.align	2
 627              	.L20:
 628 00ec 00000000 		.word	hw
 629 00f0 00000000 		.word	.LANCHOR1
 630 00f4 00008A42 		.word	1116340224
 631 00f8 0000DC43 		.word	1138491392
 632 00fc 00000000 		.word	0
 633 0100 00000000 		.word	.LANCHOR0
 634 0104 00000000 		.word	.LANCHOR2
 635              		.cfi_endproc
 636              	.LFE4802:
 638              		.section	.text._Z9InitSynthf,"ax",%progbits
 639              		.align	1
 640              		.p2align 2,,3
 641              		.global	_Z9InitSynthf
 642              		.syntax unified
 643              		.thumb
 644              		.thumb_func
 646              	_Z9InitSynthf:
 647              	.LVL30:
 648              	.LFB4803:
  98:Polysynth.cpp ****     // Init freq Parameter to knob1 using MIDI note numbers
 649              		.loc 14 98 1 is_stmt 1 view -0
 650              		.cfi_startproc
 651              		@ args = 0, pretend = 0, frame = 0
 652              		@ frame_needed = 0, uses_anonymous_args = 0
 104:Polysynth.cpp ****     {
 653              		.loc 14 104 5 view .LVU155
 654              	.LBB687:
 104:Polysynth.cpp ****     {
 655              		.loc 14 104 22 view .LVU156
 656              	.LBB688:
 657              	.LBB689:
  45:../../DaisySP/Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
 658              		.loc 19 45 27 is_stmt 0 view .LVU157
 659 0000 F7EE007A 		vmov.f32	s15, #1.0e+0
 660              	.LBE689:
ARM GAS  /tmp/cc1ZxEVo.s 			page 34


 661              	.LBE688:
 662              	.LBE687:
  98:Polysynth.cpp ****     // Init freq Parameter to knob1 using MIDI note numbers
 663              		.loc 14 98 1 view .LVU158
 664 0004 70B5     		push	{r4, r5, r6, lr}
 665              		.cfi_def_cfa_offset 16
 666              		.cfi_offset 4, -16
 667              		.cfi_offset 5, -12
 668              		.cfi_offset 6, -8
 669              		.cfi_offset 14, -4
 670 0006 2DED028B 		vpush.64	{d8}
 671              		.cfi_def_cfa_offset 24
 672              		.cfi_offset 80, -24
 673              		.cfi_offset 81, -20
 674              	.LBB724:
 675              	.LBB697:
 676              	.LBB690:
  45:../../DaisySP/Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
 677              		.loc 19 45 27 view .LVU159
 678 000a C7EE808A 		vdiv.f32	s17, s15, s0
 679 000e 244C     		ldr	r4, .L26
 680 0010 244D     		ldr	r5, .L26+4
 681 0012 04F1C006 		add	r6, r4, #192
 682              	.LBE690:
 683              	.LBE697:
 684              	.LBE724:
  98:Polysynth.cpp ****     // Init freq Parameter to knob1 using MIDI note numbers
 685              		.loc 14 98 1 view .LVU160
 686 0016 B0EE408A 		vmov.f32	s16, s0
 687              	.LVL31:
 688              	.L23:
 689              	.LBB725:
 106:Polysynth.cpp ****         osc[i].SetAmp(0.1f);
 690              		.loc 14 106 9 is_stmt 1 discriminator 2 view .LVU161
 691              	.LBB698:
 692              	.LBI688:
  42:../../DaisySP/Source/Synthesis/oscillator.h ****     {
 693              		.loc 19 42 10 discriminator 2 view .LVU162
 694              	.LBB691:
  44:../../DaisySP/Source/Synthesis/oscillator.h ****         sr_recip_  = 1.0f / sample_rate;
 695              		.loc 19 44 9 discriminator 2 view .LVU163
  47:../../DaisySP/Source/Synthesis/oscillator.h ****         pw_        = 0.5f;
 696              		.loc 19 47 20 is_stmt 0 discriminator 2 view .LVU164
 697 001a 4FF07C53 		mov	r3, #1056964608
  49:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_     = 0.0f;
 698              		.loc 19 49 20 discriminator 2 view .LVU165
 699 001e 2249     		ldr	r1, .L26+8
  50:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(freq_);
 700              		.loc 19 50 20 discriminator 2 view .LVU166
 701 0020 0022     		movs	r2, #0
  46:../../DaisySP/Source/Synthesis/oscillator.h ****         amp_       = 0.5f;
 702              		.loc 19 46 20 discriminator 2 view .LVU167
 703 0022 9FED220A 		vldr.32	s0, .L26+12
  51:../../DaisySP/Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 704              		.loc 19 51 34 discriminator 2 view .LVU168
 705 0026 2046     		mov	r0, r4
  47:../../DaisySP/Source/Synthesis/oscillator.h ****         pw_        = 0.5f;
ARM GAS  /tmp/cc1ZxEVo.s 			page 35


 706              		.loc 19 47 20 discriminator 2 view .LVU169
 707 0028 6360     		str	r3, [r4, #4]	@ float
  48:../../DaisySP/Source/Synthesis/oscillator.h ****         pw_rad_    = pw_ * TWOPI_F;
 708              		.loc 19 48 20 discriminator 2 view .LVU170
 709 002a E360     		str	r3, [r4, #12]	@ float
  49:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_     = 0.0f;
 710              		.loc 19 49 20 discriminator 2 view .LVU171
 711 002c 2161     		str	r1, [r4, #16]	@ float
  50:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(freq_);
 712              		.loc 19 50 20 discriminator 2 view .LVU172
 713 002e E261     		str	r2, [r4, #28]	@ float
  44:../../DaisySP/Source/Synthesis/oscillator.h ****         sr_recip_  = 1.0f / sample_rate;
 714              		.loc 19 44 20 discriminator 2 view .LVU173
 715 0030 84ED058A 		vstr.32	s16, [r4, #20]
  45:../../DaisySP/Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
 716              		.loc 19 45 9 is_stmt 1 discriminator 2 view .LVU174
  45:../../DaisySP/Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
 717              		.loc 19 45 20 is_stmt 0 discriminator 2 view .LVU175
 718 0034 C4ED068A 		vstr.32	s17, [r4, #24]
  46:../../DaisySP/Source/Synthesis/oscillator.h ****         amp_       = 0.5f;
 719              		.loc 19 46 9 is_stmt 1 discriminator 2 view .LVU176
  46:../../DaisySP/Source/Synthesis/oscillator.h ****         amp_       = 0.5f;
 720              		.loc 19 46 20 is_stmt 0 discriminator 2 view .LVU177
 721 0038 84ED020A 		vstr.32	s0, [r4, #8]
  47:../../DaisySP/Source/Synthesis/oscillator.h ****         pw_        = 0.5f;
 722              		.loc 19 47 9 is_stmt 1 discriminator 2 view .LVU178
  48:../../DaisySP/Source/Synthesis/oscillator.h ****         pw_rad_    = pw_ * TWOPI_F;
 723              		.loc 19 48 9 discriminator 2 view .LVU179
  49:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_     = 0.0f;
 724              		.loc 19 49 9 discriminator 2 view .LVU180
  50:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(freq_);
 725              		.loc 19 50 9 discriminator 2 view .LVU181
  51:../../DaisySP/Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 726              		.loc 19 51 9 discriminator 2 view .LVU182
  51:../../DaisySP/Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 727              		.loc 19 51 34 is_stmt 0 discriminator 2 view .LVU183
 728 003c FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 729              	.LVL32:
 730              	.LBE691:
 731              	.LBE698:
 109:Polysynth.cpp ****     }
 732              		.loc 14 109 41 discriminator 2 view .LVU184
 733 0040 15F8013B 		ldrb	r3, [r5], #1	@ zero_extendqisi2
 734              	.LVL33:
 735              	.LBB699:
 736              	.LBB700:
 737              		.loc 18 125 16 discriminator 2 view .LVU185
 738 0044 F2EE080A 		vmov.f32	s1, #1.2e+1
 739              		.loc 18 125 23 discriminator 2 view .LVU186
 740 0048 9FED197A 		vldr.32	s14, .L26+16
 741              	.LBE700:
 742              	.LBE699:
 743              	.LBB705:
 744              	.LBB692:
  51:../../DaisySP/Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 745              		.loc 19 51 34 discriminator 2 view .LVU187
 746 004c F0EE406A 		vmov.f32	s13, s0
ARM GAS  /tmp/cc1ZxEVo.s 			page 36


 747              	.LBE692:
 748              	.LBE705:
 109:Polysynth.cpp ****     }
 749              		.loc 14 109 41 discriminator 2 view .LVU188
 750 0050 07EE903A 		vmov	s15, r3	@ int
 751              	.LBB706:
 752              	.LBB693:
  52:../../DaisySP/Source/Synthesis/oscillator.h ****         eoc_       = true;
 753              		.loc 19 52 20 discriminator 2 view .LVU189
 754 0054 0021     		movs	r1, #0
  53:../../DaisySP/Source/Synthesis/oscillator.h ****         eor_       = true;
 755              		.loc 19 53 20 discriminator 2 view .LVU190
 756 0056 0123     		movs	r3, #1
 757              	.LBE693:
 758              	.LBE706:
 759              	.LBB707:
 760              	.LBB708:
  64:../../DaisySP/Source/Synthesis/oscillator.h ****     }
  65:../../DaisySP/Source/Synthesis/oscillator.h **** 
  66:../../DaisySP/Source/Synthesis/oscillator.h **** 
  67:../../DaisySP/Source/Synthesis/oscillator.h ****     /** Sets the amplitude of the waveform.
  68:../../DaisySP/Source/Synthesis/oscillator.h ****     */
  69:../../DaisySP/Source/Synthesis/oscillator.h ****     inline void SetAmp(const float a) { amp_ = a; }
 761              		.loc 19 69 46 discriminator 2 view .LVU191
 762 0058 164A     		ldr	r2, .L26+20
 763              	.LBE708:
 764              	.LBE707:
 109:Polysynth.cpp ****     }
 765              		.loc 14 109 23 discriminator 2 view .LVU192
 766 005a F8EE677A 		vcvt.f32.u32	s15, s15
 767              	.LBB710:
 768              	.LBB694:
  51:../../DaisySP/Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 769              		.loc 19 51 20 discriminator 2 view .LVU193
 770 005e C4ED086A 		vstr.32	s13, [r4, #32]
  52:../../DaisySP/Source/Synthesis/oscillator.h ****         eoc_       = true;
 771              		.loc 19 52 9 is_stmt 1 discriminator 2 view .LVU194
 772              	.LBE694:
 773              	.LBE710:
 774              	.LBB711:
 775              	.LBB701:
 776              		.loc 18 125 16 is_stmt 0 discriminator 2 view .LVU195
 777 0062 B0EE000A 		vmov.f32	s0, #2.0e+0
 778              	.LBE701:
 779              	.LBE711:
 780              	.LBB712:
 781              	.LBB695:
  52:../../DaisySP/Source/Synthesis/oscillator.h ****         eoc_       = true;
 782              		.loc 19 52 20 discriminator 2 view .LVU196
 783 0066 2170     		strb	r1, [r4]
  53:../../DaisySP/Source/Synthesis/oscillator.h ****         eor_       = true;
 784              		.loc 19 53 9 is_stmt 1 discriminator 2 view .LVU197
  53:../../DaisySP/Source/Synthesis/oscillator.h ****         eor_       = true;
 785              		.loc 19 53 20 is_stmt 0 discriminator 2 view .LVU198
 786 0068 84F82D30 		strb	r3, [r4, #45]
  54:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 787              		.loc 19 54 9 is_stmt 1 discriminator 2 view .LVU199
ARM GAS  /tmp/cc1ZxEVo.s 			page 37


 788              	.LBE695:
 789              	.LBE712:
 790              	.LBB713:
 791              	.LBB702:
 792              		.loc 18 125 23 is_stmt 0 discriminator 2 view .LVU200
 793 006c 77EEC77A 		vsub.f32	s15, s15, s14
 794              	.LBE702:
 795              	.LBE713:
 796              	.LBB714:
 797              	.LBB696:
  54:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 798              		.loc 19 54 20 discriminator 2 view .LVU201
 799 0070 84F82C30 		strb	r3, [r4, #44]
 800              	.LVL34:
  54:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 801              		.loc 19 54 20 discriminator 2 view .LVU202
 802              	.LBE696:
 803              	.LBE714:
 107:Polysynth.cpp ****         osc[i].SetWaveform(Oscillator::WAVE_SIN);
 804              		.loc 14 107 9 is_stmt 1 discriminator 2 view .LVU203
 805              	.LBB715:
 806              	.LBI707:
 807              		.loc 19 69 17 discriminator 2 view .LVU204
 808              	.LBB709:
 809              		.loc 19 69 41 discriminator 2 view .LVU205
 810              		.loc 19 69 46 is_stmt 0 discriminator 2 view .LVU206
 811 0074 6260     		str	r2, [r4, #4]	@ float
 812              	.LVL35:
 813              		.loc 19 69 46 discriminator 2 view .LVU207
 814              	.LBE709:
 815              	.LBE715:
 108:Polysynth.cpp ****         osc[i].SetFreq( mtof(voicenote[i]) );
 816              		.loc 14 108 9 is_stmt 1 discriminator 2 view .LVU208
 108:Polysynth.cpp ****         osc[i].SetFreq( mtof(voicenote[i]) );
 817              		.loc 14 108 9 is_stmt 0 discriminator 2 view .LVU209
 818              	.LBE725:
  70:../../DaisySP/Source/Synthesis/oscillator.h ****     /** Sets the waveform to be synthesized by the Process() function.
  71:../../DaisySP/Source/Synthesis/oscillator.h ****     */
  72:../../DaisySP/Source/Synthesis/oscillator.h ****     inline void SetWaveform(const uint8_t wf)
  73:../../DaisySP/Source/Synthesis/oscillator.h ****     {
  74:../../DaisySP/Source/Synthesis/oscillator.h ****         waveform_ = wf < WAVE_LAST ? wf : WAVE_SIN;
 819              		.loc 19 74 9 is_stmt 1 discriminator 2 view .LVU210
 820              	.LBB726:
 109:Polysynth.cpp ****     }
 821              		.loc 14 109 9 discriminator 2 view .LVU211
 822              	.LBB716:
 823              	.LBI699:
 123:../../DaisySP/Source/Utility/dsp.h **** {
 824              		.loc 18 123 14 discriminator 2 view .LVU212
 825              	.LBB703:
 826              		.loc 18 125 5 discriminator 2 view .LVU213
 827              		.loc 18 125 16 is_stmt 0 discriminator 2 view .LVU214
 828 0076 C7EEA00A 		vdiv.f32	s1, s15, s1
 829 007a FFF7FEFF 		bl	powf
 830              	.LVL36:
 831              		.loc 18 125 43 discriminator 2 view .LVU215
 832 007e DFED0E7A 		vldr.32	s15, .L26+24
ARM GAS  /tmp/cc1ZxEVo.s 			page 38


 833              	.LBE703:
 834              	.LBE716:
 835              	.LBB717:
 836              	.LBB718:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 837              		.loc 19 63 34 discriminator 2 view .LVU216
 838 0082 2046     		mov	r0, r4
 839              	.LBE718:
 840              	.LBE717:
 104:Polysynth.cpp ****     {
 841              		.loc 14 104 22 discriminator 2 view .LVU217
 842 0084 3034     		adds	r4, r4, #48
 843              	.LBB721:
 844              	.LBB704:
 845              		.loc 18 125 43 discriminator 2 view .LVU218
 846 0086 20EE270A 		vmul.f32	s0, s0, s15
 847              	.LVL37:
 848              		.loc 18 125 43 discriminator 2 view .LVU219
 849              	.LBE704:
 850              	.LBE721:
 851              	.LBB722:
 852              	.LBI717:
  60:../../DaisySP/Source/Synthesis/oscillator.h ****     {
 853              		.loc 19 60 17 is_stmt 1 discriminator 2 view .LVU220
 854              	.LBB719:
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 855              		.loc 19 62 9 discriminator 2 view .LVU221
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 856              		.loc 19 62 20 is_stmt 0 discriminator 2 view .LVU222
 857 008a 04ED0A0A 		vstr.32	s0, [r4, #-40]
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 858              		.loc 19 63 9 is_stmt 1 discriminator 2 view .LVU223
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 859              		.loc 19 63 34 is_stmt 0 discriminator 2 view .LVU224
 860 008e FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 861              	.LVL38:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 862              		.loc 19 63 34 discriminator 2 view .LVU225
 863              	.LBE719:
 864              	.LBE722:
 104:Polysynth.cpp ****     {
 865              		.loc 14 104 22 discriminator 2 view .LVU226
 866 0092 B442     		cmp	r4, r6
 867              	.LBB723:
 868              	.LBB720:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 869              		.loc 19 63 20 discriminator 2 view .LVU227
 870 0094 04ED040A 		vstr.32	s0, [r4, #-16]
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 871              		.loc 19 63 20 discriminator 2 view .LVU228
 872              	.LBE720:
 873              	.LBE723:
 104:Polysynth.cpp ****     {
 874              		.loc 14 104 5 is_stmt 1 discriminator 2 view .LVU229
 875              	.LVL39:
 104:Polysynth.cpp ****     {
 876              		.loc 14 104 22 discriminator 2 view .LVU230
ARM GAS  /tmp/cc1ZxEVo.s 			page 39


 877 0098 BFD1     		bne	.L23
 878              	.LBE726:
 111:Polysynth.cpp **** 
 879              		.loc 14 111 1 is_stmt 0 view .LVU231
 880 009a BDEC028B 		vldm	sp!, {d8}
 881              		.cfi_restore 80
 882              		.cfi_restore 81
 883              		.cfi_def_cfa_offset 16
 884              	.LVL40:
 111:Polysynth.cpp **** 
 885              		.loc 14 111 1 view .LVU232
 886 009e 70BD     		pop	{r4, r5, r6, pc}
 887              	.LVL41:
 888              	.L27:
 111:Polysynth.cpp **** 
 889              		.loc 14 111 1 view .LVU233
 890              		.align	2
 891              	.L26:
 892 00a0 00000000 		.word	.LANCHOR2
 893 00a4 00000000 		.word	.LANCHOR1
 894 00a8 DB0F4940 		.word	1078530011
 895 00ac 0000C842 		.word	1120403456
 896 00b0 00008A42 		.word	1116340224
 897 00b4 CDCCCC3D 		.word	1036831949
 898 00b8 0000DC43 		.word	1138491392
 899              		.cfi_endproc
 900              	.LFE4803:
 902              		.section	.text._Z13InitEnvelopesf,"ax",%progbits
 903              		.align	1
 904              		.p2align 2,,3
 905              		.global	_Z13InitEnvelopesf
 906              		.syntax unified
 907              		.thumb
 908              		.thumb_func
 910              	_Z13InitEnvelopesf:
 911              	.LVL42:
 912              	.LFB4804:
 114:Polysynth.cpp ****     for(int i = 0; i < voicecount; i++)
 913              		.loc 14 114 1 is_stmt 1 view -0
 914              		.cfi_startproc
 915              		@ args = 0, pretend = 0, frame = 32
 916              		@ frame_needed = 0, uses_anonymous_args = 0
 115:Polysynth.cpp ****     {
 917              		.loc 14 115 5 view .LVU235
 918              	.LBB727:
 115:Polysynth.cpp ****     {
 919              		.loc 14 115 22 view .LVU236
 920              	.LBE727:
 114:Polysynth.cpp ****     for(int i = 0; i < voicecount; i++)
 921              		.loc 14 114 1 is_stmt 0 view .LVU237
 922 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 923              		.cfi_def_cfa_offset 20
 924              		.cfi_offset 4, -20
 925              		.cfi_offset 5, -16
 926              		.cfi_offset 6, -12
 927              		.cfi_offset 7, -8
 928              		.cfi_offset 14, -4
ARM GAS  /tmp/cc1ZxEVo.s 			page 40


 929 0002 204E     		ldr	r6, .L32
 930 0004 2DED028B 		vpush.64	{d8}
 931              		.cfi_def_cfa_offset 28
 932              		.cfi_offset 80, -28
 933              		.cfi_offset 81, -24
 934 0008 B0EE408A 		vmov.f32	s16, s0
 935 000c 89B0     		sub	sp, sp, #36
 936              		.cfi_def_cfa_offset 64
 937 000e 06F56477 		add	r7, r6, #912
 938              	.LVL43:
 939              	.L29:
 940              	.LBB742:
 118:Polysynth.cpp ****         envelopes[i].env.SetMax(1);
 941              		.loc 14 118 9 is_stmt 1 discriminator 2 view .LVU238
 122:Polysynth.cpp ****         envelopes[i].decayParam.Init(hw.knob2, .01,2,Parameter::EXPONENTIAL);
 942              		.loc 14 122 42 is_stmt 0 discriminator 2 view .LVU239
 943 0012 1D4C     		ldr	r4, .L32+4
 118:Polysynth.cpp ****         envelopes[i].env.SetMax(1);
 944              		.loc 14 118 30 discriminator 2 view .LVU240
 945 0014 3046     		mov	r0, r6
 946 0016 B0EE480A 		vmov.f32	s0, s16
 122:Polysynth.cpp ****         envelopes[i].decayParam.Init(hw.knob2, .01,2,Parameter::EXPONENTIAL);
 947              		.loc 14 122 42 discriminator 2 view .LVU241
 948 001a 6D46     		mov	r5, sp
 118:Polysynth.cpp ****         envelopes[i].env.SetMax(1);
 949              		.loc 14 118 30 discriminator 2 view .LVU242
 950 001c FFF7FEFF 		bl	_ZN7daisysp5AdEnv4InitEf
 951              	.LVL44:
 119:Polysynth.cpp ****         envelopes[i].env.SetMin(0);
 952              		.loc 14 119 9 is_stmt 1 discriminator 2 view .LVU243
 953              	.LBB728:
 954              	.LBI728:
  59:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
  60:../../DaisySP/Source/Control/adenv.h ****         curve. Input range: -100 to 100.  (or more)
  61:../../DaisySP/Source/Control/adenv.h ****     */
  62:../../DaisySP/Source/Control/adenv.h ****     inline void SetCurve(float scalar) { curve_scalar_ = scalar; }
  63:../../DaisySP/Source/Control/adenv.h ****     /** Sets the minimum value of the envelope output.
  64:../../DaisySP/Source/Control/adenv.h ****         Input range: -FLTmax_, to FLTmax_
  65:../../DaisySP/Source/Control/adenv.h ****     */
  66:../../DaisySP/Source/Control/adenv.h ****     inline void SetMin(float min) { min_ = min; }
  67:../../DaisySP/Source/Control/adenv.h ****     /** Sets the maximum value of the envelope output.
  68:../../DaisySP/Source/Control/adenv.h ****         Input range: -FLTmax_, to FLTmax_
  69:../../DaisySP/Source/Control/adenv.h ****     */
  70:../../DaisySP/Source/Control/adenv.h ****     inline void SetMax(float max) { max_ = max; }
 955              		.loc 17 70 17 discriminator 2 view .LVU244
 956              	.LBB729:
 957              		.loc 17 70 37 discriminator 2 view .LVU245
 958              		.loc 17 70 42 is_stmt 0 discriminator 2 view .LVU246
 959 0020 4FF07E5C 		mov	ip, #1065353216
 960              	.LBE729:
 961              	.LBE728:
 122:Polysynth.cpp ****         envelopes[i].decayParam.Init(hw.knob2, .01,2,Parameter::EXPONENTIAL);
 962              		.loc 14 122 38 discriminator 2 view .LVU247
 963 0024 F0EE000A 		vmov.f32	s1, #2.0e+0
 964 0028 9FED180A 		vldr.32	s0, .L32+8
 965              	.LBB731:
 966              	.LBB730:
ARM GAS  /tmp/cc1ZxEVo.s 			page 41


 967              		.loc 17 70 42 discriminator 2 view .LVU248
 968 002c C6F818C0 		str	ip, [r6, #24]	@ float
 969              	.LVL45:
 970              		.loc 17 70 42 discriminator 2 view .LVU249
 971              	.LBE730:
 972              	.LBE731:
 120:Polysynth.cpp ****         envelopes[i].env.SetCurve(0);
 973              		.loc 14 120 9 is_stmt 1 discriminator 2 view .LVU250
 974              	.LBB732:
 975              	.LBI732:
  66:../../DaisySP/Source/Control/adenv.h ****     /** Sets the maximum value of the envelope output.
 976              		.loc 17 66 17 discriminator 2 view .LVU251
 977              	.LBB733:
  66:../../DaisySP/Source/Control/adenv.h ****     /** Sets the maximum value of the envelope output.
 978              		.loc 17 66 37 discriminator 2 view .LVU252
 979              	.LBE733:
 980              	.LBE732:
 122:Polysynth.cpp ****         envelopes[i].decayParam.Init(hw.knob2, .01,2,Parameter::EXPONENTIAL);
 981              		.loc 14 122 42 is_stmt 0 discriminator 2 view .LVU253
 982 0030 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 983 0032 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 984 0034 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 123:Polysynth.cpp ****     }
 985              		.loc 14 123 41 discriminator 2 view .LVU254
 986 0038 1034     		adds	r4, r4, #16
 122:Polysynth.cpp ****         envelopes[i].decayParam.Init(hw.knob2, .01,2,Parameter::EXPONENTIAL);
 987              		.loc 14 122 42 discriminator 2 view .LVU255
 988 003a 85E80F00 		stm	r5, {r0, r1, r2, r3}
 989              	.LBB736:
 990              	.LBB734:
  66:../../DaisySP/Source/Control/adenv.h ****     /** Sets the maximum value of the envelope output.
 991              		.loc 17 66 42 discriminator 2 view .LVU256
 992 003e 0023     		movs	r3, #0
 993              	.LBE734:
 994              	.LBE736:
 122:Polysynth.cpp ****         envelopes[i].decayParam.Init(hw.knob2, .01,2,Parameter::EXPONENTIAL);
 995              		.loc 14 122 38 discriminator 2 view .LVU257
 996 0040 06F13800 		add	r0, r6, #56
 997 0044 0122     		movs	r2, #1
 998 0046 6946     		mov	r1, sp
 999              	.LBB737:
 1000              	.LBB735:
  66:../../DaisySP/Source/Control/adenv.h ****     /** Sets the maximum value of the envelope output.
 1001              		.loc 17 66 42 discriminator 2 view .LVU258
 1002 0048 7361     		str	r3, [r6, #20]	@ float
 1003              	.LVL46:
  66:../../DaisySP/Source/Control/adenv.h ****     /** Sets the maximum value of the envelope output.
 1004              		.loc 17 66 42 discriminator 2 view .LVU259
 1005              	.LBE735:
 1006              	.LBE737:
 121:Polysynth.cpp ****         envelopes[i].attackParam.Init(hw.knob1, .01,2,Parameter::EXPONENTIAL); //assign controls to
 1007              		.loc 14 121 9 is_stmt 1 discriminator 2 view .LVU260
 1008              	.LBB738:
 1009              	.LBI738:
  62:../../DaisySP/Source/Control/adenv.h ****     /** Sets the minimum value of the envelope output.
 1010              		.loc 17 62 17 discriminator 2 view .LVU261
 1011              	.LBB739:
ARM GAS  /tmp/cc1ZxEVo.s 			page 42


  62:../../DaisySP/Source/Control/adenv.h ****     /** Sets the minimum value of the envelope output.
 1012              		.loc 17 62 42 discriminator 2 view .LVU262
  62:../../DaisySP/Source/Control/adenv.h ****     /** Sets the minimum value of the envelope output.
 1013              		.loc 17 62 56 is_stmt 0 discriminator 2 view .LVU263
 1014 004a 3362     		str	r3, [r6, #32]	@ float
 1015              	.LVL47:
  62:../../DaisySP/Source/Control/adenv.h ****     /** Sets the minimum value of the envelope output.
 1016              		.loc 17 62 56 discriminator 2 view .LVU264
 1017              	.LBE739:
 1018              	.LBE738:
 122:Polysynth.cpp ****         envelopes[i].decayParam.Init(hw.knob2, .01,2,Parameter::EXPONENTIAL);
 1019              		.loc 14 122 9 is_stmt 1 discriminator 2 view .LVU265
 122:Polysynth.cpp ****         envelopes[i].decayParam.Init(hw.knob2, .01,2,Parameter::EXPONENTIAL);
 1020              		.loc 14 122 38 is_stmt 0 discriminator 2 view .LVU266
 1021 004c FFF7FEFF 		bl	_ZN5daisy9Parameter4InitENS_13AnalogControlEffNS0_5CurveE
 1022              	.LVL48:
 1023              	.LBB740:
 1024              	.LBI740:
 1025              		.loc 2 23 5 is_stmt 1 discriminator 2 view .LVU267
 1026              		.loc 2 23 5 is_stmt 0 discriminator 2 view .LVU268
 1027              	.LBE740:
 123:Polysynth.cpp ****     }
 1028              		.loc 14 123 9 is_stmt 1 discriminator 2 view .LVU269
 123:Polysynth.cpp ****     }
 1029              		.loc 14 123 41 is_stmt 0 discriminator 2 view .LVU270
 1030 0050 EC46     		mov	ip, sp
 123:Polysynth.cpp ****     }
 1031              		.loc 14 123 37 discriminator 2 view .LVU271
 1032 0052 F0EE000A 		vmov.f32	s1, #2.0e+0
 1033 0056 9FED0D0A 		vldr.32	s0, .L32+8
 123:Polysynth.cpp ****     }
 1034              		.loc 14 123 41 discriminator 2 view .LVU272
 1035 005a 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 1036 005c ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 1037 0060 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 1038 0064 85E80F00 		stm	r5, {r0, r1, r2, r3}
 123:Polysynth.cpp ****     }
 1039              		.loc 14 123 37 discriminator 2 view .LVU273
 1040 0068 06F17000 		add	r0, r6, #112
 115:Polysynth.cpp ****     {
 1041              		.loc 14 115 22 discriminator 2 view .LVU274
 1042 006c E436     		adds	r6, r6, #228
 123:Polysynth.cpp ****     }
 1043              		.loc 14 123 37 discriminator 2 view .LVU275
 1044 006e 0122     		movs	r2, #1
 1045 0070 6946     		mov	r1, sp
 1046 0072 FFF7FEFF 		bl	_ZN5daisy9Parameter4InitENS_13AnalogControlEffNS0_5CurveE
 1047              	.LVL49:
 1048              	.LBB741:
 1049              	.LBI741:
 1050              		.loc 2 23 5 is_stmt 1 discriminator 2 view .LVU276
 1051              		.loc 2 23 5 is_stmt 0 discriminator 2 view .LVU277
 1052              	.LBE741:
 115:Polysynth.cpp ****     {
 1053              		.loc 14 115 5 is_stmt 1 discriminator 2 view .LVU278
 115:Polysynth.cpp ****     {
 1054              		.loc 14 115 22 discriminator 2 view .LVU279
ARM GAS  /tmp/cc1ZxEVo.s 			page 43


 1055 0076 B742     		cmp	r7, r6
 1056 0078 CBD1     		bne	.L29
 1057              	.LBE742:
 126:Polysynth.cpp **** 
 1058              		.loc 14 126 1 is_stmt 0 view .LVU280
 1059 007a 09B0     		add	sp, sp, #36
 1060              		.cfi_def_cfa_offset 28
 1061              		@ sp needed
 1062 007c BDEC028B 		vldm	sp!, {d8}
 1063              		.cfi_restore 80
 1064              		.cfi_restore 81
 1065              		.cfi_def_cfa_offset 20
 1066              	.LVL50:
 126:Polysynth.cpp **** 
 1067              		.loc 14 126 1 view .LVU281
 1068 0080 F0BD     		pop	{r4, r5, r6, r7, pc}
 1069              	.L33:
 1070 0082 00BF     		.align	2
 1071              	.L32:
 1072 0084 00000000 		.word	.LANCHOR0
 1073 0088 64000000 		.word	hw+100
 1074 008c 0AD7233C 		.word	1008981770
 1075              		.cfi_endproc
 1076              	.LFE4804:
 1078              		.section	.text._Z10InitColorsv,"ax",%progbits
 1079              		.align	1
 1080              		.p2align 2,,3
 1081              		.global	_Z10InitColorsv
 1082              		.syntax unified
 1083              		.thumb
 1084              		.thumb_func
 1086              	_Z10InitColorsv:
 1087              	.LFB4805:
 129:Polysynth.cpp ****     for(int i = 0; i < 7; i++)
 1088              		.loc 14 129 1 is_stmt 1 view -0
 1089              		.cfi_startproc
 1090              		@ args = 0, pretend = 0, frame = 0
 1091              		@ frame_needed = 0, uses_anonymous_args = 0
 130:Polysynth.cpp ****     {
 1092              		.loc 14 130 5 view .LVU283
 1093              	.LVL51:
 1094              	.LBB743:
 130:Polysynth.cpp ****     {
 1095              		.loc 14 130 22 view .LVU284
 1096              	.LBE743:
 129:Polysynth.cpp ****     for(int i = 0; i < 7; i++)
 1097              		.loc 14 129 1 is_stmt 0 view .LVU285
 1098 0000 38B5     		push	{r3, r4, r5, lr}
 1099              		.cfi_def_cfa_offset 16
 1100              		.cfi_offset 3, -16
 1101              		.cfi_offset 4, -12
 1102              		.cfi_offset 5, -8
 1103              		.cfi_offset 14, -4
 1104 0002 134D     		ldr	r5, .L38
 1105              	.LBB744:
 130:Polysynth.cpp ****     {
 1106              		.loc 14 130 13 view .LVU286
ARM GAS  /tmp/cc1ZxEVo.s 			page 44


 1107 0004 0024     		movs	r4, #0
 1108              	.LVL52:
 1109              	.L35:
 132:Polysynth.cpp ****     }
 1110              		.loc 14 132 9 is_stmt 1 discriminator 2 view .LVU287
 132:Polysynth.cpp ****     }
 1111              		.loc 14 132 23 is_stmt 0 discriminator 2 view .LVU288
 1112 0006 E1B2     		uxtb	r1, r4
 130:Polysynth.cpp ****     {
 1113              		.loc 14 130 5 discriminator 2 view .LVU289
 1114 0008 0134     		adds	r4, r4, #1
 1115              	.LVL53:
 132:Polysynth.cpp ****     }
 1116              		.loc 14 132 23 discriminator 2 view .LVU290
 1117 000a 2846     		mov	r0, r5
 130:Polysynth.cpp ****     {
 1118              		.loc 14 130 22 discriminator 2 view .LVU291
 1119 000c 0C35     		adds	r5, r5, #12
 132:Polysynth.cpp ****     }
 1120              		.loc 14 132 23 discriminator 2 view .LVU292
 1121 000e FFF7FEFF 		bl	_ZN5daisy5Color4InitENS0_11PresetColorE
 1122              	.LVL54:
 130:Polysynth.cpp ****     {
 1123              		.loc 14 130 5 is_stmt 1 discriminator 2 view .LVU293
 130:Polysynth.cpp ****     {
 1124              		.loc 14 130 22 discriminator 2 view .LVU294
 1125 0012 072C     		cmp	r4, #7
 1126 0014 F7D1     		bne	.L35
 1127              	.LBE744:
 134:Polysynth.cpp ****     colors[8].Init(1, 0, 1);
 1128              		.loc 14 134 5 view .LVU295
 134:Polysynth.cpp ****     colors[8].Init(1, 0, 1);
 1129              		.loc 14 134 19 is_stmt 0 view .LVU296
 1130 0016 F7EE000A 		vmov.f32	s1, #1.0e+0
 1131 001a 9FED0E1A 		vldr.32	s2, .L38+4
 1132 001e 0E48     		ldr	r0, .L38+8
 1133 0020 B0EE600A 		vmov.f32	s0, s1
 1134 0024 FFF7FEFF 		bl	_ZN5daisy5Color4InitEfff
 1135              	.LVL55:
 135:Polysynth.cpp ****     colors[9].Init(0, .7, .4);
 1136              		.loc 14 135 5 is_stmt 1 view .LVU297
 135:Polysynth.cpp ****     colors[9].Init(0, .7, .4);
 1137              		.loc 14 135 19 is_stmt 0 view .LVU298
 1138 0028 B7EE001A 		vmov.f32	s2, #1.0e+0
 1139 002c DFED090A 		vldr.32	s1, .L38+4
 1140 0030 0A48     		ldr	r0, .L38+12
 1141 0032 B0EE410A 		vmov.f32	s0, s2
 1142 0036 FFF7FEFF 		bl	_ZN5daisy5Color4InitEfff
 1143              	.LVL56:
 136:Polysynth.cpp **** }
 1144              		.loc 14 136 5 is_stmt 1 view .LVU299
 136:Polysynth.cpp **** }
 1145              		.loc 14 136 19 is_stmt 0 view .LVU300
 1146 003a 9FED091A 		vldr.32	s2, .L38+16
 1147 003e DFED090A 		vldr.32	s1, .L38+20
 1148 0042 9FED040A 		vldr.32	s0, .L38+4
 1149 0046 0848     		ldr	r0, .L38+24
ARM GAS  /tmp/cc1ZxEVo.s 			page 45


 137:Polysynth.cpp **** 
 1150              		.loc 14 137 1 view .LVU301
 1151 0048 BDE83840 		pop	{r3, r4, r5, lr}
 1152              		.cfi_restore 14
 1153              		.cfi_restore 5
 1154              		.cfi_restore 4
 1155              		.cfi_restore 3
 1156              		.cfi_def_cfa_offset 0
 1157              	.LVL57:
 136:Polysynth.cpp **** }
 1158              		.loc 14 136 19 view .LVU302
 1159 004c FFF7FEBF 		b	_ZN5daisy5Color4InitEfff
 1160              	.LVL58:
 1161              	.L39:
 1162              		.align	2
 1163              	.L38:
 1164 0050 00000000 		.word	.LANCHOR3
 1165 0054 00000000 		.word	0
 1166 0058 54000000 		.word	.LANCHOR3+84
 1167 005c 60000000 		.word	.LANCHOR3+96
 1168 0060 CDCCCC3E 		.word	1053609165
 1169 0064 3333333F 		.word	1060320051
 1170 0068 6C000000 		.word	.LANCHOR3+108
 1171              		.cfi_endproc
 1172              	.LFE4805:
 1174              		.section	.text._Z13UpdateEncoderv,"ax",%progbits
 1175              		.align	1
 1176              		.p2align 2,,3
 1177              		.global	_Z13UpdateEncoderv
 1178              		.syntax unified
 1179              		.thumb
 1180              		.thumb_func
 1182              	_Z13UpdateEncoderv:
 1183              	.LFB4807:
 212:Polysynth.cpp ****     if(hw.encoder.RisingEdge())
 1184              		.loc 14 212 1 is_stmt 1 view -0
 1185              		.cfi_startproc
 1186              		@ args = 0, pretend = 0, frame = 0
 1187              		@ frame_needed = 0, uses_anonymous_args = 0
 1188              		@ link register save eliminated.
 213:Polysynth.cpp ****     {
 1189              		.loc 14 213 5 view .LVU304
 1190              	.LVL59:
 1191              		.loc 8 39 38 view .LVU305
 1192              		.loc 7 70 38 view .LVU306
 219:Polysynth.cpp **** 
 1193              		.loc 14 219 1 is_stmt 0 view .LVU307
 1194 0000 7047     		bx	lr
 1195              		.cfi_endproc
 1196              	.LFE4807:
 1198 0002 00BF     		.section	.text._Z11UpdateKnobsv,"ax",%progbits
 1199              		.align	1
 1200              		.p2align 2,,3
 1201              		.global	_Z11UpdateKnobsv
 1202              		.syntax unified
 1203              		.thumb
 1204              		.thumb_func
ARM GAS  /tmp/cc1ZxEVo.s 			page 46


 1206              	_Z11UpdateKnobsv:
 1207              	.LFB4808:
 222:Polysynth.cpp ****     for(int i = 0; i<voicecount;i++)
 1208              		.loc 14 222 1 is_stmt 1 view -0
 1209              		.cfi_startproc
 1210              		@ args = 0, pretend = 0, frame = 0
 1211              		@ frame_needed = 0, uses_anonymous_args = 0
 223:Polysynth.cpp ****     {
 1212              		.loc 14 223 5 view .LVU309
 1213              	.LVL60:
 1214              	.LBB750:
 223:Polysynth.cpp ****     {
 1215              		.loc 14 223 21 view .LVU310
 1216              	.LBE750:
 222:Polysynth.cpp ****     for(int i = 0; i<voicecount;i++)
 1217              		.loc 14 222 1 is_stmt 0 view .LVU311
 1218 0000 38B5     		push	{r3, r4, r5, lr}
 1219              		.cfi_def_cfa_offset 16
 1220              		.cfi_offset 3, -16
 1221              		.cfi_offset 4, -12
 1222              		.cfi_offset 5, -8
 1223              		.cfi_offset 14, -4
 1224 0002 094C     		ldr	r4, .L45
 1225 0004 04F56475 		add	r5, r4, #912
 1226              	.LVL61:
 1227              	.L42:
 1228              	.LBB757:
 225:Polysynth.cpp ****                                         envelopes[i].attackParam.Process());
 1229              		.loc 14 225 9 is_stmt 1 discriminator 2 view .LVU312
 225:Polysynth.cpp ****                                         envelopes[i].attackParam.Process());
 1230              		.loc 14 225 33 is_stmt 0 discriminator 2 view .LVU313
 1231 0008 2046     		mov	r0, r4
 1232 000a FFF7FEFF 		bl	_ZN5daisy9Parameter7ProcessEv
 1233              	.LVL62:
 1234              	.LBB751:
 1235              	.LBI751:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1236              		.loc 17 58 17 is_stmt 1 discriminator 2 view .LVU314
 1237              	.LBB752:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1238              		.loc 17 58 52 discriminator 2 view .LVU315
 1239              	.LBE752:
 1240              	.LBE751:
 227:Polysynth.cpp ****                                         envelopes[i].decayParam.Process());
 1241              		.loc 14 227 33 is_stmt 0 discriminator 2 view .LVU316
 1242 000e 04F13800 		add	r0, r4, #56
 1243              	.LBB754:
 1244              	.LBB753:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1245              		.loc 17 58 71 discriminator 2 view .LVU317
 1246 0012 04ED0C0A 		vstr.32	s0, [r4, #-48]
 1247              	.LVL63:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1248              		.loc 17 58 71 discriminator 2 view .LVU318
 1249              	.LBE753:
 1250              	.LBE754:
 227:Polysynth.cpp ****                                         envelopes[i].decayParam.Process());
ARM GAS  /tmp/cc1ZxEVo.s 			page 47


 1251              		.loc 14 227 9 is_stmt 1 discriminator 2 view .LVU319
 227:Polysynth.cpp ****                                         envelopes[i].decayParam.Process());
 1252              		.loc 14 227 33 is_stmt 0 discriminator 2 view .LVU320
 1253 0016 FFF7FEFF 		bl	_ZN5daisy9Parameter7ProcessEv
 1254              	.LVL64:
 1255              	.LBB755:
 1256              	.LBI755:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1257              		.loc 17 58 17 is_stmt 1 discriminator 2 view .LVU321
 1258              	.LBB756:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1259              		.loc 17 58 52 discriminator 2 view .LVU322
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1260              		.loc 17 58 71 is_stmt 0 discriminator 2 view .LVU323
 1261 001a 04ED0B0A 		vstr.32	s0, [r4, #-44]
 1262              	.LVL65:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1263              		.loc 17 58 71 discriminator 2 view .LVU324
 1264              	.LBE756:
 1265              	.LBE755:
 223:Polysynth.cpp ****     {
 1266              		.loc 14 223 5 is_stmt 1 discriminator 2 view .LVU325
 223:Polysynth.cpp ****     {
 1267              		.loc 14 223 21 discriminator 2 view .LVU326
 1268 001e E434     		adds	r4, r4, #228
 1269 0020 A542     		cmp	r5, r4
 1270 0022 F1D1     		bne	.L42
 1271              	.LBE757:
 230:Polysynth.cpp **** 
 1272              		.loc 14 230 1 is_stmt 0 view .LVU327
 1273 0024 38BD     		pop	{r3, r4, r5, pc}
 1274              	.L46:
 1275 0026 00BF     		.align	2
 1276              	.L45:
 1277 0028 38000000 		.word	.LANCHOR0+56
 1278              		.cfi_endproc
 1279              	.LFE4808:
 1281              		.section	.text._Z14UpdateControlsv,"ax",%progbits
 1282              		.align	1
 1283              		.p2align 2,,3
 1284              		.global	_Z14UpdateControlsv
 1285              		.syntax unified
 1286              		.thumb
 1287              		.thumb_func
 1289              	_Z14UpdateControlsv:
 1290              	.LFB4809:
 234:Polysynth.cpp ****     hw.ProcessAnalogControls();
 1291              		.loc 14 234 1 is_stmt 1 view -0
 1292              		.cfi_startproc
 1293              		@ args = 0, pretend = 0, frame = 0
 1294              		@ frame_needed = 0, uses_anonymous_args = 0
 235:Polysynth.cpp ****     hw.ProcessDigitalControls();
 1295              		.loc 14 235 5 view .LVU329
 234:Polysynth.cpp ****     hw.ProcessAnalogControls();
 1296              		.loc 14 234 1 is_stmt 0 view .LVU330
 1297 0000 38B5     		push	{r3, r4, r5, lr}
 1298              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/cc1ZxEVo.s 			page 48


 1299              		.cfi_offset 3, -16
 1300              		.cfi_offset 4, -12
 1301              		.cfi_offset 5, -8
 1302              		.cfi_offset 14, -4
 235:Polysynth.cpp ****     hw.ProcessDigitalControls();
 1303              		.loc 14 235 29 view .LVU331
 1304 0002 0D48     		ldr	r0, .L51
 1305 0004 FFF7FEFF 		bl	_ZN5daisy8DaisyPod21ProcessAnalogControlsEv
 1306              	.LVL66:
 236:Polysynth.cpp ****     hw.UpdateLeds();
 1307              		.loc 14 236 5 is_stmt 1 view .LVU332
 1308 0008 0C4C     		ldr	r4, .L51+4
 236:Polysynth.cpp ****     hw.UpdateLeds();
 1309              		.loc 14 236 30 is_stmt 0 view .LVU333
 1310 000a 0B48     		ldr	r0, .L51
 1311 000c FFF7FEFF 		bl	_ZN5daisy8DaisyPod22ProcessDigitalControlsEv
 1312              	.LVL67:
 237:Polysynth.cpp ****     UpdateEncoder();
 1313              		.loc 14 237 5 is_stmt 1 view .LVU334
 237:Polysynth.cpp ****     UpdateEncoder();
 1314              		.loc 14 237 18 is_stmt 0 view .LVU335
 1315 0010 0948     		ldr	r0, .L51
 1316 0012 04F56475 		add	r5, r4, #912
 1317 0016 FFF7FEFF 		bl	_ZN5daisy8DaisyPod10UpdateLedsEv
 1318              	.LVL68:
 238:Polysynth.cpp ****     UpdateKnobs();
 1319              		.loc 14 238 5 is_stmt 1 view .LVU336
 213:Polysynth.cpp ****     {
 1320              		.loc 14 213 5 view .LVU337
 1321              		.loc 8 39 38 view .LVU338
 1322              		.loc 7 70 38 view .LVU339
 1323              		.loc 14 239 5 view .LVU340
 1324              	.LBB765:
 1325              	.LBI765:
 221:Polysynth.cpp **** {
 1326              		.loc 14 221 6 view .LVU341
 1327              	.LBB766:
 223:Polysynth.cpp ****     {
 1328              		.loc 14 223 21 view .LVU342
 1329              	.L48:
 225:Polysynth.cpp ****                                         envelopes[i].attackParam.Process());
 1330              		.loc 14 225 9 view .LVU343
 225:Polysynth.cpp ****                                         envelopes[i].attackParam.Process());
 1331              		.loc 14 225 33 is_stmt 0 view .LVU344
 1332 001a 2046     		mov	r0, r4
 1333 001c FFF7FEFF 		bl	_ZN5daisy9Parameter7ProcessEv
 1334              	.LVL69:
 1335              	.LBB767:
 1336              	.LBI767:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1337              		.loc 17 58 17 is_stmt 1 view .LVU345
 1338              	.LBB768:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1339              		.loc 17 58 52 view .LVU346
 1340              	.LBE768:
 1341              	.LBE767:
 227:Polysynth.cpp ****                                         envelopes[i].decayParam.Process());
ARM GAS  /tmp/cc1ZxEVo.s 			page 49


 1342              		.loc 14 227 33 is_stmt 0 view .LVU347
 1343 0020 04F13800 		add	r0, r4, #56
 1344              	.LBB770:
 1345              	.LBB769:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1346              		.loc 17 58 71 view .LVU348
 1347 0024 04ED0C0A 		vstr.32	s0, [r4, #-48]
 1348              	.LVL70:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1349              		.loc 17 58 71 view .LVU349
 1350              	.LBE769:
 1351              	.LBE770:
 227:Polysynth.cpp ****                                         envelopes[i].decayParam.Process());
 1352              		.loc 14 227 9 is_stmt 1 view .LVU350
 227:Polysynth.cpp ****                                         envelopes[i].decayParam.Process());
 1353              		.loc 14 227 33 is_stmt 0 view .LVU351
 1354 0028 FFF7FEFF 		bl	_ZN5daisy9Parameter7ProcessEv
 1355              	.LVL71:
 1356              	.LBB771:
 1357              	.LBI771:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1358              		.loc 17 58 17 is_stmt 1 view .LVU352
 1359              	.LBB772:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1360              		.loc 17 58 52 view .LVU353
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1361              		.loc 17 58 71 is_stmt 0 view .LVU354
 1362 002c 04ED0B0A 		vstr.32	s0, [r4, #-44]
 1363              	.LVL72:
  58:../../DaisySP/Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1364              		.loc 17 58 71 view .LVU355
 1365              	.LBE772:
 1366              	.LBE771:
 223:Polysynth.cpp ****     {
 1367              		.loc 14 223 5 is_stmt 1 view .LVU356
 223:Polysynth.cpp ****     {
 1368              		.loc 14 223 21 view .LVU357
 1369 0030 E434     		adds	r4, r4, #228
 1370 0032 A542     		cmp	r5, r4
 1371 0034 F1D1     		bne	.L48
 1372              	.LBE766:
 1373              	.LBE765:
 240:Polysynth.cpp ****    
 241:Polysynth.cpp **** }
 1374              		.loc 14 241 1 is_stmt 0 view .LVU358
 1375 0036 38BD     		pop	{r3, r4, r5, pc}
 1376              	.L52:
 1377              		.align	2
 1378              	.L51:
 1379 0038 00000000 		.word	hw
 1380 003c 38000000 		.word	.LANCHOR0+56
 1381              		.cfi_endproc
 1382              	.LFE4809:
 1384              		.section	.text._Z6NoteONh,"ax",%progbits
 1385              		.align	1
 1386              		.p2align 2,,3
 1387              		.global	_Z6NoteONh
ARM GAS  /tmp/cc1ZxEVo.s 			page 50


 1388              		.syntax unified
 1389              		.thumb
 1390              		.thumb_func
 1392              	_Z6NoteONh:
 1393              	.LVL73:
 1394              	.LFB4810:
 242:Polysynth.cpp **** 
 243:Polysynth.cpp **** void NoteON(uint8_t note)
 244:Polysynth.cpp **** {
 1395              		.loc 14 244 1 is_stmt 1 view -0
 1396              		.cfi_startproc
 1397              		@ args = 0, pretend = 0, frame = 16
 1398              		@ frame_needed = 0, uses_anonymous_args = 0
 245:Polysynth.cpp ****   
 246:Polysynth.cpp ****   uint8_t temp = 0;
 1399              		.loc 14 246 3 view .LVU360
 247:Polysynth.cpp ****   if (voicehist[0] == 1)
 1400              		.loc 14 247 3 view .LVU361
 1401              		.loc 14 247 18 is_stmt 0 view .LVU362
 1402 0000 644B     		ldr	r3, .L64
 244:Polysynth.cpp ****   
 1403              		.loc 14 244 1 view .LVU363
 1404 0002 30B5     		push	{r4, r5, lr}
 1405              		.cfi_def_cfa_offset 12
 1406              		.cfi_offset 4, -12
 1407              		.cfi_offset 5, -8
 1408              		.cfi_offset 14, -4
 1409              		.loc 14 247 18 view .LVU364
 1410 0004 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 244:Polysynth.cpp ****   
 1411              		.loc 14 244 1 view .LVU365
 1412 0006 85B0     		sub	sp, sp, #20
 1413              		.cfi_def_cfa_offset 32
 1414              		.loc 14 247 3 view .LVU366
 1415 0008 012C     		cmp	r4, #1
 1416 000a 08D0     		beq	.L60
 248:Polysynth.cpp ****   {
 249:Polysynth.cpp ****     voicenote[0] = note;
 250:Polysynth.cpp ****     //voicetrig[0] = 1;
 251:Polysynth.cpp ****     //shift voicehistory by 1 to the left
 252:Polysynth.cpp ****     temp = voicehist[3];
 253:Polysynth.cpp ****     voicehist[3] = voicehist[2];
 254:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 255:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 256:Polysynth.cpp ****     voicehist[0] = temp;
 257:Polysynth.cpp ****     osc[0].SetFreq(mtof(note));
 258:Polysynth.cpp ****     envelopes[0].env.Trigger();
 259:Polysynth.cpp ****     hw.led1.SetColor(colors[3]);
 260:Polysynth.cpp ****     
 261:Polysynth.cpp ****     return;
 262:Polysynth.cpp ****   }
 263:Polysynth.cpp **** 
 264:Polysynth.cpp ****   if (voicehist[0] == 2)
 1417              		.loc 14 264 3 is_stmt 1 view .LVU367
 1418 000c 022C     		cmp	r4, #2
 1419 000e 39D0     		beq	.L61
 265:Polysynth.cpp ****   {
ARM GAS  /tmp/cc1ZxEVo.s 			page 51


 266:Polysynth.cpp ****     voicenote[1] = note;
 267:Polysynth.cpp ****     //voicetrig[1] = 1;
 268:Polysynth.cpp ****     //shift voicehistory by 1 to the left
 269:Polysynth.cpp ****     temp = voicehist[3];
 270:Polysynth.cpp ****     voicehist[3] = voicehist[2];
 271:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 272:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 273:Polysynth.cpp ****     voicehist[0] = temp;
 274:Polysynth.cpp ****     osc[1].SetFreq(mtof(note));
 275:Polysynth.cpp ****     envelopes[1].env.Trigger();
 276:Polysynth.cpp ****     hw.led1.SetColor(colors[4]);
 277:Polysynth.cpp ****     return;
 278:Polysynth.cpp **** 
 279:Polysynth.cpp ****   }
 280:Polysynth.cpp **** 
 281:Polysynth.cpp ****   if (voicehist[0] == 3)
 1420              		.loc 14 281 3 view .LVU368
 1421 0010 032C     		cmp	r4, #3
 1422 0012 64D0     		beq	.L62
 282:Polysynth.cpp ****   {
 283:Polysynth.cpp ****     voicenote[2] = note;
 284:Polysynth.cpp ****     //voicetrig[2] = 1;
 285:Polysynth.cpp ****     //shift voicehistory by 1 to the left
 286:Polysynth.cpp ****     temp = voicehist[3];
 287:Polysynth.cpp ****     voicehist[3] = voicehist[2];
 288:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 289:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 290:Polysynth.cpp ****     voicehist[0] = temp;
 291:Polysynth.cpp ****     osc[2].SetFreq(mtof(note));
 292:Polysynth.cpp ****     envelopes[2].env.Trigger();
 293:Polysynth.cpp ****     hw.led1.SetColor(colors[5]);
 294:Polysynth.cpp ****     return;
 295:Polysynth.cpp **** 
 296:Polysynth.cpp **** 
 297:Polysynth.cpp ****   }
 298:Polysynth.cpp **** 
 299:Polysynth.cpp ****   if (voicehist[0] == 4)
 1423              		.loc 14 299 3 view .LVU369
 1424 0014 042C     		cmp	r4, #4
 1425 0016 00F08F80 		beq	.L63
 300:Polysynth.cpp ****   {
 301:Polysynth.cpp ****     voicenote[3] = note;
 302:Polysynth.cpp ****     //voicetrig[3] = 1;
 303:Polysynth.cpp ****     //shift voicehistory by 1 to the left
 304:Polysynth.cpp ****     temp = voicehist[3];
 305:Polysynth.cpp ****     voicehist[3] = voicehist[2];
 306:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 307:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 308:Polysynth.cpp ****     voicehist[0] = temp;
 309:Polysynth.cpp ****     osc[3].SetFreq(mtof(note));
 310:Polysynth.cpp ****     envelopes[3].env.Trigger();
 311:Polysynth.cpp ****     hw.led1.SetColor(colors[6]);
 312:Polysynth.cpp ****     return;
 313:Polysynth.cpp **** 
 314:Polysynth.cpp ****   }
 315:Polysynth.cpp **** }
 1426              		.loc 14 315 1 is_stmt 0 view .LVU370
ARM GAS  /tmp/cc1ZxEVo.s 			page 52


 1427 001a 05B0     		add	sp, sp, #20
 1428              		.cfi_remember_state
 1429              		.cfi_def_cfa_offset 12
 1430              		@ sp needed
 1431 001c 30BD     		pop	{r4, r5, pc}
 1432              	.L60:
 1433              		.cfi_restore_state
 249:Polysynth.cpp ****     //voicetrig[0] = 1;
 1434              		.loc 14 249 5 is_stmt 1 view .LVU371
 257:Polysynth.cpp ****     envelopes[0].env.Trigger();
 1435              		.loc 14 257 19 is_stmt 0 view .LVU372
 1436 001e 07EE900A 		vmov	s15, r0	@ int
 1437              	.LBB805:
 1438              	.LBB806:
 1439              		.loc 18 125 23 view .LVU373
 1440 0022 9FED5D7A 		vldr.32	s14, .L64+4
 1441              	.LBE806:
 1442              	.LBE805:
 249:Polysynth.cpp ****     //voicetrig[0] = 1;
 1443              		.loc 14 249 18 view .LVU374
 1444 0026 5D4A     		ldr	r2, .L64+8
 1445              	.LBB813:
 1446              	.LBB807:
 1447              		.loc 18 125 16 view .LVU375
 1448 0028 F2EE080A 		vmov.f32	s1, #1.2e+1
 1449              	.LBE807:
 1450              	.LBE813:
 257:Polysynth.cpp ****     envelopes[0].env.Trigger();
 1451              		.loc 14 257 19 view .LVU376
 1452 002c F8EE677A 		vcvt.f32.u32	s15, s15
 252:Polysynth.cpp ****     voicehist[3] = voicehist[2];
 1453              		.loc 14 252 10 view .LVU377
 1454 0030 DD78     		ldrb	r5, [r3, #3]	@ zero_extendqisi2
 253:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 1455              		.loc 14 253 18 view .LVU378
 1456 0032 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 1457              	.LBB814:
 1458              	.LBB808:
 1459              		.loc 18 125 16 view .LVU379
 1460 0034 B0EE000A 		vmov.f32	s0, #2.0e+0
 1461              	.LBE808:
 1462              	.LBE814:
 249:Polysynth.cpp ****     //voicetrig[0] = 1;
 1463              		.loc 14 249 18 view .LVU380
 1464 0038 1070     		strb	r0, [r2]
 1465              	.LBB815:
 1466              	.LBB809:
 1467              		.loc 18 125 23 view .LVU381
 1468 003a 77EEC77A 		vsub.f32	s15, s15, s14
 1469              	.LBE809:
 1470              	.LBE815:
 254:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 1471              		.loc 14 254 18 view .LVU382
 1472 003e 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 256:Polysynth.cpp ****     osc[0].SetFreq(mtof(note));
 1473              		.loc 14 256 18 view .LVU383
 1474 0040 1D70     		strb	r5, [r3]
ARM GAS  /tmp/cc1ZxEVo.s 			page 53


 252:Polysynth.cpp ****     voicehist[3] = voicehist[2];
 1475              		.loc 14 252 5 is_stmt 1 view .LVU384
 1476              	.LVL74:
 253:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 1477              		.loc 14 253 5 view .LVU385
 253:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 1478              		.loc 14 253 18 is_stmt 0 view .LVU386
 1479 0042 D970     		strb	r1, [r3, #3]
 254:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 1480              		.loc 14 254 5 is_stmt 1 view .LVU387
 254:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 1481              		.loc 14 254 18 is_stmt 0 view .LVU388
 1482 0044 9A70     		strb	r2, [r3, #2]
 255:Polysynth.cpp ****     voicehist[0] = temp;
 1483              		.loc 14 255 5 is_stmt 1 view .LVU389
 256:Polysynth.cpp ****     osc[0].SetFreq(mtof(note));
 1484              		.loc 14 256 5 view .LVU390
 257:Polysynth.cpp ****     envelopes[0].env.Trigger();
 1485              		.loc 14 257 5 view .LVU391
 1486              	.LVL75:
 1487              	.LBB816:
 1488              	.LBI805:
 123:../../DaisySP/Source/Utility/dsp.h **** {
 1489              		.loc 18 123 14 view .LVU392
 1490              	.LBB810:
 1491              		.loc 18 125 5 view .LVU393
 1492              		.loc 18 125 16 is_stmt 0 view .LVU394
 1493 0046 C7EEA00A 		vdiv.f32	s1, s15, s1
 1494              	.LBE810:
 1495              	.LBE816:
 255:Polysynth.cpp ****     voicehist[0] = temp;
 1496              		.loc 14 255 18 view .LVU395
 1497 004a 5C70     		strb	r4, [r3, #1]
 1498              	.LBB817:
 1499              	.LBB811:
 1500              		.loc 18 125 16 view .LVU396
 1501 004c FFF7FEFF 		bl	powf
 1502              	.LVL76:
 1503              		.loc 18 125 43 view .LVU397
 1504 0050 DFED537A 		vldr.32	s15, .L64+12
 1505              	.LBE811:
 1506              	.LBE817:
 1507              	.LBB818:
 1508              	.LBB819:
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1509              		.loc 19 62 20 view .LVU398
 1510 0054 534D     		ldr	r5, .L64+16
 1511              	.LVL77:
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1512              		.loc 19 62 20 view .LVU399
 1513              	.LBE819:
 1514              	.LBE818:
 1515              	.LBB822:
 1516              	.LBB812:
 1517              		.loc 18 125 43 view .LVU400
 1518 0056 20EE270A 		vmul.f32	s0, s0, s15
 1519              	.LVL78:
ARM GAS  /tmp/cc1ZxEVo.s 			page 54


 1520              		.loc 18 125 43 view .LVU401
 1521              	.LBE812:
 1522              	.LBE822:
 1523              	.LBB823:
 1524              	.LBI818:
  60:../../DaisySP/Source/Synthesis/oscillator.h ****     {
 1525              		.loc 19 60 17 is_stmt 1 view .LVU402
 1526              	.LBB820:
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1527              		.loc 19 62 9 view .LVU403
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1528              		.loc 19 63 34 is_stmt 0 view .LVU404
 1529 005a 2846     		mov	r0, r5
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1530              		.loc 19 62 20 view .LVU405
 1531 005c 85ED020A 		vstr.32	s0, [r5, #8]
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1532              		.loc 19 63 9 is_stmt 1 view .LVU406
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1533              		.loc 19 63 34 is_stmt 0 view .LVU407
 1534 0060 FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 1535              	.LVL79:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1536              		.loc 19 63 34 view .LVU408
 1537              	.LBE820:
 1538              	.LBE823:
 1539              	.LBB824:
 1540              	.LBB825:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1541              		.loc 17 56 38 view .LVU409
 1542 0064 5049     		ldr	r1, .L64+20
 1543              	.LBE825:
 1544              	.LBE824:
 259:Polysynth.cpp ****     
 1545              		.loc 14 259 30 view .LVU410
 1546 0066 514A     		ldr	r2, .L64+24
 1547 0068 01AB     		add	r3, sp, #4
 1548              	.LBB828:
 1549              	.LBB826:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1550              		.loc 17 56 38 view .LVU411
 1551 006a 81F83440 		strb	r4, [r1, #52]
 1552              	.LBE826:
 1553              	.LBE828:
 1554              	.LBB829:
 1555              	.LBB821:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1556              		.loc 19 63 20 view .LVU412
 1557 006e 85ED080A 		vstr.32	s0, [r5, #32]
 1558              	.LVL80:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1559              		.loc 19 63 20 view .LVU413
 1560              	.LBE821:
 1561              	.LBE829:
 258:Polysynth.cpp ****     hw.led1.SetColor(colors[3]);
 1562              		.loc 14 258 5 is_stmt 1 view .LVU414
 1563              	.LBB830:
ARM GAS  /tmp/cc1ZxEVo.s 			page 55


 1564              	.LBI824:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1565              		.loc 17 56 17 view .LVU415
 1566              	.LBB827:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1567              		.loc 17 56 29 view .LVU416
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1568              		.loc 17 56 29 is_stmt 0 view .LVU417
 1569              	.LBE827:
 1570              	.LBE830:
 259:Polysynth.cpp ****     
 1571              		.loc 14 259 5 is_stmt 1 view .LVU418
 1572              	.L59:
 311:Polysynth.cpp ****     return;
 1573              		.loc 14 311 5 view .LVU419
 311:Polysynth.cpp ****     return;
 1574              		.loc 14 311 30 is_stmt 0 view .LVU420
 1575 0072 07CA     		ldm	r2, {r0, r1, r2}
 1576 0074 83E80700 		stm	r3, {r0, r1, r2}
 311:Polysynth.cpp ****     return;
 1577              		.loc 14 311 21 view .LVU421
 1578 0078 1946     		mov	r1, r3
 1579 007a 4D48     		ldr	r0, .L64+28
 1580 007c FFF7FEFF 		bl	_ZN5daisy6RgbLed8SetColorENS_5ColorE
 1581              	.LVL81:
 1582              	.LBB831:
 1583              	.LBI831:
 1584              		.file 20 "../../libDaisy/src/util/color.h"
   1:../../libDaisy/src/util/color.h **** /* 
   2:../../libDaisy/src/util/color.h **** TODO:
   3:../../libDaisy/src/util/color.h **** - Add Blend(), Scale(), etc.
   4:../../libDaisy/src/util/color.h **** - I'd also like to change the way the Color names are accessed.
   5:../../libDaisy/src/util/color.h **** */
   6:../../libDaisy/src/util/color.h **** /**        I'd like for it to be easy and not `Color::PresetColor::Foo`
   7:../../libDaisy/src/util/color.h **** */
   8:../../libDaisy/src/util/color.h **** /** - There's no way to change a color once its been created (without unintuitively reiniting it).
   9:../../libDaisy/src/util/color.h **** */
  10:../../libDaisy/src/util/color.h **** #pragma once
  11:../../libDaisy/src/util/color.h **** #ifndef DSY_COLOR_H
  12:../../libDaisy/src/util/color.h **** #define DSY_COLOR_H
  13:../../libDaisy/src/util/color.h **** #include <stdint.h>
  14:../../libDaisy/src/util/color.h **** 
  15:../../libDaisy/src/util/color.h **** 
  16:../../libDaisy/src/util/color.h **** namespace daisy
  17:../../libDaisy/src/util/color.h **** {
  18:../../libDaisy/src/util/color.h **** /** @addtogroup utility
  19:../../libDaisy/src/util/color.h ****     @{
  20:../../libDaisy/src/util/color.h **** */
  21:../../libDaisy/src/util/color.h **** 
  22:../../libDaisy/src/util/color.h **** /** Class for handling simple colors */
  23:../../libDaisy/src/util/color.h **** class Color
  24:../../libDaisy/src/util/color.h **** {
  25:../../libDaisy/src/util/color.h ****   public:
  26:../../libDaisy/src/util/color.h ****     Color() {}
  27:../../libDaisy/src/util/color.h ****     ~Color() {}
 1585              		.loc 20 27 5 is_stmt 1 view .LVU422
 1586              		.loc 20 27 5 is_stmt 0 view .LVU423
ARM GAS  /tmp/cc1ZxEVo.s 			page 56


 1587              	.LBE831:
 312:Polysynth.cpp **** 
 1588              		.loc 14 312 5 is_stmt 1 view .LVU424
 1589              		.loc 14 315 1 is_stmt 0 view .LVU425
 1590 0080 05B0     		add	sp, sp, #20
 1591              		.cfi_remember_state
 1592              		.cfi_def_cfa_offset 12
 1593              		@ sp needed
 1594 0082 30BD     		pop	{r4, r5, pc}
 1595              	.LVL82:
 1596              	.L61:
 1597              		.cfi_restore_state
 266:Polysynth.cpp ****     //voicetrig[1] = 1;
 1598              		.loc 14 266 5 is_stmt 1 view .LVU426
 274:Polysynth.cpp ****     envelopes[1].env.Trigger();
 1599              		.loc 14 274 19 is_stmt 0 view .LVU427
 1600 0084 07EE900A 		vmov	s15, r0	@ int
 1601              	.LBB832:
 1602              	.LBB833:
 1603              		.loc 18 125 23 view .LVU428
 1604 0088 9FED437A 		vldr.32	s14, .L64+4
 1605              	.LBE833:
 1606              	.LBE832:
 266:Polysynth.cpp ****     //voicetrig[1] = 1;
 1607              		.loc 14 266 18 view .LVU429
 1608 008c 434A     		ldr	r2, .L64+8
 1609              	.LBB840:
 1610              	.LBB834:
 1611              		.loc 18 125 16 view .LVU430
 1612 008e F2EE080A 		vmov.f32	s1, #1.2e+1
 1613              	.LBE834:
 1614              	.LBE840:
 274:Polysynth.cpp ****     envelopes[1].env.Trigger();
 1615              		.loc 14 274 19 view .LVU431
 1616 0092 F8EE677A 		vcvt.f32.u32	s15, s15
 270:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 1617              		.loc 14 270 18 view .LVU432
 1618 0096 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 269:Polysynth.cpp ****     voicehist[3] = voicehist[2];
 1619              		.loc 14 269 10 view .LVU433
 1620 0098 DD78     		ldrb	r5, [r3, #3]	@ zero_extendqisi2
 1621              	.LBB841:
 1622              	.LBB835:
 1623              		.loc 18 125 16 view .LVU434
 1624 009a B0EE000A 		vmov.f32	s0, #2.0e+0
 1625              	.LBE835:
 1626              	.LBE841:
 266:Polysynth.cpp ****     //voicetrig[1] = 1;
 1627              		.loc 14 266 18 view .LVU435
 1628 009e 5070     		strb	r0, [r2, #1]
 1629              	.LBB842:
 1630              	.LBB836:
 1631              		.loc 18 125 23 view .LVU436
 1632 00a0 77EEC77A 		vsub.f32	s15, s15, s14
 1633              	.LBE836:
 1634              	.LBE842:
 271:Polysynth.cpp ****     voicehist[1] = voicehist[0];
ARM GAS  /tmp/cc1ZxEVo.s 			page 57


 1635              		.loc 14 271 18 view .LVU437
 1636 00a4 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 270:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 1637              		.loc 14 270 18 view .LVU438
 1638 00a6 D970     		strb	r1, [r3, #3]
 272:Polysynth.cpp ****     voicehist[0] = temp;
 1639              		.loc 14 272 18 view .LVU439
 1640 00a8 5C70     		strb	r4, [r3, #1]
 271:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 1641              		.loc 14 271 18 view .LVU440
 1642 00aa 9A70     		strb	r2, [r3, #2]
 1643              	.LBB843:
 1644              	.LBB837:
 1645              		.loc 18 125 16 view .LVU441
 1646 00ac C7EEA00A 		vdiv.f32	s1, s15, s1
 1647              	.LBE837:
 1648              	.LBE843:
 273:Polysynth.cpp ****     osc[1].SetFreq(mtof(note));
 1649              		.loc 14 273 18 view .LVU442
 1650 00b0 1D70     		strb	r5, [r3]
 269:Polysynth.cpp ****     voicehist[3] = voicehist[2];
 1651              		.loc 14 269 5 is_stmt 1 view .LVU443
 1652              	.LVL83:
 270:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 1653              		.loc 14 270 5 view .LVU444
 271:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 1654              		.loc 14 271 5 view .LVU445
 272:Polysynth.cpp ****     voicehist[0] = temp;
 1655              		.loc 14 272 5 view .LVU446
 273:Polysynth.cpp ****     osc[1].SetFreq(mtof(note));
 1656              		.loc 14 273 5 view .LVU447
 274:Polysynth.cpp ****     envelopes[1].env.Trigger();
 1657              		.loc 14 274 5 view .LVU448
 1658              	.LBB844:
 1659              	.LBI832:
 123:../../DaisySP/Source/Utility/dsp.h **** {
 1660              		.loc 18 123 14 view .LVU449
 1661              	.LBB838:
 1662              		.loc 18 125 5 view .LVU450
 1663              		.loc 18 125 16 is_stmt 0 view .LVU451
 1664 00b2 FFF7FEFF 		bl	powf
 1665              	.LVL84:
 1666              		.loc 18 125 43 view .LVU452
 1667 00b6 DFED3A7A 		vldr.32	s15, .L64+12
 1668              	.LBE838:
 1669              	.LBE844:
 1670              	.LBB845:
 1671              	.LBB846:
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1672              		.loc 19 62 20 view .LVU453
 1673 00ba 3A4C     		ldr	r4, .L64+16
 1674              	.LBE846:
 1675              	.LBE845:
 1676              	.LBB849:
 1677              	.LBB839:
 1678              		.loc 18 125 43 view .LVU454
 1679 00bc 20EE270A 		vmul.f32	s0, s0, s15
ARM GAS  /tmp/cc1ZxEVo.s 			page 58


 1680              	.LVL85:
 1681              		.loc 18 125 43 view .LVU455
 1682              	.LBE839:
 1683              	.LBE849:
 1684              	.LBB850:
 1685              	.LBI845:
  60:../../DaisySP/Source/Synthesis/oscillator.h ****     {
 1686              		.loc 19 60 17 is_stmt 1 view .LVU456
 1687              	.LBB847:
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1688              		.loc 19 62 9 view .LVU457
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1689              		.loc 19 63 34 is_stmt 0 view .LVU458
 1690 00c0 04F13000 		add	r0, r4, #48
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1691              		.loc 19 62 20 view .LVU459
 1692 00c4 84ED0E0A 		vstr.32	s0, [r4, #56]
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1693              		.loc 19 63 9 is_stmt 1 view .LVU460
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1694              		.loc 19 63 34 is_stmt 0 view .LVU461
 1695 00c8 FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 1696              	.LVL86:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1697              		.loc 19 63 34 view .LVU462
 1698              	.LBE847:
 1699              	.LBE850:
 1700              	.LBB851:
 1701              	.LBB852:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1702              		.loc 17 56 38 view .LVU463
 1703 00cc 3649     		ldr	r1, .L64+20
 1704 00ce 0120     		movs	r0, #1
 1705              	.LBE852:
 1706              	.LBE851:
 276:Polysynth.cpp ****     return;
 1707              		.loc 14 276 30 view .LVU464
 1708 00d0 384A     		ldr	r2, .L64+32
 1709 00d2 01AB     		add	r3, sp, #4
 1710              	.LBB854:
 1711              	.LBB848:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1712              		.loc 19 63 20 view .LVU465
 1713 00d4 84ED140A 		vstr.32	s0, [r4, #80]
 1714              	.LVL87:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1715              		.loc 19 63 20 view .LVU466
 1716              	.LBE848:
 1717              	.LBE854:
 275:Polysynth.cpp ****     hw.led1.SetColor(colors[4]);
 1718              		.loc 14 275 5 is_stmt 1 view .LVU467
 1719              	.LBB855:
 1720              	.LBI851:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1721              		.loc 17 56 17 view .LVU468
 1722              	.LBB853:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
ARM GAS  /tmp/cc1ZxEVo.s 			page 59


 1723              		.loc 17 56 29 view .LVU469
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1724              		.loc 17 56 38 is_stmt 0 view .LVU470
 1725 00d8 81F81801 		strb	r0, [r1, #280]
 1726              	.LVL88:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1727              		.loc 17 56 38 view .LVU471
 1728              	.LBE853:
 1729              	.LBE855:
 276:Polysynth.cpp ****     return;
 1730              		.loc 14 276 5 is_stmt 1 view .LVU472
 1731 00dc C9E7     		b	.L59
 1732              	.LVL89:
 1733              	.L62:
 283:Polysynth.cpp ****     //voicetrig[2] = 1;
 1734              		.loc 14 283 5 view .LVU473
 291:Polysynth.cpp ****     envelopes[2].env.Trigger();
 1735              		.loc 14 291 19 is_stmt 0 view .LVU474
 1736 00de 07EE900A 		vmov	s15, r0	@ int
 1737              	.LBB856:
 1738              	.LBB857:
 1739              		.loc 18 125 23 view .LVU475
 1740 00e2 9FED2D7A 		vldr.32	s14, .L64+4
 1741              	.LBE857:
 1742              	.LBE856:
 283:Polysynth.cpp ****     //voicetrig[2] = 1;
 1743              		.loc 14 283 18 view .LVU476
 1744 00e6 2D4A     		ldr	r2, .L64+8
 1745              	.LBB864:
 1746              	.LBB858:
 1747              		.loc 18 125 16 view .LVU477
 1748 00e8 F2EE080A 		vmov.f32	s1, #1.2e+1
 1749              	.LBE858:
 1750              	.LBE864:
 291:Polysynth.cpp ****     envelopes[2].env.Trigger();
 1751              		.loc 14 291 19 view .LVU478
 1752 00ec F8EE677A 		vcvt.f32.u32	s15, s15
 287:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 1753              		.loc 14 287 18 view .LVU479
 1754 00f0 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 286:Polysynth.cpp ****     voicehist[3] = voicehist[2];
 1755              		.loc 14 286 10 view .LVU480
 1756 00f2 DD78     		ldrb	r5, [r3, #3]	@ zero_extendqisi2
 1757              	.LBB865:
 1758              	.LBB859:
 1759              		.loc 18 125 16 view .LVU481
 1760 00f4 B0EE000A 		vmov.f32	s0, #2.0e+0
 1761              	.LBE859:
 1762              	.LBE865:
 283:Polysynth.cpp ****     //voicetrig[2] = 1;
 1763              		.loc 14 283 18 view .LVU482
 1764 00f8 9070     		strb	r0, [r2, #2]
 1765              	.LBB866:
 1766              	.LBB860:
 1767              		.loc 18 125 23 view .LVU483
 1768 00fa 77EEC77A 		vsub.f32	s15, s15, s14
 1769              	.LBE860:
ARM GAS  /tmp/cc1ZxEVo.s 			page 60


 1770              	.LBE866:
 288:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 1771              		.loc 14 288 18 view .LVU484
 1772 00fe 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 287:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 1773              		.loc 14 287 18 view .LVU485
 1774 0100 D970     		strb	r1, [r3, #3]
 289:Polysynth.cpp ****     voicehist[0] = temp;
 1775              		.loc 14 289 18 view .LVU486
 1776 0102 5C70     		strb	r4, [r3, #1]
 288:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 1777              		.loc 14 288 18 view .LVU487
 1778 0104 9A70     		strb	r2, [r3, #2]
 1779              	.LBB867:
 1780              	.LBB861:
 1781              		.loc 18 125 16 view .LVU488
 1782 0106 C7EEA00A 		vdiv.f32	s1, s15, s1
 1783              	.LBE861:
 1784              	.LBE867:
 290:Polysynth.cpp ****     osc[2].SetFreq(mtof(note));
 1785              		.loc 14 290 18 view .LVU489
 1786 010a 1D70     		strb	r5, [r3]
 286:Polysynth.cpp ****     voicehist[3] = voicehist[2];
 1787              		.loc 14 286 5 is_stmt 1 view .LVU490
 1788              	.LVL90:
 287:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 1789              		.loc 14 287 5 view .LVU491
 288:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 1790              		.loc 14 288 5 view .LVU492
 289:Polysynth.cpp ****     voicehist[0] = temp;
 1791              		.loc 14 289 5 view .LVU493
 290:Polysynth.cpp ****     osc[2].SetFreq(mtof(note));
 1792              		.loc 14 290 5 view .LVU494
 291:Polysynth.cpp ****     envelopes[2].env.Trigger();
 1793              		.loc 14 291 5 view .LVU495
 1794              	.LBB868:
 1795              	.LBI856:
 123:../../DaisySP/Source/Utility/dsp.h **** {
 1796              		.loc 18 123 14 view .LVU496
 1797              	.LBB862:
 1798              		.loc 18 125 5 view .LVU497
 1799              		.loc 18 125 16 is_stmt 0 view .LVU498
 1800 010c FFF7FEFF 		bl	powf
 1801              	.LVL91:
 1802              		.loc 18 125 43 view .LVU499
 1803 0110 DFED237A 		vldr.32	s15, .L64+12
 1804              	.LBE862:
 1805              	.LBE868:
 1806              	.LBB869:
 1807              	.LBB870:
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1808              		.loc 19 62 20 view .LVU500
 1809 0114 234C     		ldr	r4, .L64+16
 1810              	.LBE870:
 1811              	.LBE869:
 1812              	.LBB873:
 1813              	.LBB863:
ARM GAS  /tmp/cc1ZxEVo.s 			page 61


 1814              		.loc 18 125 43 view .LVU501
 1815 0116 20EE270A 		vmul.f32	s0, s0, s15
 1816              	.LVL92:
 1817              		.loc 18 125 43 view .LVU502
 1818              	.LBE863:
 1819              	.LBE873:
 1820              	.LBB874:
 1821              	.LBI869:
  60:../../DaisySP/Source/Synthesis/oscillator.h ****     {
 1822              		.loc 19 60 17 is_stmt 1 view .LVU503
 1823              	.LBB871:
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1824              		.loc 19 62 9 view .LVU504
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1825              		.loc 19 63 34 is_stmt 0 view .LVU505
 1826 011a 04F16000 		add	r0, r4, #96
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1827              		.loc 19 62 20 view .LVU506
 1828 011e 84ED1A0A 		vstr.32	s0, [r4, #104]
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1829              		.loc 19 63 9 is_stmt 1 view .LVU507
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1830              		.loc 19 63 34 is_stmt 0 view .LVU508
 1831 0122 FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 1832              	.LVL93:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1833              		.loc 19 63 34 view .LVU509
 1834              	.LBE871:
 1835              	.LBE874:
 1836              	.LBB875:
 1837              	.LBB876:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1838              		.loc 17 56 38 view .LVU510
 1839 0126 2049     		ldr	r1, .L64+20
 1840 0128 0120     		movs	r0, #1
 1841              	.LBE876:
 1842              	.LBE875:
 293:Polysynth.cpp ****     return;
 1843              		.loc 14 293 30 view .LVU511
 1844 012a 234A     		ldr	r2, .L64+36
 1845 012c 01AB     		add	r3, sp, #4
 1846              	.LBB878:
 1847              	.LBB872:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1848              		.loc 19 63 20 view .LVU512
 1849 012e 84ED200A 		vstr.32	s0, [r4, #128]
 1850              	.LVL94:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1851              		.loc 19 63 20 view .LVU513
 1852              	.LBE872:
 1853              	.LBE878:
 292:Polysynth.cpp ****     hw.led1.SetColor(colors[5]);
 1854              		.loc 14 292 5 is_stmt 1 view .LVU514
 1855              	.LBB879:
 1856              	.LBI875:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1857              		.loc 17 56 17 view .LVU515
ARM GAS  /tmp/cc1ZxEVo.s 			page 62


 1858              	.LBB877:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1859              		.loc 17 56 29 view .LVU516
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1860              		.loc 17 56 38 is_stmt 0 view .LVU517
 1861 0132 81F8FC01 		strb	r0, [r1, #508]
 1862              	.LVL95:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1863              		.loc 17 56 38 view .LVU518
 1864              	.LBE877:
 1865              	.LBE879:
 293:Polysynth.cpp ****     return;
 1866              		.loc 14 293 5 is_stmt 1 view .LVU519
 1867 0136 9CE7     		b	.L59
 1868              	.LVL96:
 1869              	.L63:
 301:Polysynth.cpp ****     //voicetrig[3] = 1;
 1870              		.loc 14 301 5 view .LVU520
 309:Polysynth.cpp ****     envelopes[3].env.Trigger();
 1871              		.loc 14 309 19 is_stmt 0 view .LVU521
 1872 0138 07EE900A 		vmov	s15, r0	@ int
 1873              	.LBB880:
 1874              	.LBB881:
 1875              		.loc 18 125 23 view .LVU522
 1876 013c 9FED167A 		vldr.32	s14, .L64+4
 1877              	.LBE881:
 1878              	.LBE880:
 301:Polysynth.cpp ****     //voicetrig[3] = 1;
 1879              		.loc 14 301 18 view .LVU523
 1880 0140 164A     		ldr	r2, .L64+8
 1881              	.LBB888:
 1882              	.LBB882:
 1883              		.loc 18 125 16 view .LVU524
 1884 0142 F2EE080A 		vmov.f32	s1, #1.2e+1
 1885              	.LBE882:
 1886              	.LBE888:
 309:Polysynth.cpp ****     envelopes[3].env.Trigger();
 1887              		.loc 14 309 19 view .LVU525
 1888 0146 F8EE677A 		vcvt.f32.u32	s15, s15
 305:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 1889              		.loc 14 305 18 view .LVU526
 1890 014a 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 304:Polysynth.cpp ****     voicehist[3] = voicehist[2];
 1891              		.loc 14 304 10 view .LVU527
 1892 014c DD78     		ldrb	r5, [r3, #3]	@ zero_extendqisi2
 1893              	.LBB889:
 1894              	.LBB883:
 1895              		.loc 18 125 16 view .LVU528
 1896 014e B0EE000A 		vmov.f32	s0, #2.0e+0
 1897              	.LBE883:
 1898              	.LBE889:
 301:Polysynth.cpp ****     //voicetrig[3] = 1;
 1899              		.loc 14 301 18 view .LVU529
 1900 0152 D070     		strb	r0, [r2, #3]
 1901              	.LBB890:
 1902              	.LBB884:
 1903              		.loc 18 125 23 view .LVU530
ARM GAS  /tmp/cc1ZxEVo.s 			page 63


 1904 0154 77EEC77A 		vsub.f32	s15, s15, s14
 1905              	.LBE884:
 1906              	.LBE890:
 306:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 1907              		.loc 14 306 18 view .LVU531
 1908 0158 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 305:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 1909              		.loc 14 305 18 view .LVU532
 1910 015a D970     		strb	r1, [r3, #3]
 307:Polysynth.cpp ****     voicehist[0] = temp;
 1911              		.loc 14 307 18 view .LVU533
 1912 015c 5C70     		strb	r4, [r3, #1]
 306:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 1913              		.loc 14 306 18 view .LVU534
 1914 015e 9A70     		strb	r2, [r3, #2]
 1915              	.LBB891:
 1916              	.LBB885:
 1917              		.loc 18 125 16 view .LVU535
 1918 0160 C7EEA00A 		vdiv.f32	s1, s15, s1
 1919              	.LBE885:
 1920              	.LBE891:
 308:Polysynth.cpp ****     osc[3].SetFreq(mtof(note));
 1921              		.loc 14 308 18 view .LVU536
 1922 0164 1D70     		strb	r5, [r3]
 304:Polysynth.cpp ****     voicehist[3] = voicehist[2];
 1923              		.loc 14 304 5 is_stmt 1 view .LVU537
 1924              	.LVL97:
 305:Polysynth.cpp ****     voicehist[2] = voicehist[1];
 1925              		.loc 14 305 5 view .LVU538
 306:Polysynth.cpp ****     voicehist[1] = voicehist[0];
 1926              		.loc 14 306 5 view .LVU539
 307:Polysynth.cpp ****     voicehist[0] = temp;
 1927              		.loc 14 307 5 view .LVU540
 308:Polysynth.cpp ****     osc[3].SetFreq(mtof(note));
 1928              		.loc 14 308 5 view .LVU541
 309:Polysynth.cpp ****     envelopes[3].env.Trigger();
 1929              		.loc 14 309 5 view .LVU542
 1930              	.LBB892:
 1931              	.LBI880:
 123:../../DaisySP/Source/Utility/dsp.h **** {
 1932              		.loc 18 123 14 view .LVU543
 1933              	.LBB886:
 1934              		.loc 18 125 5 view .LVU544
 1935              		.loc 18 125 16 is_stmt 0 view .LVU545
 1936 0166 FFF7FEFF 		bl	powf
 1937              	.LVL98:
 1938              		.loc 18 125 43 view .LVU546
 1939 016a DFED0D7A 		vldr.32	s15, .L64+12
 1940              	.LBE886:
 1941              	.LBE892:
 1942              	.LBB893:
 1943              	.LBB894:
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1944              		.loc 19 62 20 view .LVU547
 1945 016e 0D4C     		ldr	r4, .L64+16
 1946              	.LBE894:
 1947              	.LBE893:
ARM GAS  /tmp/cc1ZxEVo.s 			page 64


 1948              	.LBB897:
 1949              	.LBB887:
 1950              		.loc 18 125 43 view .LVU548
 1951 0170 20EE270A 		vmul.f32	s0, s0, s15
 1952              	.LVL99:
 1953              		.loc 18 125 43 view .LVU549
 1954              	.LBE887:
 1955              	.LBE897:
 1956              	.LBB898:
 1957              	.LBI893:
  60:../../DaisySP/Source/Synthesis/oscillator.h ****     {
 1958              		.loc 19 60 17 is_stmt 1 view .LVU550
 1959              	.LBB895:
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1960              		.loc 19 62 9 view .LVU551
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1961              		.loc 19 63 34 is_stmt 0 view .LVU552
 1962 0174 04F19000 		add	r0, r4, #144
  62:../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1963              		.loc 19 62 20 view .LVU553
 1964 0178 84ED260A 		vstr.32	s0, [r4, #152]
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1965              		.loc 19 63 9 is_stmt 1 view .LVU554
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1966              		.loc 19 63 34 is_stmt 0 view .LVU555
 1967 017c FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 1968              	.LVL100:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1969              		.loc 19 63 34 view .LVU556
 1970              	.LBE895:
 1971              	.LBE898:
 1972              	.LBB899:
 1973              	.LBB900:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1974              		.loc 17 56 38 view .LVU557
 1975 0180 0949     		ldr	r1, .L64+20
 1976 0182 0120     		movs	r0, #1
 1977              	.LBE900:
 1978              	.LBE899:
 311:Polysynth.cpp ****     return;
 1979              		.loc 14 311 30 view .LVU558
 1980 0184 0D4A     		ldr	r2, .L64+40
 1981 0186 01AB     		add	r3, sp, #4
 1982              	.LBB902:
 1983              	.LBB896:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1984              		.loc 19 63 20 view .LVU559
 1985 0188 84ED2C0A 		vstr.32	s0, [r4, #176]
 1986              	.LVL101:
  63:../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1987              		.loc 19 63 20 view .LVU560
 1988              	.LBE896:
 1989              	.LBE902:
 310:Polysynth.cpp ****     hw.led1.SetColor(colors[6]);
 1990              		.loc 14 310 5 is_stmt 1 view .LVU561
 1991              	.LBB903:
 1992              	.LBI899:
ARM GAS  /tmp/cc1ZxEVo.s 			page 65


  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1993              		.loc 17 56 17 view .LVU562
 1994              	.LBB901:
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1995              		.loc 17 56 29 view .LVU563
  56:../../DaisySP/Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1996              		.loc 17 56 38 is_stmt 0 view .LVU564
 1997 018c 81F8E002 		strb	r0, [r1, #736]
 1998 0190 6FE7     		b	.L59
 1999              	.L65:
 2000 0192 00BF     		.align	2
 2001              	.L64:
 2002 0194 00000000 		.word	.LANCHOR4
 2003 0198 00008A42 		.word	1116340224
 2004 019c 00000000 		.word	.LANCHOR1
 2005 01a0 0000DC43 		.word	1138491392
 2006 01a4 00000000 		.word	.LANCHOR2
 2007 01a8 00000000 		.word	.LANCHOR0
 2008 01ac 24000000 		.word	.LANCHOR3+36
 2009 01b0 D4000000 		.word	hw+212
 2010 01b4 30000000 		.word	.LANCHOR3+48
 2011 01b8 3C000000 		.word	.LANCHOR3+60
 2012 01bc 48000000 		.word	.LANCHOR3+72
 2013              	.LBE901:
 2014              	.LBE903:
 2015              		.cfi_endproc
 2016              	.LFE4810:
 2018              		.section	.text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh,"axG",%progbits,_ZN5daisy11M
 2019              		.align	1
 2020              		.p2align 2,,3
 2021              		.weak	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh
 2022              		.syntax unified
 2023              		.thumb
 2024              		.thumb_func
 2026              	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh:
 2027              	.LVL102:
 2028              	.LFB5259:
  86:../../libDaisy/src/hid/midi.h **** 
  87:../../libDaisy/src/hid/midi.h ****     struct Config
  88:../../libDaisy/src/hid/midi.h ****     {
  89:../../libDaisy/src/hid/midi.h ****         typename Transport::Config transport_config;
  90:../../libDaisy/src/hid/midi.h ****     };
  91:../../libDaisy/src/hid/midi.h **** 
  92:../../libDaisy/src/hid/midi.h ****     /** Initializes the MidiHandler 
  93:../../libDaisy/src/hid/midi.h ****      *  \param config Configuration structure used to define specifics to the MIDI Handler.
  94:../../libDaisy/src/hid/midi.h ****      */
  95:../../libDaisy/src/hid/midi.h ****     void Init(Config config)
  96:../../libDaisy/src/hid/midi.h ****     {
  97:../../libDaisy/src/hid/midi.h ****         config_ = config;
  98:../../libDaisy/src/hid/midi.h **** 
  99:../../libDaisy/src/hid/midi.h ****         transport_.Init(config_.transport_config);
 100:../../libDaisy/src/hid/midi.h **** 
 101:../../libDaisy/src/hid/midi.h ****         event_q_.Init();
 102:../../libDaisy/src/hid/midi.h ****         incoming_message_.type = MessageLast;
 103:../../libDaisy/src/hid/midi.h ****         pstate_                = ParserEmpty;
 104:../../libDaisy/src/hid/midi.h ****     }
 105:../../libDaisy/src/hid/midi.h **** 
ARM GAS  /tmp/cc1ZxEVo.s 			page 66


 106:../../libDaisy/src/hid/midi.h ****     /** Starts listening on the selected input mode(s). MidiEvent Queue will begin to fill, and can
 107:../../libDaisy/src/hid/midi.h ****     void StartReceive() { transport_.StartRx(); }
 108:../../libDaisy/src/hid/midi.h **** 
 109:../../libDaisy/src/hid/midi.h ****     /** Start listening */
 110:../../libDaisy/src/hid/midi.h ****     void Listen()
 111:../../libDaisy/src/hid/midi.h ****     {
 112:../../libDaisy/src/hid/midi.h ****         uint32_t now;
 113:../../libDaisy/src/hid/midi.h ****         now = System::GetNow();
 114:../../libDaisy/src/hid/midi.h ****         while(transport_.Readable())
 115:../../libDaisy/src/hid/midi.h ****         {
 116:../../libDaisy/src/hid/midi.h ****             last_read_ = now;
 117:../../libDaisy/src/hid/midi.h ****             Parse(transport_.Rx());
 118:../../libDaisy/src/hid/midi.h ****         }
 119:../../libDaisy/src/hid/midi.h **** 
 120:../../libDaisy/src/hid/midi.h ****         // In case of UART Error, (particularly
 121:../../libDaisy/src/hid/midi.h ****         //  overrun error), UART disables itself.
 122:../../libDaisy/src/hid/midi.h ****         // Flush the buff, and restart.
 123:../../libDaisy/src/hid/midi.h ****         if(!transport_.RxActive())
 124:../../libDaisy/src/hid/midi.h ****         {
 125:../../libDaisy/src/hid/midi.h ****             pstate_ = ParserEmpty;
 126:../../libDaisy/src/hid/midi.h ****             transport_.FlushRx();
 127:../../libDaisy/src/hid/midi.h ****             StartReceive();
 128:../../libDaisy/src/hid/midi.h ****         }
 129:../../libDaisy/src/hid/midi.h ****     }
 130:../../libDaisy/src/hid/midi.h **** 
 131:../../libDaisy/src/hid/midi.h ****     /** Checks if there are unhandled messages in the queue 
 132:../../libDaisy/src/hid/midi.h ****     \return True if there are events to be handled, else false.
 133:../../libDaisy/src/hid/midi.h ****      */
 134:../../libDaisy/src/hid/midi.h ****     bool HasEvents() const { return event_q_.readable(); }
 135:../../libDaisy/src/hid/midi.h **** 
 136:../../libDaisy/src/hid/midi.h **** 
 137:../../libDaisy/src/hid/midi.h ****     /** Pops the oldest unhandled MidiEvent from the internal queue
 138:../../libDaisy/src/hid/midi.h ****     \return The event to be handled
 139:../../libDaisy/src/hid/midi.h ****      */
 140:../../libDaisy/src/hid/midi.h ****     MidiEvent PopEvent() { return event_q_.Read(); }
 141:../../libDaisy/src/hid/midi.h **** 
 142:../../libDaisy/src/hid/midi.h ****     /** SendMessage
 143:../../libDaisy/src/hid/midi.h ****     Send raw bytes as message
 144:../../libDaisy/src/hid/midi.h ****     */
 145:../../libDaisy/src/hid/midi.h ****     void SendMessage(uint8_t* bytes, size_t size)
 146:../../libDaisy/src/hid/midi.h ****     {
 147:../../libDaisy/src/hid/midi.h ****         transport_.Tx(bytes, size);
 148:../../libDaisy/src/hid/midi.h ****     }
 149:../../libDaisy/src/hid/midi.h **** 
 150:../../libDaisy/src/hid/midi.h ****     /** Feed in bytes to state machine from a queue.
 151:../../libDaisy/src/hid/midi.h ****     Populates internal FIFO queue with MIDI Messages
 152:../../libDaisy/src/hid/midi.h ****     For example with uart:
 153:../../libDaisy/src/hid/midi.h ****     midi.Parse(uart.PopRx());
 154:../../libDaisy/src/hid/midi.h ****     \param byte &
 155:../../libDaisy/src/hid/midi.h ****     */
 156:../../libDaisy/src/hid/midi.h ****     void Parse(uint8_t byte)
 2029              		.loc 4 156 10 is_stmt 1 view -0
 2030              		.cfi_startproc
 2031              		@ args = 0, pretend = 0, frame = 288
 2032              		@ frame_needed = 0, uses_anonymous_args = 0
 2033              		.loc 4 156 10 is_stmt 0 view .LVU566
 2034 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
ARM GAS  /tmp/cc1ZxEVo.s 			page 67


 2035              		.cfi_def_cfa_offset 24
 2036              		.cfi_offset 4, -24
 2037              		.cfi_offset 5, -20
 2038              		.cfi_offset 6, -16
 2039              		.cfi_offset 7, -12
 2040              		.cfi_offset 8, -8
 2041              		.cfi_offset 14, -4
 157:../../libDaisy/src/hid/midi.h ****     {
 158:../../libDaisy/src/hid/midi.h ****         // reset parser when status byte is received
 159:../../libDaisy/src/hid/midi.h ****         if((byte & kStatusByteMask) && pstate_ != ParserSysEx)
 2042              		.loc 4 159 20 view .LVU567
 2043 0004 00F51044 		add	r4, r0, #36864
 156:../../libDaisy/src/hid/midi.h ****     {
 2044              		.loc 4 156 10 view .LVU568
 2045 0008 C8B0     		sub	sp, sp, #288
 2046              		.cfi_def_cfa_offset 312
 156:../../libDaisy/src/hid/midi.h ****     {
 2047              		.loc 4 156 10 view .LVU569
 2048 000a 0546     		mov	r5, r0
 2049              		.loc 4 159 18 view .LVU570
 2050 000c 94F8AC30 		ldrb	r3, [r4, #172]	@ zero_extendqisi2
 2051              		.loc 4 159 9 view .LVU571
 2052 0010 1942     		tst	r1, r3
 2053              		.loc 4 159 37 view .LVU572
 2054 0012 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 2055              		.loc 4 159 9 view .LVU573
 2056 0014 18D0     		beq	.L67
 2057              		.loc 4 159 37 discriminator 1 view .LVU574
 2058 0016 032B     		cmp	r3, #3
 2059 0018 1CD0     		beq	.L68
 160:../../libDaisy/src/hid/midi.h ****         {
 161:../../libDaisy/src/hid/midi.h ****             pstate_ = ParserEmpty;
 2060              		.loc 4 161 21 view .LVU575
 2061 001a 0022     		movs	r2, #0
 2062 001c 0271     		strb	r2, [r0, #4]
 162:../../libDaisy/src/hid/midi.h ****         }
 163:../../libDaisy/src/hid/midi.h ****         switch(pstate_)
 164:../../libDaisy/src/hid/midi.h ****         {
 165:../../libDaisy/src/hid/midi.h ****             case ParserEmpty:
 166:../../libDaisy/src/hid/midi.h ****                 // check byte for valid Status Byte
 167:../../libDaisy/src/hid/midi.h ****                 if(byte & kStatusByteMask)
 168:../../libDaisy/src/hid/midi.h ****                 {
 169:../../libDaisy/src/hid/midi.h ****                     // Get MessageType, and Channel
 170:../../libDaisy/src/hid/midi.h ****                     incoming_message_.channel = byte & kChannelMask;
 2063              		.loc 4 170 54 view .LVU576
 2064 001e 94F8B030 		ldrb	r3, [r4, #176]	@ zero_extendqisi2
 2065 0022 0B40     		ands	r3, r3, r1
 2066 0024 C360     		str	r3, [r0, #12]
 171:../../libDaisy/src/hid/midi.h ****                     incoming_message_.type    = static_cast<MidiMessageType>(
 172:../../libDaisy/src/hid/midi.h ****                         (byte & kMessageMask) >> 4);
 2067              		.loc 4 172 31 view .LVU577
 2068 0026 94F8AD30 		ldrb	r3, [r4, #173]	@ zero_extendqisi2
 2069              		.loc 4 172 47 view .LVU578
 2070 002a 0B40     		ands	r3, r3, r1
 2071 002c 1B09     		lsrs	r3, r3, #4
 173:../../libDaisy/src/hid/midi.h **** 
 174:../../libDaisy/src/hid/midi.h ****                     // Validate, and move on.
ARM GAS  /tmp/cc1ZxEVo.s 			page 68


 175:../../libDaisy/src/hid/midi.h ****                     if(incoming_message_.type < MessageLast)
 2072              		.loc 4 175 21 view .LVU579
 2073 002e 092B     		cmp	r3, #9
 171:../../libDaisy/src/hid/midi.h ****                     incoming_message_.type    = static_cast<MidiMessageType>(
 2074              		.loc 4 171 47 view .LVU580
 2075 0030 0372     		strb	r3, [r0, #8]
 2076              		.loc 4 175 21 view .LVU581
 2077 0032 06D8     		bhi	.L66
 176:../../libDaisy/src/hid/midi.h ****                     {
 177:../../libDaisy/src/hid/midi.h ****                         pstate_ = ParserHasStatus;
 2078              		.loc 4 177 33 view .LVU582
 2079 0034 0120     		movs	r0, #1
 2080              	.LVL103:
 178:../../libDaisy/src/hid/midi.h ****                         // Mark this status byte as running_status
 179:../../libDaisy/src/hid/midi.h ****                         running_status_ = incoming_message_.type;
 180:../../libDaisy/src/hid/midi.h **** 
 181:../../libDaisy/src/hid/midi.h ****                         if(running_status_ == SystemCommon)
 2081              		.loc 4 181 25 view .LVU583
 2082 0036 072B     		cmp	r3, #7
 177:../../libDaisy/src/hid/midi.h ****                         // Mark this status byte as running_status
 2083              		.loc 4 177 33 view .LVU584
 2084 0038 2871     		strb	r0, [r5, #4]
 179:../../libDaisy/src/hid/midi.h **** 
 2085              		.loc 4 179 41 view .LVU585
 2086 003a 84F8A430 		strb	r3, [r4, #164]
 2087              		.loc 4 181 25 view .LVU586
 2088 003e 00F0E880 		beq	.L124
 2089              	.LVL104:
 2090              	.L66:
 182:../../libDaisy/src/hid/midi.h ****                         {
 183:../../libDaisy/src/hid/midi.h ****                             incoming_message_.channel = 0;
 184:../../libDaisy/src/hid/midi.h ****                             //system real time = 1111 1xxx
 185:../../libDaisy/src/hid/midi.h ****                             if(byte & 0x08)
 186:../../libDaisy/src/hid/midi.h ****                             {
 187:../../libDaisy/src/hid/midi.h ****                                 incoming_message_.type = SystemRealTime;
 188:../../libDaisy/src/hid/midi.h ****                                 running_status_        = SystemRealTime;
 189:../../libDaisy/src/hid/midi.h ****                                 incoming_message_.srt_type
 190:../../libDaisy/src/hid/midi.h ****                                     = static_cast<SystemRealTimeType>(
 191:../../libDaisy/src/hid/midi.h ****                                         byte & kSystemRealTimeMask);
 192:../../libDaisy/src/hid/midi.h **** 
 193:../../libDaisy/src/hid/midi.h ****                                 //short circuit to start
 194:../../libDaisy/src/hid/midi.h ****                                 pstate_ = ParserEmpty;
 195:../../libDaisy/src/hid/midi.h ****                                 event_q_.Write(incoming_message_);
 196:../../libDaisy/src/hid/midi.h ****                             }
 197:../../libDaisy/src/hid/midi.h ****                             //system common
 198:../../libDaisy/src/hid/midi.h ****                             else
 199:../../libDaisy/src/hid/midi.h ****                             {
 200:../../libDaisy/src/hid/midi.h ****                                 incoming_message_.sc_type
 201:../../libDaisy/src/hid/midi.h ****                                     = static_cast<SystemCommonType>(byte
 202:../../libDaisy/src/hid/midi.h ****                                                                     & 0x07);
 203:../../libDaisy/src/hid/midi.h ****                                 //sysex
 204:../../libDaisy/src/hid/midi.h ****                                 if(incoming_message_.sc_type == SystemExclusive)
 205:../../libDaisy/src/hid/midi.h ****                                 {
 206:../../libDaisy/src/hid/midi.h ****                                     pstate_ = ParserSysEx;
 207:../../libDaisy/src/hid/midi.h ****                                     incoming_message_.sysex_message_len = 0;
 208:../../libDaisy/src/hid/midi.h ****                                 }
 209:../../libDaisy/src/hid/midi.h ****                                 //short circuit
ARM GAS  /tmp/cc1ZxEVo.s 			page 69


 210:../../libDaisy/src/hid/midi.h ****                                 else if(incoming_message_.sc_type > SongSelect)
 211:../../libDaisy/src/hid/midi.h ****                                 {
 212:../../libDaisy/src/hid/midi.h ****                                     pstate_ = ParserEmpty;
 213:../../libDaisy/src/hid/midi.h ****                                     event_q_.Write(incoming_message_);
 214:../../libDaisy/src/hid/midi.h ****                                 }
 215:../../libDaisy/src/hid/midi.h ****                             }
 216:../../libDaisy/src/hid/midi.h ****                         }
 217:../../libDaisy/src/hid/midi.h ****                     }
 218:../../libDaisy/src/hid/midi.h ****                     // Else we'll keep waiting for a valid incoming status byte
 219:../../libDaisy/src/hid/midi.h ****                 }
 220:../../libDaisy/src/hid/midi.h ****                 else
 221:../../libDaisy/src/hid/midi.h ****                 {
 222:../../libDaisy/src/hid/midi.h ****                     // Handle as running status
 223:../../libDaisy/src/hid/midi.h ****                     incoming_message_.type    = running_status_;
 224:../../libDaisy/src/hid/midi.h ****                     incoming_message_.data[0] = byte & kDataByteMask;
 225:../../libDaisy/src/hid/midi.h ****                     //check for single byte running status, really this only applies to channel pre
 226:../../libDaisy/src/hid/midi.h ****                     if(running_status_ == ChannelPressure
 227:../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 228:../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == MTCQuarterFrame
 229:../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == SongSelect)
 230:../../libDaisy/src/hid/midi.h ****                     {
 231:../../libDaisy/src/hid/midi.h ****                         //Send the single byte update
 232:../../libDaisy/src/hid/midi.h ****                         pstate_ = ParserEmpty;
 233:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 234:../../libDaisy/src/hid/midi.h ****                     }
 235:../../libDaisy/src/hid/midi.h ****                     else
 236:../../libDaisy/src/hid/midi.h ****                     {
 237:../../libDaisy/src/hid/midi.h ****                         pstate_
 238:../../libDaisy/src/hid/midi.h ****                             = ParserHasData0; //we need to get the 2nd byte yet.
 239:../../libDaisy/src/hid/midi.h ****                     }
 240:../../libDaisy/src/hid/midi.h ****                 }
 241:../../libDaisy/src/hid/midi.h ****                 break;
 242:../../libDaisy/src/hid/midi.h ****             case ParserHasStatus:
 243:../../libDaisy/src/hid/midi.h ****                 if((byte & kStatusByteMask) == 0)
 244:../../libDaisy/src/hid/midi.h ****                 {
 245:../../libDaisy/src/hid/midi.h ****                     incoming_message_.data[0] = byte & kDataByteMask;
 246:../../libDaisy/src/hid/midi.h ****                     if(running_status_ == ChannelPressure
 247:../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 248:../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == MTCQuarterFrame
 249:../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == SongSelect)
 250:../../libDaisy/src/hid/midi.h ****                     {
 251:../../libDaisy/src/hid/midi.h ****                         //these are just one data byte, so we short circuit back to start
 252:../../libDaisy/src/hid/midi.h ****                         pstate_ = ParserEmpty;
 253:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 254:../../libDaisy/src/hid/midi.h ****                     }
 255:../../libDaisy/src/hid/midi.h ****                     else
 256:../../libDaisy/src/hid/midi.h ****                     {
 257:../../libDaisy/src/hid/midi.h ****                         pstate_ = ParserHasData0;
 258:../../libDaisy/src/hid/midi.h ****                     }
 259:../../libDaisy/src/hid/midi.h **** 
 260:../../libDaisy/src/hid/midi.h ****                     //ChannelModeMessages (reserved Control Changes)
 261:../../libDaisy/src/hid/midi.h ****                     if(running_status_ == ControlChange
 262:../../libDaisy/src/hid/midi.h ****                        && incoming_message_.data[0] > 119)
 263:../../libDaisy/src/hid/midi.h ****                     {
 264:../../libDaisy/src/hid/midi.h ****                         incoming_message_.type = ChannelMode;
 265:../../libDaisy/src/hid/midi.h ****                         running_status_        = ChannelMode;
 266:../../libDaisy/src/hid/midi.h ****                         incoming_message_.cm_type
ARM GAS  /tmp/cc1ZxEVo.s 			page 70


 267:../../libDaisy/src/hid/midi.h ****                             = static_cast<ChannelModeType>(
 268:../../libDaisy/src/hid/midi.h ****                                 incoming_message_.data[0] - 120);
 269:../../libDaisy/src/hid/midi.h ****                     }
 270:../../libDaisy/src/hid/midi.h ****                 }
 271:../../libDaisy/src/hid/midi.h ****                 else
 272:../../libDaisy/src/hid/midi.h ****                 {
 273:../../libDaisy/src/hid/midi.h ****                     // invalid message go back to start ;p
 274:../../libDaisy/src/hid/midi.h ****                     pstate_ = ParserEmpty;
 275:../../libDaisy/src/hid/midi.h ****                 }
 276:../../libDaisy/src/hid/midi.h ****                 break;
 277:../../libDaisy/src/hid/midi.h ****             case ParserHasData0:
 278:../../libDaisy/src/hid/midi.h ****                 if((byte & kStatusByteMask) == 0)
 279:../../libDaisy/src/hid/midi.h ****                 {
 280:../../libDaisy/src/hid/midi.h ****                     incoming_message_.data[1] = byte & kDataByteMask;
 281:../../libDaisy/src/hid/midi.h **** 
 282:../../libDaisy/src/hid/midi.h ****                     //velocity 0 NoteOns are NoteOffs
 283:../../libDaisy/src/hid/midi.h ****                     if(running_status_ == NoteOn
 284:../../libDaisy/src/hid/midi.h ****                        && incoming_message_.data[1] == 0)
 285:../../libDaisy/src/hid/midi.h ****                     {
 286:../../libDaisy/src/hid/midi.h ****                         incoming_message_.type = NoteOff;
 287:../../libDaisy/src/hid/midi.h ****                     }
 288:../../libDaisy/src/hid/midi.h **** 
 289:../../libDaisy/src/hid/midi.h ****                     // At this point the message is valid, and we can add this MidiEvent to the que
 290:../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 291:../../libDaisy/src/hid/midi.h ****                 }
 292:../../libDaisy/src/hid/midi.h ****                 else
 293:../../libDaisy/src/hid/midi.h ****                 {
 294:../../libDaisy/src/hid/midi.h ****                     // invalid message go back to start ;p
 295:../../libDaisy/src/hid/midi.h ****                     pstate_ = ParserEmpty;
 296:../../libDaisy/src/hid/midi.h ****                 }
 297:../../libDaisy/src/hid/midi.h ****                 // Regardless, of whether the data was valid or not we go back to empty
 298:../../libDaisy/src/hid/midi.h ****                 // because either the message is queued for handling or its not.
 299:../../libDaisy/src/hid/midi.h ****                 pstate_ = ParserEmpty;
 300:../../libDaisy/src/hid/midi.h ****                 break;
 301:../../libDaisy/src/hid/midi.h ****             case ParserSysEx:
 302:../../libDaisy/src/hid/midi.h ****                 // end of sysex
 303:../../libDaisy/src/hid/midi.h ****                 if(byte == 0xf7)
 304:../../libDaisy/src/hid/midi.h ****                 {
 305:../../libDaisy/src/hid/midi.h ****                     pstate_ = ParserEmpty;
 306:../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 307:../../libDaisy/src/hid/midi.h ****                 }
 308:../../libDaisy/src/hid/midi.h ****                 else if(incoming_message_.sysex_message_len < SYSEX_BUFFER_LEN)
 309:../../libDaisy/src/hid/midi.h ****                 {
 310:../../libDaisy/src/hid/midi.h ****                     incoming_message_
 311:../../libDaisy/src/hid/midi.h ****                         .sysex_data[incoming_message_.sysex_message_len]
 312:../../libDaisy/src/hid/midi.h ****                         = byte;
 313:../../libDaisy/src/hid/midi.h ****                     incoming_message_.sysex_message_len++;
 314:../../libDaisy/src/hid/midi.h ****                 }
 315:../../libDaisy/src/hid/midi.h ****                 break;
 316:../../libDaisy/src/hid/midi.h ****             default: break;
 317:../../libDaisy/src/hid/midi.h ****         }
 318:../../libDaisy/src/hid/midi.h ****     }
 2091              		.loc 4 318 5 view .LVU587
 2092 0042 48B0     		add	sp, sp, #288
 2093              		.cfi_remember_state
 2094              		.cfi_def_cfa_offset 24
 2095              		@ sp needed
ARM GAS  /tmp/cc1ZxEVo.s 			page 71


 2096 0044 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2097              	.LVL105:
 2098              	.L67:
 2099              		.cfi_restore_state
 163:../../libDaisy/src/hid/midi.h ****         {
 2100              		.loc 4 163 9 view .LVU588
 2101 0048 032B     		cmp	r3, #3
 2102 004a FAD8     		bhi	.L66
 2103 004c DFE803F0 		tbb	[pc, r3]
 2104              	.L90:
 2105 0050 8D       		.byte	(.L76-.L90)/2
 2106 0051 11       		.byte	(.L80-.L90)/2
 2107 0052 58       		.byte	(.L85-.L90)/2
 2108 0053 02       		.byte	(.L68-.L90)/2
 2109              		.p2align 1
 2110              	.L68:
 303:../../libDaisy/src/hid/midi.h ****                 {
 2111              		.loc 4 303 17 view .LVU589
 2112 0054 F729     		cmp	r1, #247
 2113 0056 00F0C380 		beq	.L125
 308:../../libDaisy/src/hid/midi.h ****                 {
 2114              		.loc 4 308 22 view .LVU590
 2115 005a 95F99220 		ldrsb	r2, [r5, #146]
 308:../../libDaisy/src/hid/midi.h ****                 {
 2116              		.loc 4 308 43 view .LVU591
 2117 005e 95F89230 		ldrb	r3, [r5, #146]	@ zero_extendqisi2
 308:../../libDaisy/src/hid/midi.h ****                 {
 2118              		.loc 4 308 22 view .LVU592
 2119 0062 002A     		cmp	r2, #0
 2120 0064 EDDB     		blt	.L66
 312:../../libDaisy/src/hid/midi.h ****                     incoming_message_.sysex_message_len++;
 2121              		.loc 4 312 25 view .LVU593
 2122 0066 EA18     		adds	r2, r5, r3
 313:../../libDaisy/src/hid/midi.h ****                 }
 2123              		.loc 4 313 21 view .LVU594
 2124 0068 0133     		adds	r3, r3, #1
 312:../../libDaisy/src/hid/midi.h ****                     incoming_message_.sysex_message_len++;
 2125              		.loc 4 312 25 view .LVU595
 2126 006a 9174     		strb	r1, [r2, #18]
 313:../../libDaisy/src/hid/midi.h ****                 }
 2127              		.loc 4 313 21 view .LVU596
 2128 006c 85F89230 		strb	r3, [r5, #146]
 2129              		.loc 4 318 5 view .LVU597
 2130 0070 E7E7     		b	.L66
 2131              	.L80:
 245:../../libDaisy/src/hid/midi.h ****                     if(running_status_ == ChannelPressure
 2132              		.loc 4 245 54 view .LVU598
 2133 0072 94F8AE80 		ldrb	r8, [r4, #174]	@ zero_extendqisi2
 2134 0076 01EA0808 		and	r8, r1, r8
 245:../../libDaisy/src/hid/midi.h ****                     if(running_status_ == ChannelPressure
 2135              		.loc 4 245 47 view .LVU599
 2136 007a 85F81080 		strb	r8, [r5, #16]
 246:../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 2137              		.loc 4 246 24 view .LVU600
 2138 007e 94F8A470 		ldrb	r7, [r4, #164]	@ zero_extendqisi2
 246:../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 2139              		.loc 4 246 21 view .LVU601
ARM GAS  /tmp/cc1ZxEVo.s 			page 72


 2140 0082 3B1F     		subs	r3, r7, #4
 2141 0084 012B     		cmp	r3, #1
 2142 0086 06D9     		bls	.L81
 248:../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == SongSelect)
 2143              		.loc 4 248 24 view .LVU602
 2144 0088 95F89330 		ldrb	r3, [r5, #147]	@ zero_extendqisi2
 249:../../libDaisy/src/hid/midi.h ****                     {
 2145              		.loc 4 249 24 view .LVU603
 2146 008c 03F0FD03 		and	r3, r3, #253
 2147 0090 012B     		cmp	r3, #1
 2148 0092 40F0BB80 		bne	.L82
 2149              	.L81:
 252:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 2150              		.loc 4 252 33 view .LVU604
 2151 0096 0023     		movs	r3, #0
 2152 0098 6E46     		mov	r6, sp
 2153 009a 9022     		movs	r2, #144
 2154 009c 05F10801 		add	r1, r5, #8
 2155              	.LVL106:
 252:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 2156              		.loc 4 252 33 view .LVU605
 2157 00a0 3046     		mov	r0, r6
 2158              	.LVL107:
 252:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 2159              		.loc 4 252 33 view .LVU606
 2160 00a2 2B71     		strb	r3, [r5, #4]
 2161              	.LVL108:
 252:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 2162              		.loc 4 252 33 view .LVU607
 2163 00a4 FFF7FEFF 		bl	memcpy
 2164              	.LVL109:
 2165              	.LBB940:
 2166              	.LBI940:
 2167              		.file 21 "../../libDaisy/src/util/ringbuffer.h"
   1:../../libDaisy/src/util/ringbuffer.h **** #pragma once
   2:../../libDaisy/src/util/ringbuffer.h **** #ifndef DSY_RINGBUFFER_H
   3:../../libDaisy/src/util/ringbuffer.h **** #define DSY_RINGBUFFER_H
   4:../../libDaisy/src/util/ringbuffer.h **** 
   5:../../libDaisy/src/util/ringbuffer.h **** #include <algorithm>
   6:../../libDaisy/src/util/ringbuffer.h **** 
   7:../../libDaisy/src/util/ringbuffer.h **** namespace daisy
   8:../../libDaisy/src/util/ringbuffer.h **** {
   9:../../libDaisy/src/util/ringbuffer.h **** /** @addtogroup utility
  10:../../libDaisy/src/util/ringbuffer.h ****     @{
  11:../../libDaisy/src/util/ringbuffer.h **** */
  12:../../libDaisy/src/util/ringbuffer.h **** 
  13:../../libDaisy/src/util/ringbuffer.h **** /**
  14:../../libDaisy/src/util/ringbuffer.h **** Utility Ring Buffer \n 
  15:../../libDaisy/src/util/ringbuffer.h **** imported from pichenettes/stmlib
  16:../../libDaisy/src/util/ringbuffer.h **** */
  17:../../libDaisy/src/util/ringbuffer.h **** template <typename T, size_t size>
  18:../../libDaisy/src/util/ringbuffer.h **** class RingBuffer
  19:../../libDaisy/src/util/ringbuffer.h **** {
  20:../../libDaisy/src/util/ringbuffer.h ****   public:
  21:../../libDaisy/src/util/ringbuffer.h ****     RingBuffer() {}
  22:../../libDaisy/src/util/ringbuffer.h **** 
  23:../../libDaisy/src/util/ringbuffer.h ****     /** Initializes the Ring Buffer */
ARM GAS  /tmp/cc1ZxEVo.s 			page 73


  24:../../libDaisy/src/util/ringbuffer.h ****     inline void Init() { read_ptr_ = write_ptr_ = 0; }
  25:../../libDaisy/src/util/ringbuffer.h **** 
  26:../../libDaisy/src/util/ringbuffer.h ****     /** \return The total size of the ring buffer */
  27:../../libDaisy/src/util/ringbuffer.h ****     inline size_t capacity() const { return size; }
  28:../../libDaisy/src/util/ringbuffer.h **** 
  29:../../libDaisy/src/util/ringbuffer.h ****     /** \return the number of samples that can be written to ring buffer without overwriting unread
  30:../../libDaisy/src/util/ringbuffer.h ****     inline size_t writable() const
  31:../../libDaisy/src/util/ringbuffer.h ****     {
  32:../../libDaisy/src/util/ringbuffer.h ****         return (read_ptr_ - write_ptr_ - 1) % size;
  33:../../libDaisy/src/util/ringbuffer.h ****     }
  34:../../libDaisy/src/util/ringbuffer.h **** 
  35:../../libDaisy/src/util/ringbuffer.h ****     /** \return number of unread elements in ring buffer */
  36:../../libDaisy/src/util/ringbuffer.h ****     inline size_t readable() const { return (write_ptr_ - read_ptr_) % size; }
  37:../../libDaisy/src/util/ringbuffer.h **** 
  38:../../libDaisy/src/util/ringbuffer.h ****     /** \returns True, if the buffer is empty. */
  39:../../libDaisy/src/util/ringbuffer.h ****     inline bool isEmpty() const { return write_ptr_ == read_ptr_; }
  40:../../libDaisy/src/util/ringbuffer.h **** 
  41:../../libDaisy/src/util/ringbuffer.h ****     /** Writes the value to the next available position in the ring buffer
  42:../../libDaisy/src/util/ringbuffer.h ****     \param v Value to write
  43:../../libDaisy/src/util/ringbuffer.h ****     */
  44:../../libDaisy/src/util/ringbuffer.h ****     inline void Write(T v)
 2168              		.loc 21 44 17 is_stmt 1 view .LVU608
 2169              	.L83:
 2170              	.LBB941:
  45:../../libDaisy/src/util/ringbuffer.h ****     {
  46:../../libDaisy/src/util/ringbuffer.h ****         while(!writable())
 2171              		.loc 21 46 24 view .LVU609
 2172              	.LBB942:
 2173              	.LBI942:
  30:../../libDaisy/src/util/ringbuffer.h ****     {
 2174              		.loc 21 30 19 view .LVU610
 2175              	.LBB943:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2176              		.loc 21 32 17 is_stmt 0 view .LVU611
 2177 00a8 D4F89830 		ldr	r3, [r4, #152]
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2178              		.loc 21 32 29 view .LVU612
 2179 00ac D4F89C20 		ldr	r2, [r4, #156]
 2180              	.LVL110:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2181              		.loc 21 32 40 view .LVU613
 2182 00b0 013B     		subs	r3, r3, #1
 2183 00b2 9B1A     		subs	r3, r3, r2
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2184              		.loc 21 32 47 view .LVU614
 2185 00b4 DBB2     		uxtb	r3, r3
 2186              	.LBE943:
 2187              	.LBE942:
 2188              		.loc 21 46 24 view .LVU615
 2189 00b6 002B     		cmp	r3, #0
 2190 00b8 F6D0     		beq	.L83
 2191              	.LVL111:
 2192              		.loc 21 46 24 view .LVU616
 2193 00ba 9022     		movs	r2, #144
 2194 00bc 3146     		mov	r1, r6
 2195 00be 0DEB0200 		add	r0, sp, r2
 2196 00c2 FFF7FEFF 		bl	memcpy
ARM GAS  /tmp/cc1ZxEVo.s 			page 74


 2197              	.LVL112:
 2198              	.LBB944:
 2199              	.LBI944:
  47:../../libDaisy/src/util/ringbuffer.h ****             ;
  48:../../libDaisy/src/util/ringbuffer.h ****         Overwrite(v);
  49:../../libDaisy/src/util/ringbuffer.h ****     }
  50:../../libDaisy/src/util/ringbuffer.h **** 
  51:../../libDaisy/src/util/ringbuffer.h ****     /** Writes the new element to the ring buffer, overwriting unread data if necessary. 
  52:../../libDaisy/src/util/ringbuffer.h ****     \param v Value to overwrite
  53:../../libDaisy/src/util/ringbuffer.h ****      */
  54:../../libDaisy/src/util/ringbuffer.h ****     inline void Overwrite(T v)
 2200              		.loc 21 54 17 is_stmt 1 view .LVU617
 2201              	.LBB945:
  55:../../libDaisy/src/util/ringbuffer.h ****     {
  56:../../libDaisy/src/util/ringbuffer.h ****         size_t w   = write_ptr_;
 2202              		.loc 21 56 16 is_stmt 0 view .LVU618
 2203 00c6 D4F89C60 		ldr	r6, [r4, #156]
 2204              	.LVL113:
  57:../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 2205              		.loc 21 57 9 view .LVU619
 2206 00ca 24A9     		add	r1, sp, #144
 2207 00cc 9022     		movs	r2, #144
 2208 00ce 06EBC600 		add	r0, r6, r6, lsl #3
  58:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2209              		.loc 21 58 25 view .LVU620
 2210 00d2 0136     		adds	r6, r6, #1
 2211              	.LVL114:
  57:../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 2212              		.loc 21 57 9 view .LVU621
 2213 00d4 05EB0010 		add	r0, r5, r0, lsl #4
 2214              		.loc 21 58 30 view .LVU622
 2215 00d8 F6B2     		uxtb	r6, r6
 2216              	.LVL115:
  57:../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 2217              		.loc 21 57 9 view .LVU623
 2218 00da 9830     		adds	r0, r0, #152
 2219 00dc FFF7FEFF 		bl	memcpy
 2220              	.LVL116:
 2221              		.loc 21 58 20 view .LVU624
 2222 00e0 C4F89C60 		str	r6, [r4, #156]
 2223              	.LVL117:
 2224              	.L84:
 2225              		.loc 21 58 20 view .LVU625
 2226              	.LBE945:
 2227              	.LBE944:
 2228              	.LBE941:
 2229              	.LBE940:
 262:../../libDaisy/src/hid/midi.h ****                     {
 2230              		.loc 4 262 24 view .LVU626
 2231 00e4 B8F1770F 		cmp	r8, #119
 2232 00e8 ABD9     		bls	.L66
 2233 00ea 032F     		cmp	r7, #3
 2234 00ec A9D1     		bne	.L66
 264:../../libDaisy/src/hid/midi.h ****                         running_status_        = ChannelMode;
 2235              		.loc 4 264 48 view .LVU627
 2236 00ee 0923     		movs	r3, #9
 268:../../libDaisy/src/hid/midi.h ****                     }
ARM GAS  /tmp/cc1ZxEVo.s 			page 75


 2237              		.loc 4 268 59 view .LVU628
 2238 00f0 A8F17801 		sub	r1, r8, #120
 264:../../libDaisy/src/hid/midi.h ****                         running_status_        = ChannelMode;
 2239              		.loc 4 264 48 view .LVU629
 2240 00f4 2B72     		strb	r3, [r5, #8]
 265:../../libDaisy/src/hid/midi.h ****                         incoming_message_.cm_type
 2241              		.loc 4 265 48 view .LVU630
 2242 00f6 84F8A430 		strb	r3, [r4, #164]
 267:../../libDaisy/src/hid/midi.h ****                                 incoming_message_.data[0] - 120);
 2243              		.loc 4 267 29 view .LVU631
 2244 00fa 85F89510 		strb	r1, [r5, #149]
 2245 00fe A0E7     		b	.L66
 2246              	.LVL118:
 2247              	.L85:
 280:../../libDaisy/src/hid/midi.h **** 
 2248              		.loc 4 280 54 view .LVU632
 2249 0100 94F8AE30 		ldrb	r3, [r4, #174]	@ zero_extendqisi2
 2250 0104 1940     		ands	r1, r1, r3
 2251              	.LVL119:
 280:../../libDaisy/src/hid/midi.h **** 
 2252              		.loc 4 280 47 view .LVU633
 2253 0106 6974     		strb	r1, [r5, #17]
 283:../../libDaisy/src/hid/midi.h ****                        && incoming_message_.data[1] == 0)
 2254              		.loc 4 283 21 view .LVU634
 2255 0108 94F8A430 		ldrb	r3, [r4, #164]	@ zero_extendqisi2
 284:../../libDaisy/src/hid/midi.h ****                     {
 2256              		.loc 4 284 24 view .LVU635
 2257 010c 012B     		cmp	r3, #1
 2258 010e 02D1     		bne	.L86
 2259 0110 0029     		cmp	r1, #0
 2260 0112 00F08C80 		beq	.L126
 2261              	.L86:
 2262              	.LVL120:
 284:../../libDaisy/src/hid/midi.h ****                     {
 2263              		.loc 4 284 24 view .LVU636
 2264 0116 6E46     		mov	r6, sp
 2265 0118 9022     		movs	r2, #144
 2266 011a 05F10801 		add	r1, r5, #8
 2267 011e 3046     		mov	r0, r6
 2268              	.LVL121:
 284:../../libDaisy/src/hid/midi.h ****                     {
 2269              		.loc 4 284 24 view .LVU637
 2270 0120 FFF7FEFF 		bl	memcpy
 2271              	.LVL122:
 2272              	.LBB946:
 2273              	.LBI946:
  44:../../libDaisy/src/util/ringbuffer.h ****     {
 2274              		.loc 21 44 17 is_stmt 1 view .LVU638
 2275              	.L87:
 2276              	.LBB947:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2277              		.loc 21 46 24 view .LVU639
 2278              	.LBB948:
 2279              	.LBI948:
  30:../../libDaisy/src/util/ringbuffer.h ****     {
 2280              		.loc 21 30 19 view .LVU640
 2281              	.LBB949:
ARM GAS  /tmp/cc1ZxEVo.s 			page 76


  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2282              		.loc 21 32 17 is_stmt 0 view .LVU641
 2283 0124 D4F89830 		ldr	r3, [r4, #152]
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2284              		.loc 21 32 29 view .LVU642
 2285 0128 D4F89C20 		ldr	r2, [r4, #156]
 2286              	.LVL123:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2287              		.loc 21 32 40 view .LVU643
 2288 012c 013B     		subs	r3, r3, #1
 2289 012e 9B1A     		subs	r3, r3, r2
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2290              		.loc 21 32 47 view .LVU644
 2291 0130 DBB2     		uxtb	r3, r3
 2292              	.LBE949:
 2293              	.LBE948:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2294              		.loc 21 46 24 view .LVU645
 2295 0132 002B     		cmp	r3, #0
 2296 0134 F6D0     		beq	.L87
 2297              	.LVL124:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2298              		.loc 21 46 24 view .LVU646
 2299 0136 9022     		movs	r2, #144
 2300 0138 3146     		mov	r1, r6
 2301 013a 0DEB0200 		add	r0, sp, r2
 2302 013e FFF7FEFF 		bl	memcpy
 2303              	.LVL125:
 2304              	.LBB950:
 2305              	.LBI950:
  54:../../libDaisy/src/util/ringbuffer.h ****     {
 2306              		.loc 21 54 17 is_stmt 1 view .LVU647
 2307              	.LBB951:
  56:../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 2308              		.loc 21 56 16 is_stmt 0 view .LVU648
 2309 0142 D4F89C60 		ldr	r6, [r4, #156]
 2310              	.LVL126:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2311              		.loc 21 57 9 view .LVU649
 2312 0146 24A9     		add	r1, sp, #144
 2313 0148 9022     		movs	r2, #144
 2314 014a 06EBC600 		add	r0, r6, r6, lsl #3
 2315              		.loc 21 58 25 view .LVU650
 2316 014e 0136     		adds	r6, r6, #1
 2317              	.LVL127:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2318              		.loc 21 57 9 view .LVU651
 2319 0150 05EB0010 		add	r0, r5, r0, lsl #4
 2320              		.loc 21 58 30 view .LVU652
 2321 0154 F6B2     		uxtb	r6, r6
 2322              	.LVL128:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2323              		.loc 21 57 9 view .LVU653
 2324 0156 9830     		adds	r0, r0, #152
 2325 0158 FFF7FEFF 		bl	memcpy
 2326              	.LVL129:
 2327              	.LBE951:
ARM GAS  /tmp/cc1ZxEVo.s 			page 77


 2328              	.LBE950:
 2329              	.LBE947:
 2330              	.LBE946:
 299:../../libDaisy/src/hid/midi.h ****                 break;
 2331              		.loc 4 299 25 view .LVU654
 2332 015c 0023     		movs	r3, #0
 2333              	.LBB955:
 2334              	.LBB954:
 2335              	.LBB953:
 2336              	.LBB952:
 2337              		.loc 21 58 20 view .LVU655
 2338 015e C4F89C60 		str	r6, [r4, #156]
 2339              	.LVL130:
 2340              		.loc 21 58 20 view .LVU656
 2341              	.LBE952:
 2342              	.LBE953:
 2343              	.LBE954:
 2344              	.LBE955:
 299:../../libDaisy/src/hid/midi.h ****                 break;
 2345              		.loc 4 299 25 view .LVU657
 2346 0162 2B71     		strb	r3, [r5, #4]
 2347              		.loc 4 318 5 view .LVU658
 2348 0164 48B0     		add	sp, sp, #288
 2349              		.cfi_remember_state
 2350              		.cfi_def_cfa_offset 24
 2351              		@ sp needed
 2352 0166 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2353              	.LVL131:
 2354              	.L76:
 2355              		.cfi_restore_state
 223:../../libDaisy/src/hid/midi.h ****                     incoming_message_.data[0] = byte & kDataByteMask;
 2356              		.loc 4 223 49 view .LVU659
 2357 016a 94F8A430 		ldrb	r3, [r4, #164]	@ zero_extendqisi2
 223:../../libDaisy/src/hid/midi.h ****                     incoming_message_.data[0] = byte & kDataByteMask;
 2358              		.loc 4 223 47 view .LVU660
 2359 016e 2B72     		strb	r3, [r5, #8]
 226:../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 2360              		.loc 4 226 21 view .LVU661
 2361 0170 043B     		subs	r3, r3, #4
 224:../../libDaisy/src/hid/midi.h ****                     //check for single byte running status, really this only applies to channel pre
 2362              		.loc 4 224 54 view .LVU662
 2363 0172 94F8AE20 		ldrb	r2, [r4, #174]	@ zero_extendqisi2
 226:../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 2364              		.loc 4 226 21 view .LVU663
 2365 0176 012B     		cmp	r3, #1
 224:../../libDaisy/src/hid/midi.h ****                     //check for single byte running status, really this only applies to channel pre
 2366              		.loc 4 224 54 view .LVU664
 2367 0178 01EA0201 		and	r1, r1, r2
 2368              	.LVL132:
 224:../../libDaisy/src/hid/midi.h ****                     //check for single byte running status, really this only applies to channel pre
 2369              		.loc 4 224 47 view .LVU665
 2370 017c 2974     		strb	r1, [r5, #16]
 226:../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 2371              		.loc 4 226 21 view .LVU666
 2372 017e 05D9     		bls	.L77
 228:../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == SongSelect)
 2373              		.loc 4 228 24 view .LVU667
ARM GAS  /tmp/cc1ZxEVo.s 			page 78


 2374 0180 95F89330 		ldrb	r3, [r5, #147]	@ zero_extendqisi2
 229:../../libDaisy/src/hid/midi.h ****                     {
 2375              		.loc 4 229 24 view .LVU668
 2376 0184 03F0FD03 		and	r3, r3, #253
 2377 0188 012B     		cmp	r3, #1
 2378 018a 3CD1     		bne	.L78
 2379              	.L77:
 232:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 2380              		.loc 4 232 33 view .LVU669
 2381 018c 0023     		movs	r3, #0
 2382 018e 6E46     		mov	r6, sp
 2383 0190 9022     		movs	r2, #144
 2384 0192 05F10801 		add	r1, r5, #8
 2385 0196 3046     		mov	r0, r6
 2386              	.LVL133:
 232:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 2387              		.loc 4 232 33 view .LVU670
 2388 0198 2B71     		strb	r3, [r5, #4]
 2389              	.LVL134:
 232:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 2390              		.loc 4 232 33 view .LVU671
 2391 019a FFF7FEFF 		bl	memcpy
 2392              	.LVL135:
 2393              	.LBB956:
 2394              	.LBI956:
  44:../../libDaisy/src/util/ringbuffer.h ****     {
 2395              		.loc 21 44 17 is_stmt 1 view .LVU672
 2396              	.L79:
 2397              	.LBB957:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2398              		.loc 21 46 24 view .LVU673
 2399              	.LBB958:
 2400              	.LBI958:
  30:../../libDaisy/src/util/ringbuffer.h ****     {
 2401              		.loc 21 30 19 view .LVU674
 2402              	.LBB959:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2403              		.loc 21 32 17 is_stmt 0 view .LVU675
 2404 019e D4F89830 		ldr	r3, [r4, #152]
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2405              		.loc 21 32 29 view .LVU676
 2406 01a2 D4F89C20 		ldr	r2, [r4, #156]
 2407              	.LVL136:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2408              		.loc 21 32 40 view .LVU677
 2409 01a6 013B     		subs	r3, r3, #1
 2410 01a8 9B1A     		subs	r3, r3, r2
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2411              		.loc 21 32 47 view .LVU678
 2412 01aa DBB2     		uxtb	r3, r3
 2413              	.LBE959:
 2414              	.LBE958:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2415              		.loc 21 46 24 view .LVU679
 2416 01ac 002B     		cmp	r3, #0
 2417 01ae F6D0     		beq	.L79
 2418              	.LVL137:
ARM GAS  /tmp/cc1ZxEVo.s 			page 79


 2419              	.L123:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2420              		.loc 21 46 24 view .LVU680
 2421 01b0 9022     		movs	r2, #144
 2422 01b2 3146     		mov	r1, r6
 2423 01b4 0DEB0200 		add	r0, sp, r2
 2424 01b8 FFF7FEFF 		bl	memcpy
 2425              	.LVL138:
 2426              	.LBE957:
 2427              	.LBE956:
 2428              	.LBB960:
 2429              	.LBB961:
 2430              	.LBB962:
 2431              	.LBI962:
  54:../../libDaisy/src/util/ringbuffer.h ****     {
 2432              		.loc 21 54 17 is_stmt 1 view .LVU681
 2433              	.LBB963:
  56:../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 2434              		.loc 21 56 16 is_stmt 0 view .LVU682
 2435 01bc D4F89C60 		ldr	r6, [r4, #156]
 2436              	.LVL139:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2437              		.loc 21 57 9 view .LVU683
 2438 01c0 24A9     		add	r1, sp, #144
 2439 01c2 9022     		movs	r2, #144
 2440 01c4 06EBC600 		add	r0, r6, r6, lsl #3
 2441              		.loc 21 58 25 view .LVU684
 2442 01c8 0136     		adds	r6, r6, #1
 2443              	.LVL140:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2444              		.loc 21 57 9 view .LVU685
 2445 01ca 05EB0010 		add	r0, r5, r0, lsl #4
 2446              		.loc 21 58 30 view .LVU686
 2447 01ce F6B2     		uxtb	r6, r6
 2448              	.LVL141:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2449              		.loc 21 57 9 view .LVU687
 2450 01d0 9830     		adds	r0, r0, #152
 2451 01d2 FFF7FEFF 		bl	memcpy
 2452              	.LVL142:
 2453              		.loc 21 58 20 view .LVU688
 2454 01d6 C4F89C60 		str	r6, [r4, #156]
 2455              		.loc 21 58 20 view .LVU689
 2456              	.LBE963:
 2457              	.LBE962:
 2458              	.LBE961:
 2459              	.LBE960:
 2460              		.loc 4 318 5 view .LVU690
 2461 01da 48B0     		add	sp, sp, #288
 2462              		.cfi_remember_state
 2463              		.cfi_def_cfa_offset 24
 2464              		@ sp needed
 2465 01dc BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2466              	.LVL143:
 2467              	.L125:
 2468              		.cfi_restore_state
 305:../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
ARM GAS  /tmp/cc1ZxEVo.s 			page 80


 2469              		.loc 4 305 29 view .LVU691
 2470 01e0 0023     		movs	r3, #0
 2471 01e2 6E46     		mov	r6, sp
 2472 01e4 9022     		movs	r2, #144
 2473 01e6 05F10801 		add	r1, r5, #8
 2474              	.LVL144:
 305:../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 2475              		.loc 4 305 29 view .LVU692
 2476 01ea 3046     		mov	r0, r6
 2477              	.LVL145:
 305:../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 2478              		.loc 4 305 29 view .LVU693
 2479 01ec 2B71     		strb	r3, [r5, #4]
 2480              	.LVL146:
 305:../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 2481              		.loc 4 305 29 view .LVU694
 2482 01ee FFF7FEFF 		bl	memcpy
 2483              	.LVL147:
 2484              	.LBB967:
 2485              	.LBI960:
  44:../../libDaisy/src/util/ringbuffer.h ****     {
 2486              		.loc 21 44 17 is_stmt 1 view .LVU695
 2487              	.L89:
 2488              	.LBB966:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2489              		.loc 21 46 24 view .LVU696
 2490              	.LBB964:
 2491              	.LBI964:
  30:../../libDaisy/src/util/ringbuffer.h ****     {
 2492              		.loc 21 30 19 view .LVU697
 2493              	.LBB965:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2494              		.loc 21 32 17 is_stmt 0 view .LVU698
 2495 01f2 D4F89830 		ldr	r3, [r4, #152]
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2496              		.loc 21 32 29 view .LVU699
 2497 01f6 D4F89C20 		ldr	r2, [r4, #156]
 2498              	.LVL148:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2499              		.loc 21 32 40 view .LVU700
 2500 01fa 013B     		subs	r3, r3, #1
 2501 01fc 9B1A     		subs	r3, r3, r2
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2502              		.loc 21 32 47 view .LVU701
 2503 01fe DBB2     		uxtb	r3, r3
 2504              	.LBE965:
 2505              	.LBE964:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2506              		.loc 21 46 24 view .LVU702
 2507 0200 002B     		cmp	r3, #0
 2508 0202 F6D0     		beq	.L89
 2509 0204 D4E7     		b	.L123
 2510              	.LVL149:
 2511              	.L78:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2512              		.loc 21 46 24 view .LVU703
 2513              	.LBE966:
ARM GAS  /tmp/cc1ZxEVo.s 			page 81


 2514              	.LBE967:
 238:../../libDaisy/src/hid/midi.h ****                     }
 2515              		.loc 4 238 29 view .LVU704
 2516 0206 0223     		movs	r3, #2
 2517 0208 2B71     		strb	r3, [r5, #4]
 2518 020a 1AE7     		b	.L66
 2519              	.LVL150:
 2520              	.L82:
 257:../../libDaisy/src/hid/midi.h ****                     }
 2521              		.loc 4 257 33 view .LVU705
 2522 020c 0223     		movs	r3, #2
 2523 020e 2B71     		strb	r3, [r5, #4]
 2524 0210 68E7     		b	.L84
 2525              	.LVL151:
 2526              	.L124:
 185:../../libDaisy/src/hid/midi.h ****                             {
 2527              		.loc 4 185 29 view .LVU706
 2528 0212 11F00800 		ands	r0, r1, #8
 183:../../libDaisy/src/hid/midi.h ****                             //system real time = 1111 1xxx
 2529              		.loc 4 183 55 view .LVU707
 2530 0216 EA60     		str	r2, [r5, #12]
 185:../../libDaisy/src/hid/midi.h ****                             {
 2531              		.loc 4 185 29 view .LVU708
 2532 0218 36D1     		bne	.L127
 202:../../libDaisy/src/hid/midi.h ****                                 //sysex
 2533              		.loc 4 202 69 view .LVU709
 2534 021a 01F00703 		and	r3, r1, #7
 201:../../libDaisy/src/hid/midi.h ****                                                                     & 0x07);
 2535              		.loc 4 201 37 view .LVU710
 2536 021e 85F89330 		strb	r3, [r5, #147]
 204:../../libDaisy/src/hid/midi.h ****                                 {
 2537              		.loc 4 204 33 view .LVU711
 2538 0222 3BB9     		cbnz	r3, .L74
 206:../../libDaisy/src/hid/midi.h ****                                     incoming_message_.sysex_message_len = 0;
 2539              		.loc 4 206 45 view .LVU712
 2540 0224 0322     		movs	r2, #3
 207:../../libDaisy/src/hid/midi.h ****                                 }
 2541              		.loc 4 207 73 view .LVU713
 2542 0226 85F89230 		strb	r3, [r5, #146]
 206:../../libDaisy/src/hid/midi.h ****                                     incoming_message_.sysex_message_len = 0;
 2543              		.loc 4 206 45 view .LVU714
 2544 022a 2A71     		strb	r2, [r5, #4]
 2545 022c 09E7     		b	.L66
 2546              	.LVL152:
 2547              	.L126:
 286:../../libDaisy/src/hid/midi.h ****                     }
 2548              		.loc 4 286 48 view .LVU715
 2549 022e 0023     		movs	r3, #0
 2550 0230 2B72     		strb	r3, [r5, #8]
 2551 0232 70E7     		b	.L86
 2552              	.LVL153:
 2553              	.L74:
 210:../../libDaisy/src/hid/midi.h ****                                 {
 2554              		.loc 4 210 38 view .LVU716
 2555 0234 4B07     		lsls	r3, r1, #29
 2556 0236 7FF504AF 		bpl	.L66
 2557 023a 6E46     		mov	r6, sp
ARM GAS  /tmp/cc1ZxEVo.s 			page 82


 212:../../libDaisy/src/hid/midi.h ****                                     event_q_.Write(incoming_message_);
 2558              		.loc 4 212 45 view .LVU717
 2559 023c 2871     		strb	r0, [r5, #4]
 2560              	.LVL154:
 212:../../libDaisy/src/hid/midi.h ****                                     event_q_.Write(incoming_message_);
 2561              		.loc 4 212 45 view .LVU718
 2562 023e 9022     		movs	r2, #144
 2563 0240 05F10801 		add	r1, r5, #8
 2564              	.LVL155:
 212:../../libDaisy/src/hid/midi.h ****                                     event_q_.Write(incoming_message_);
 2565              		.loc 4 212 45 view .LVU719
 2566 0244 3046     		mov	r0, r6
 2567 0246 FFF7FEFF 		bl	memcpy
 2568              	.LVL156:
 2569              	.LBB968:
 2570              	.LBI968:
  44:../../libDaisy/src/util/ringbuffer.h ****     {
 2571              		.loc 21 44 17 is_stmt 1 view .LVU720
 2572              	.L75:
 2573              	.LBB969:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2574              		.loc 21 46 24 view .LVU721
 2575              	.LBB970:
 2576              	.LBI970:
  30:../../libDaisy/src/util/ringbuffer.h ****     {
 2577              		.loc 21 30 19 view .LVU722
 2578              	.LBB971:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2579              		.loc 21 32 17 is_stmt 0 view .LVU723
 2580 024a D4F89830 		ldr	r3, [r4, #152]
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2581              		.loc 21 32 29 view .LVU724
 2582 024e D4F89C20 		ldr	r2, [r4, #156]
 2583              	.LVL157:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2584              		.loc 21 32 40 view .LVU725
 2585 0252 013B     		subs	r3, r3, #1
 2586 0254 9B1A     		subs	r3, r3, r2
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2587              		.loc 21 32 47 view .LVU726
 2588 0256 DBB2     		uxtb	r3, r3
 2589              	.LBE971:
 2590              	.LBE970:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2591              		.loc 21 46 24 view .LVU727
 2592 0258 002B     		cmp	r3, #0
 2593 025a F6D0     		beq	.L75
 2594              	.LVL158:
 2595              	.L122:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2596              		.loc 21 46 24 view .LVU728
 2597 025c 9022     		movs	r2, #144
 2598 025e 3146     		mov	r1, r6
 2599 0260 0DEB0200 		add	r0, sp, r2
 2600 0264 FFF7FEFF 		bl	memcpy
 2601              	.LVL159:
 2602              	.LBB972:
ARM GAS  /tmp/cc1ZxEVo.s 			page 83


 2603              	.LBI972:
  54:../../libDaisy/src/util/ringbuffer.h ****     {
 2604              		.loc 21 54 17 is_stmt 1 view .LVU729
 2605              	.LBB973:
  56:../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 2606              		.loc 21 56 16 is_stmt 0 view .LVU730
 2607 0268 D4F89C60 		ldr	r6, [r4, #156]
 2608              	.LVL160:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2609              		.loc 21 57 9 view .LVU731
 2610 026c 24A9     		add	r1, sp, #144
 2611 026e 9022     		movs	r2, #144
 2612 0270 06EBC600 		add	r0, r6, r6, lsl #3
 2613 0274 05EB0010 		add	r0, r5, r0, lsl #4
 2614 0278 9830     		adds	r0, r0, #152
 2615 027a FFF7FEFF 		bl	memcpy
 2616              	.LVL161:
 2617              		.loc 21 58 25 view .LVU732
 2618 027e 731C     		adds	r3, r6, #1
 2619              		.loc 21 58 30 view .LVU733
 2620 0280 DBB2     		uxtb	r3, r3
 2621              		.loc 21 58 20 view .LVU734
 2622 0282 C4F89C30 		str	r3, [r4, #156]
 2623              	.LVL162:
 2624              		.loc 21 58 20 view .LVU735
 2625              	.LBE973:
 2626              	.LBE972:
 2627              	.LBE969:
 2628              	.LBE968:
 2629 0286 DCE6     		b	.L66
 2630              	.LVL163:
 2631              	.L127:
 187:../../libDaisy/src/hid/midi.h ****                                 running_status_        = SystemRealTime;
 2632              		.loc 4 187 56 view .LVU736
 2633 0288 0823     		movs	r3, #8
 2634 028a 6E46     		mov	r6, sp
 2635 028c 2B72     		strb	r3, [r5, #8]
 2636 028e 3046     		mov	r0, r6
 188:../../libDaisy/src/hid/midi.h ****                                 incoming_message_.srt_type
 2637              		.loc 4 188 56 view .LVU737
 2638 0290 84F8A430 		strb	r3, [r4, #164]
 191:../../libDaisy/src/hid/midi.h **** 
 2639              		.loc 4 191 46 view .LVU738
 2640 0294 94F8B230 		ldrb	r3, [r4, #178]	@ zero_extendqisi2
 194:../../libDaisy/src/hid/midi.h ****                                 event_q_.Write(incoming_message_);
 2641              		.loc 4 194 41 view .LVU739
 2642 0298 2A71     		strb	r2, [r5, #4]
 2643              	.LVL164:
 194:../../libDaisy/src/hid/midi.h ****                                 event_q_.Write(incoming_message_);
 2644              		.loc 4 194 41 view .LVU740
 2645 029a 9022     		movs	r2, #144
 191:../../libDaisy/src/hid/midi.h **** 
 2646              		.loc 4 191 46 view .LVU741
 2647 029c 1940     		ands	r1, r1, r3
 2648              	.LVL165:
 190:../../libDaisy/src/hid/midi.h ****                                         byte & kSystemRealTimeMask);
 2649              		.loc 4 190 37 view .LVU742
ARM GAS  /tmp/cc1ZxEVo.s 			page 84


 2650 029e 85F89410 		strb	r1, [r5, #148]
 2651 02a2 05F10801 		add	r1, r5, #8
 2652 02a6 FFF7FEFF 		bl	memcpy
 2653              	.LVL166:
 2654              	.LBB974:
 2655              	.LBI974:
  44:../../libDaisy/src/util/ringbuffer.h ****     {
 2656              		.loc 21 44 17 is_stmt 1 view .LVU743
 2657              	.L73:
 2658              	.LBB975:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2659              		.loc 21 46 24 view .LVU744
 2660              	.LBB976:
 2661              	.LBI976:
  30:../../libDaisy/src/util/ringbuffer.h ****     {
 2662              		.loc 21 30 19 view .LVU745
 2663              	.LBB977:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2664              		.loc 21 32 17 is_stmt 0 view .LVU746
 2665 02aa D4F89830 		ldr	r3, [r4, #152]
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2666              		.loc 21 32 29 view .LVU747
 2667 02ae D4F89C20 		ldr	r2, [r4, #156]
 2668              	.LVL167:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2669              		.loc 21 32 40 view .LVU748
 2670 02b2 013B     		subs	r3, r3, #1
 2671 02b4 9B1A     		subs	r3, r3, r2
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2672              		.loc 21 32 47 view .LVU749
 2673 02b6 DBB2     		uxtb	r3, r3
 2674              	.LBE977:
 2675              	.LBE976:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2676              		.loc 21 46 24 view .LVU750
 2677 02b8 002B     		cmp	r3, #0
 2678 02ba F6D0     		beq	.L73
 2679 02bc CEE7     		b	.L122
 2680              	.LBE975:
 2681              	.LBE974:
 2682              		.cfi_endproc
 2683              	.LFE5259:
 2685 02be 00BF     		.section	.text._ZN5daisy11MidiHandlerINS_17MidiUartTransportEE5ParseEh,"axG",%progbits,_ZN5daisy11
 2686              		.align	1
 2687              		.p2align 2,,3
 2688              		.weak	_ZN5daisy11MidiHandlerINS_17MidiUartTransportEE5ParseEh
 2689              		.syntax unified
 2690              		.thumb
 2691              		.thumb_func
 2693              	_ZN5daisy11MidiHandlerINS_17MidiUartTransportEE5ParseEh:
 2694              	.LVL168:
 2695              	.LFB5261:
 156:../../libDaisy/src/hid/midi.h ****     {
 2696              		.loc 4 156 10 is_stmt 1 view -0
 2697              		.cfi_startproc
 2698              		@ args = 0, pretend = 0, frame = 288
 2699              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cc1ZxEVo.s 			page 85


 156:../../libDaisy/src/hid/midi.h ****     {
 2700              		.loc 4 156 10 is_stmt 0 view .LVU752
 2701 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2702              		.cfi_def_cfa_offset 24
 2703              		.cfi_offset 4, -24
 2704              		.cfi_offset 5, -20
 2705              		.cfi_offset 6, -16
 2706              		.cfi_offset 7, -12
 2707              		.cfi_offset 8, -8
 2708              		.cfi_offset 14, -4
 159:../../libDaisy/src/hid/midi.h ****         {
 2709              		.loc 4 159 20 view .LVU753
 2710 0004 00F51044 		add	r4, r0, #36864
 156:../../libDaisy/src/hid/midi.h ****     {
 2711              		.loc 4 156 10 view .LVU754
 2712 0008 C8B0     		sub	sp, sp, #288
 2713              		.cfi_def_cfa_offset 312
 156:../../libDaisy/src/hid/midi.h ****     {
 2714              		.loc 4 156 10 view .LVU755
 2715 000a 0546     		mov	r5, r0
 159:../../libDaisy/src/hid/midi.h ****         {
 2716              		.loc 4 159 18 view .LVU756
 2717 000c 94F8B430 		ldrb	r3, [r4, #180]	@ zero_extendqisi2
 159:../../libDaisy/src/hid/midi.h ****         {
 2718              		.loc 4 159 9 view .LVU757
 2719 0010 1942     		tst	r1, r3
 159:../../libDaisy/src/hid/midi.h ****         {
 2720              		.loc 4 159 37 view .LVU758
 2721 0012 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 159:../../libDaisy/src/hid/midi.h ****         {
 2722              		.loc 4 159 9 view .LVU759
 2723 0014 18D0     		beq	.L129
 159:../../libDaisy/src/hid/midi.h ****         {
 2724              		.loc 4 159 37 discriminator 1 view .LVU760
 2725 0016 032B     		cmp	r3, #3
 2726 0018 1CD0     		beq	.L130
 161:../../libDaisy/src/hid/midi.h ****         }
 2727              		.loc 4 161 21 view .LVU761
 2728 001a 0022     		movs	r2, #0
 2729 001c 0271     		strb	r2, [r0, #4]
 170:../../libDaisy/src/hid/midi.h ****                     incoming_message_.type    = static_cast<MidiMessageType>(
 2730              		.loc 4 170 54 view .LVU762
 2731 001e 94F8B830 		ldrb	r3, [r4, #184]	@ zero_extendqisi2
 2732 0022 0B40     		ands	r3, r3, r1
 2733 0024 C360     		str	r3, [r0, #12]
 172:../../libDaisy/src/hid/midi.h **** 
 2734              		.loc 4 172 31 view .LVU763
 2735 0026 94F8B530 		ldrb	r3, [r4, #181]	@ zero_extendqisi2
 172:../../libDaisy/src/hid/midi.h **** 
 2736              		.loc 4 172 47 view .LVU764
 2737 002a 0B40     		ands	r3, r3, r1
 2738 002c 1B09     		lsrs	r3, r3, #4
 175:../../libDaisy/src/hid/midi.h ****                     {
 2739              		.loc 4 175 21 view .LVU765
 2740 002e 092B     		cmp	r3, #9
 171:../../libDaisy/src/hid/midi.h ****                         (byte & kMessageMask) >> 4);
 2741              		.loc 4 171 47 view .LVU766
ARM GAS  /tmp/cc1ZxEVo.s 			page 86


 2742 0030 0372     		strb	r3, [r0, #8]
 175:../../libDaisy/src/hid/midi.h ****                     {
 2743              		.loc 4 175 21 view .LVU767
 2744 0032 06D8     		bhi	.L128
 177:../../libDaisy/src/hid/midi.h ****                         // Mark this status byte as running_status
 2745              		.loc 4 177 33 view .LVU768
 2746 0034 0120     		movs	r0, #1
 2747              	.LVL169:
 181:../../libDaisy/src/hid/midi.h ****                         {
 2748              		.loc 4 181 25 view .LVU769
 2749 0036 072B     		cmp	r3, #7
 177:../../libDaisy/src/hid/midi.h ****                         // Mark this status byte as running_status
 2750              		.loc 4 177 33 view .LVU770
 2751 0038 2871     		strb	r0, [r5, #4]
 179:../../libDaisy/src/hid/midi.h **** 
 2752              		.loc 4 179 41 view .LVU771
 2753 003a 84F8A430 		strb	r3, [r4, #164]
 181:../../libDaisy/src/hid/midi.h ****                         {
 2754              		.loc 4 181 25 view .LVU772
 2755 003e 00F0E880 		beq	.L186
 2756              	.LVL170:
 2757              	.L128:
 2758              		.loc 4 318 5 view .LVU773
 2759 0042 48B0     		add	sp, sp, #288
 2760              		.cfi_remember_state
 2761              		.cfi_def_cfa_offset 24
 2762              		@ sp needed
 2763 0044 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2764              	.LVL171:
 2765              	.L129:
 2766              		.cfi_restore_state
 163:../../libDaisy/src/hid/midi.h ****         {
 2767              		.loc 4 163 9 view .LVU774
 2768 0048 032B     		cmp	r3, #3
 2769 004a FAD8     		bhi	.L128
 2770 004c DFE803F0 		tbb	[pc, r3]
 2771              	.L152:
 2772 0050 8D       		.byte	(.L138-.L152)/2
 2773 0051 11       		.byte	(.L142-.L152)/2
 2774 0052 58       		.byte	(.L147-.L152)/2
 2775 0053 02       		.byte	(.L130-.L152)/2
 2776              		.p2align 1
 2777              	.L130:
 303:../../libDaisy/src/hid/midi.h ****                 {
 2778              		.loc 4 303 17 view .LVU775
 2779 0054 F729     		cmp	r1, #247
 2780 0056 00F0C380 		beq	.L187
 308:../../libDaisy/src/hid/midi.h ****                 {
 2781              		.loc 4 308 22 view .LVU776
 2782 005a 95F99220 		ldrsb	r2, [r5, #146]
 308:../../libDaisy/src/hid/midi.h ****                 {
 2783              		.loc 4 308 43 view .LVU777
 2784 005e 95F89230 		ldrb	r3, [r5, #146]	@ zero_extendqisi2
 308:../../libDaisy/src/hid/midi.h ****                 {
 2785              		.loc 4 308 22 view .LVU778
 2786 0062 002A     		cmp	r2, #0
 2787 0064 EDDB     		blt	.L128
ARM GAS  /tmp/cc1ZxEVo.s 			page 87


 312:../../libDaisy/src/hid/midi.h ****                     incoming_message_.sysex_message_len++;
 2788              		.loc 4 312 25 view .LVU779
 2789 0066 EA18     		adds	r2, r5, r3
 313:../../libDaisy/src/hid/midi.h ****                 }
 2790              		.loc 4 313 21 view .LVU780
 2791 0068 0133     		adds	r3, r3, #1
 312:../../libDaisy/src/hid/midi.h ****                     incoming_message_.sysex_message_len++;
 2792              		.loc 4 312 25 view .LVU781
 2793 006a 9174     		strb	r1, [r2, #18]
 313:../../libDaisy/src/hid/midi.h ****                 }
 2794              		.loc 4 313 21 view .LVU782
 2795 006c 85F89230 		strb	r3, [r5, #146]
 2796              		.loc 4 318 5 view .LVU783
 2797 0070 E7E7     		b	.L128
 2798              	.L142:
 245:../../libDaisy/src/hid/midi.h ****                     if(running_status_ == ChannelPressure
 2799              		.loc 4 245 54 view .LVU784
 2800 0072 94F8B680 		ldrb	r8, [r4, #182]	@ zero_extendqisi2
 2801 0076 01EA0808 		and	r8, r1, r8
 245:../../libDaisy/src/hid/midi.h ****                     if(running_status_ == ChannelPressure
 2802              		.loc 4 245 47 view .LVU785
 2803 007a 85F81080 		strb	r8, [r5, #16]
 246:../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 2804              		.loc 4 246 24 view .LVU786
 2805 007e 94F8A470 		ldrb	r7, [r4, #164]	@ zero_extendqisi2
 246:../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 2806              		.loc 4 246 21 view .LVU787
 2807 0082 3B1F     		subs	r3, r7, #4
 2808 0084 012B     		cmp	r3, #1
 2809 0086 06D9     		bls	.L143
 248:../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == SongSelect)
 2810              		.loc 4 248 24 view .LVU788
 2811 0088 95F89330 		ldrb	r3, [r5, #147]	@ zero_extendqisi2
 249:../../libDaisy/src/hid/midi.h ****                     {
 2812              		.loc 4 249 24 view .LVU789
 2813 008c 03F0FD03 		and	r3, r3, #253
 2814 0090 012B     		cmp	r3, #1
 2815 0092 40F0BB80 		bne	.L144
 2816              	.L143:
 252:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 2817              		.loc 4 252 33 view .LVU790
 2818 0096 0023     		movs	r3, #0
 2819 0098 6E46     		mov	r6, sp
 2820 009a 9022     		movs	r2, #144
 2821 009c 05F10801 		add	r1, r5, #8
 2822              	.LVL172:
 252:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 2823              		.loc 4 252 33 view .LVU791
 2824 00a0 3046     		mov	r0, r6
 2825              	.LVL173:
 252:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 2826              		.loc 4 252 33 view .LVU792
 2827 00a2 2B71     		strb	r3, [r5, #4]
 2828              	.LVL174:
 252:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 2829              		.loc 4 252 33 view .LVU793
 2830 00a4 FFF7FEFF 		bl	memcpy
ARM GAS  /tmp/cc1ZxEVo.s 			page 88


 2831              	.LVL175:
 2832              	.LBB1014:
 2833              	.LBI1014:
  44:../../libDaisy/src/util/ringbuffer.h ****     {
 2834              		.loc 21 44 17 is_stmt 1 view .LVU794
 2835              	.L145:
 2836              	.LBB1015:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2837              		.loc 21 46 24 view .LVU795
 2838              	.LBB1016:
 2839              	.LBI1016:
  30:../../libDaisy/src/util/ringbuffer.h ****     {
 2840              		.loc 21 30 19 view .LVU796
 2841              	.LBB1017:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2842              		.loc 21 32 17 is_stmt 0 view .LVU797
 2843 00a8 D4F89830 		ldr	r3, [r4, #152]
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2844              		.loc 21 32 29 view .LVU798
 2845 00ac D4F89C20 		ldr	r2, [r4, #156]
 2846              	.LVL176:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2847              		.loc 21 32 40 view .LVU799
 2848 00b0 013B     		subs	r3, r3, #1
 2849 00b2 9B1A     		subs	r3, r3, r2
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2850              		.loc 21 32 47 view .LVU800
 2851 00b4 DBB2     		uxtb	r3, r3
 2852              	.LBE1017:
 2853              	.LBE1016:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2854              		.loc 21 46 24 view .LVU801
 2855 00b6 002B     		cmp	r3, #0
 2856 00b8 F6D0     		beq	.L145
 2857              	.LVL177:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2858              		.loc 21 46 24 view .LVU802
 2859 00ba 9022     		movs	r2, #144
 2860 00bc 3146     		mov	r1, r6
 2861 00be 0DEB0200 		add	r0, sp, r2
 2862 00c2 FFF7FEFF 		bl	memcpy
 2863              	.LVL178:
 2864              	.LBB1018:
 2865              	.LBI1018:
  54:../../libDaisy/src/util/ringbuffer.h ****     {
 2866              		.loc 21 54 17 is_stmt 1 view .LVU803
 2867              	.LBB1019:
  56:../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 2868              		.loc 21 56 16 is_stmt 0 view .LVU804
 2869 00c6 D4F89C60 		ldr	r6, [r4, #156]
 2870              	.LVL179:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2871              		.loc 21 57 9 view .LVU805
 2872 00ca 24A9     		add	r1, sp, #144
 2873 00cc 9022     		movs	r2, #144
 2874 00ce 06EBC600 		add	r0, r6, r6, lsl #3
 2875              		.loc 21 58 25 view .LVU806
ARM GAS  /tmp/cc1ZxEVo.s 			page 89


 2876 00d2 0136     		adds	r6, r6, #1
 2877              	.LVL180:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2878              		.loc 21 57 9 view .LVU807
 2879 00d4 05EB0010 		add	r0, r5, r0, lsl #4
 2880              		.loc 21 58 30 view .LVU808
 2881 00d8 F6B2     		uxtb	r6, r6
 2882              	.LVL181:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2883              		.loc 21 57 9 view .LVU809
 2884 00da 9830     		adds	r0, r0, #152
 2885 00dc FFF7FEFF 		bl	memcpy
 2886              	.LVL182:
 2887              		.loc 21 58 20 view .LVU810
 2888 00e0 C4F89C60 		str	r6, [r4, #156]
 2889              	.LVL183:
 2890              	.L146:
 2891              		.loc 21 58 20 view .LVU811
 2892              	.LBE1019:
 2893              	.LBE1018:
 2894              	.LBE1015:
 2895              	.LBE1014:
 262:../../libDaisy/src/hid/midi.h ****                     {
 2896              		.loc 4 262 24 view .LVU812
 2897 00e4 B8F1770F 		cmp	r8, #119
 2898 00e8 ABD9     		bls	.L128
 2899 00ea 032F     		cmp	r7, #3
 2900 00ec A9D1     		bne	.L128
 264:../../libDaisy/src/hid/midi.h ****                         running_status_        = ChannelMode;
 2901              		.loc 4 264 48 view .LVU813
 2902 00ee 0923     		movs	r3, #9
 268:../../libDaisy/src/hid/midi.h ****                     }
 2903              		.loc 4 268 59 view .LVU814
 2904 00f0 A8F17801 		sub	r1, r8, #120
 264:../../libDaisy/src/hid/midi.h ****                         running_status_        = ChannelMode;
 2905              		.loc 4 264 48 view .LVU815
 2906 00f4 2B72     		strb	r3, [r5, #8]
 265:../../libDaisy/src/hid/midi.h ****                         incoming_message_.cm_type
 2907              		.loc 4 265 48 view .LVU816
 2908 00f6 84F8A430 		strb	r3, [r4, #164]
 267:../../libDaisy/src/hid/midi.h ****                                 incoming_message_.data[0] - 120);
 2909              		.loc 4 267 29 view .LVU817
 2910 00fa 85F89510 		strb	r1, [r5, #149]
 2911 00fe A0E7     		b	.L128
 2912              	.LVL184:
 2913              	.L147:
 280:../../libDaisy/src/hid/midi.h **** 
 2914              		.loc 4 280 54 view .LVU818
 2915 0100 94F8B630 		ldrb	r3, [r4, #182]	@ zero_extendqisi2
 2916 0104 1940     		ands	r1, r1, r3
 2917              	.LVL185:
 280:../../libDaisy/src/hid/midi.h **** 
 2918              		.loc 4 280 47 view .LVU819
 2919 0106 6974     		strb	r1, [r5, #17]
 283:../../libDaisy/src/hid/midi.h ****                        && incoming_message_.data[1] == 0)
 2920              		.loc 4 283 21 view .LVU820
 2921 0108 94F8A430 		ldrb	r3, [r4, #164]	@ zero_extendqisi2
ARM GAS  /tmp/cc1ZxEVo.s 			page 90


 284:../../libDaisy/src/hid/midi.h ****                     {
 2922              		.loc 4 284 24 view .LVU821
 2923 010c 012B     		cmp	r3, #1
 2924 010e 02D1     		bne	.L148
 2925 0110 0029     		cmp	r1, #0
 2926 0112 00F08C80 		beq	.L188
 2927              	.L148:
 2928              	.LVL186:
 284:../../libDaisy/src/hid/midi.h ****                     {
 2929              		.loc 4 284 24 view .LVU822
 2930 0116 6E46     		mov	r6, sp
 2931 0118 9022     		movs	r2, #144
 2932 011a 05F10801 		add	r1, r5, #8
 2933 011e 3046     		mov	r0, r6
 2934              	.LVL187:
 284:../../libDaisy/src/hid/midi.h ****                     {
 2935              		.loc 4 284 24 view .LVU823
 2936 0120 FFF7FEFF 		bl	memcpy
 2937              	.LVL188:
 2938              	.LBB1020:
 2939              	.LBI1020:
  44:../../libDaisy/src/util/ringbuffer.h ****     {
 2940              		.loc 21 44 17 is_stmt 1 view .LVU824
 2941              	.L149:
 2942              	.LBB1021:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2943              		.loc 21 46 24 view .LVU825
 2944              	.LBB1022:
 2945              	.LBI1022:
  30:../../libDaisy/src/util/ringbuffer.h ****     {
 2946              		.loc 21 30 19 view .LVU826
 2947              	.LBB1023:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2948              		.loc 21 32 17 is_stmt 0 view .LVU827
 2949 0124 D4F89830 		ldr	r3, [r4, #152]
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2950              		.loc 21 32 29 view .LVU828
 2951 0128 D4F89C20 		ldr	r2, [r4, #156]
 2952              	.LVL189:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2953              		.loc 21 32 40 view .LVU829
 2954 012c 013B     		subs	r3, r3, #1
 2955 012e 9B1A     		subs	r3, r3, r2
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 2956              		.loc 21 32 47 view .LVU830
 2957 0130 DBB2     		uxtb	r3, r3
 2958              	.LBE1023:
 2959              	.LBE1022:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2960              		.loc 21 46 24 view .LVU831
 2961 0132 002B     		cmp	r3, #0
 2962 0134 F6D0     		beq	.L149
 2963              	.LVL190:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 2964              		.loc 21 46 24 view .LVU832
 2965 0136 9022     		movs	r2, #144
 2966 0138 3146     		mov	r1, r6
ARM GAS  /tmp/cc1ZxEVo.s 			page 91


 2967 013a 0DEB0200 		add	r0, sp, r2
 2968 013e FFF7FEFF 		bl	memcpy
 2969              	.LVL191:
 2970              	.LBB1024:
 2971              	.LBI1024:
  54:../../libDaisy/src/util/ringbuffer.h ****     {
 2972              		.loc 21 54 17 is_stmt 1 view .LVU833
 2973              	.LBB1025:
  56:../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 2974              		.loc 21 56 16 is_stmt 0 view .LVU834
 2975 0142 D4F89C60 		ldr	r6, [r4, #156]
 2976              	.LVL192:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2977              		.loc 21 57 9 view .LVU835
 2978 0146 24A9     		add	r1, sp, #144
 2979 0148 9022     		movs	r2, #144
 2980 014a 06EBC600 		add	r0, r6, r6, lsl #3
 2981              		.loc 21 58 25 view .LVU836
 2982 014e 0136     		adds	r6, r6, #1
 2983              	.LVL193:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2984              		.loc 21 57 9 view .LVU837
 2985 0150 05EB0010 		add	r0, r5, r0, lsl #4
 2986              		.loc 21 58 30 view .LVU838
 2987 0154 F6B2     		uxtb	r6, r6
 2988              	.LVL194:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 2989              		.loc 21 57 9 view .LVU839
 2990 0156 9830     		adds	r0, r0, #152
 2991 0158 FFF7FEFF 		bl	memcpy
 2992              	.LVL195:
 2993              	.LBE1025:
 2994              	.LBE1024:
 2995              	.LBE1021:
 2996              	.LBE1020:
 299:../../libDaisy/src/hid/midi.h ****                 break;
 2997              		.loc 4 299 25 view .LVU840
 2998 015c 0023     		movs	r3, #0
 2999              	.LBB1029:
 3000              	.LBB1028:
 3001              	.LBB1027:
 3002              	.LBB1026:
 3003              		.loc 21 58 20 view .LVU841
 3004 015e C4F89C60 		str	r6, [r4, #156]
 3005              	.LVL196:
 3006              		.loc 21 58 20 view .LVU842
 3007              	.LBE1026:
 3008              	.LBE1027:
 3009              	.LBE1028:
 3010              	.LBE1029:
 299:../../libDaisy/src/hid/midi.h ****                 break;
 3011              		.loc 4 299 25 view .LVU843
 3012 0162 2B71     		strb	r3, [r5, #4]
 3013              		.loc 4 318 5 view .LVU844
 3014 0164 48B0     		add	sp, sp, #288
 3015              		.cfi_remember_state
 3016              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/cc1ZxEVo.s 			page 92


 3017              		@ sp needed
 3018 0166 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3019              	.LVL197:
 3020              	.L138:
 3021              		.cfi_restore_state
 223:../../libDaisy/src/hid/midi.h ****                     incoming_message_.data[0] = byte & kDataByteMask;
 3022              		.loc 4 223 49 view .LVU845
 3023 016a 94F8A430 		ldrb	r3, [r4, #164]	@ zero_extendqisi2
 223:../../libDaisy/src/hid/midi.h ****                     incoming_message_.data[0] = byte & kDataByteMask;
 3024              		.loc 4 223 47 view .LVU846
 3025 016e 2B72     		strb	r3, [r5, #8]
 226:../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 3026              		.loc 4 226 21 view .LVU847
 3027 0170 043B     		subs	r3, r3, #4
 224:../../libDaisy/src/hid/midi.h ****                     //check for single byte running status, really this only applies to channel pre
 3028              		.loc 4 224 54 view .LVU848
 3029 0172 94F8B620 		ldrb	r2, [r4, #182]	@ zero_extendqisi2
 226:../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 3030              		.loc 4 226 21 view .LVU849
 3031 0176 012B     		cmp	r3, #1
 224:../../libDaisy/src/hid/midi.h ****                     //check for single byte running status, really this only applies to channel pre
 3032              		.loc 4 224 54 view .LVU850
 3033 0178 01EA0201 		and	r1, r1, r2
 3034              	.LVL198:
 224:../../libDaisy/src/hid/midi.h ****                     //check for single byte running status, really this only applies to channel pre
 3035              		.loc 4 224 47 view .LVU851
 3036 017c 2974     		strb	r1, [r5, #16]
 226:../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 3037              		.loc 4 226 21 view .LVU852
 3038 017e 05D9     		bls	.L139
 228:../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == SongSelect)
 3039              		.loc 4 228 24 view .LVU853
 3040 0180 95F89330 		ldrb	r3, [r5, #147]	@ zero_extendqisi2
 229:../../libDaisy/src/hid/midi.h ****                     {
 3041              		.loc 4 229 24 view .LVU854
 3042 0184 03F0FD03 		and	r3, r3, #253
 3043 0188 012B     		cmp	r3, #1
 3044 018a 3CD1     		bne	.L140
 3045              	.L139:
 232:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 3046              		.loc 4 232 33 view .LVU855
 3047 018c 0023     		movs	r3, #0
 3048 018e 6E46     		mov	r6, sp
 3049 0190 9022     		movs	r2, #144
 3050 0192 05F10801 		add	r1, r5, #8
 3051 0196 3046     		mov	r0, r6
 3052              	.LVL199:
 232:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 3053              		.loc 4 232 33 view .LVU856
 3054 0198 2B71     		strb	r3, [r5, #4]
 3055              	.LVL200:
 232:../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 3056              		.loc 4 232 33 view .LVU857
 3057 019a FFF7FEFF 		bl	memcpy
 3058              	.LVL201:
 3059              	.LBB1030:
 3060              	.LBI1030:
ARM GAS  /tmp/cc1ZxEVo.s 			page 93


  44:../../libDaisy/src/util/ringbuffer.h ****     {
 3061              		.loc 21 44 17 is_stmt 1 view .LVU858
 3062              	.L141:
 3063              	.LBB1031:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 3064              		.loc 21 46 24 view .LVU859
 3065              	.LBB1032:
 3066              	.LBI1032:
  30:../../libDaisy/src/util/ringbuffer.h ****     {
 3067              		.loc 21 30 19 view .LVU860
 3068              	.LBB1033:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3069              		.loc 21 32 17 is_stmt 0 view .LVU861
 3070 019e D4F89830 		ldr	r3, [r4, #152]
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3071              		.loc 21 32 29 view .LVU862
 3072 01a2 D4F89C20 		ldr	r2, [r4, #156]
 3073              	.LVL202:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3074              		.loc 21 32 40 view .LVU863
 3075 01a6 013B     		subs	r3, r3, #1
 3076 01a8 9B1A     		subs	r3, r3, r2
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3077              		.loc 21 32 47 view .LVU864
 3078 01aa DBB2     		uxtb	r3, r3
 3079              	.LBE1033:
 3080              	.LBE1032:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 3081              		.loc 21 46 24 view .LVU865
 3082 01ac 002B     		cmp	r3, #0
 3083 01ae F6D0     		beq	.L141
 3084              	.LVL203:
 3085              	.L185:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 3086              		.loc 21 46 24 view .LVU866
 3087 01b0 9022     		movs	r2, #144
 3088 01b2 3146     		mov	r1, r6
 3089 01b4 0DEB0200 		add	r0, sp, r2
 3090 01b8 FFF7FEFF 		bl	memcpy
 3091              	.LVL204:
 3092              	.LBE1031:
 3093              	.LBE1030:
 3094              	.LBB1034:
 3095              	.LBB1035:
 3096              	.LBB1036:
 3097              	.LBI1036:
  54:../../libDaisy/src/util/ringbuffer.h ****     {
 3098              		.loc 21 54 17 is_stmt 1 view .LVU867
 3099              	.LBB1037:
  56:../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 3100              		.loc 21 56 16 is_stmt 0 view .LVU868
 3101 01bc D4F89C60 		ldr	r6, [r4, #156]
 3102              	.LVL205:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 3103              		.loc 21 57 9 view .LVU869
 3104 01c0 24A9     		add	r1, sp, #144
 3105 01c2 9022     		movs	r2, #144
ARM GAS  /tmp/cc1ZxEVo.s 			page 94


 3106 01c4 06EBC600 		add	r0, r6, r6, lsl #3
 3107              		.loc 21 58 25 view .LVU870
 3108 01c8 0136     		adds	r6, r6, #1
 3109              	.LVL206:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 3110              		.loc 21 57 9 view .LVU871
 3111 01ca 05EB0010 		add	r0, r5, r0, lsl #4
 3112              		.loc 21 58 30 view .LVU872
 3113 01ce F6B2     		uxtb	r6, r6
 3114              	.LVL207:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 3115              		.loc 21 57 9 view .LVU873
 3116 01d0 9830     		adds	r0, r0, #152
 3117 01d2 FFF7FEFF 		bl	memcpy
 3118              	.LVL208:
 3119              		.loc 21 58 20 view .LVU874
 3120 01d6 C4F89C60 		str	r6, [r4, #156]
 3121              		.loc 21 58 20 view .LVU875
 3122              	.LBE1037:
 3123              	.LBE1036:
 3124              	.LBE1035:
 3125              	.LBE1034:
 3126              		.loc 4 318 5 view .LVU876
 3127 01da 48B0     		add	sp, sp, #288
 3128              		.cfi_remember_state
 3129              		.cfi_def_cfa_offset 24
 3130              		@ sp needed
 3131 01dc BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3132              	.LVL209:
 3133              	.L187:
 3134              		.cfi_restore_state
 305:../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 3135              		.loc 4 305 29 view .LVU877
 3136 01e0 0023     		movs	r3, #0
 3137 01e2 6E46     		mov	r6, sp
 3138 01e4 9022     		movs	r2, #144
 3139 01e6 05F10801 		add	r1, r5, #8
 3140              	.LVL210:
 305:../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 3141              		.loc 4 305 29 view .LVU878
 3142 01ea 3046     		mov	r0, r6
 3143              	.LVL211:
 305:../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 3144              		.loc 4 305 29 view .LVU879
 3145 01ec 2B71     		strb	r3, [r5, #4]
 3146              	.LVL212:
 305:../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 3147              		.loc 4 305 29 view .LVU880
 3148 01ee FFF7FEFF 		bl	memcpy
 3149              	.LVL213:
 3150              	.LBB1041:
 3151              	.LBI1034:
  44:../../libDaisy/src/util/ringbuffer.h ****     {
 3152              		.loc 21 44 17 is_stmt 1 view .LVU881
 3153              	.L151:
 3154              	.LBB1040:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
ARM GAS  /tmp/cc1ZxEVo.s 			page 95


 3155              		.loc 21 46 24 view .LVU882
 3156              	.LBB1038:
 3157              	.LBI1038:
  30:../../libDaisy/src/util/ringbuffer.h ****     {
 3158              		.loc 21 30 19 view .LVU883
 3159              	.LBB1039:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3160              		.loc 21 32 17 is_stmt 0 view .LVU884
 3161 01f2 D4F89830 		ldr	r3, [r4, #152]
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3162              		.loc 21 32 29 view .LVU885
 3163 01f6 D4F89C20 		ldr	r2, [r4, #156]
 3164              	.LVL214:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3165              		.loc 21 32 40 view .LVU886
 3166 01fa 013B     		subs	r3, r3, #1
 3167 01fc 9B1A     		subs	r3, r3, r2
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3168              		.loc 21 32 47 view .LVU887
 3169 01fe DBB2     		uxtb	r3, r3
 3170              	.LBE1039:
 3171              	.LBE1038:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 3172              		.loc 21 46 24 view .LVU888
 3173 0200 002B     		cmp	r3, #0
 3174 0202 F6D0     		beq	.L151
 3175 0204 D4E7     		b	.L185
 3176              	.LVL215:
 3177              	.L140:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 3178              		.loc 21 46 24 view .LVU889
 3179              	.LBE1040:
 3180              	.LBE1041:
 238:../../libDaisy/src/hid/midi.h ****                     }
 3181              		.loc 4 238 29 view .LVU890
 3182 0206 0223     		movs	r3, #2
 3183 0208 2B71     		strb	r3, [r5, #4]
 3184 020a 1AE7     		b	.L128
 3185              	.LVL216:
 3186              	.L144:
 257:../../libDaisy/src/hid/midi.h ****                     }
 3187              		.loc 4 257 33 view .LVU891
 3188 020c 0223     		movs	r3, #2
 3189 020e 2B71     		strb	r3, [r5, #4]
 3190 0210 68E7     		b	.L146
 3191              	.LVL217:
 3192              	.L186:
 185:../../libDaisy/src/hid/midi.h ****                             {
 3193              		.loc 4 185 29 view .LVU892
 3194 0212 11F00800 		ands	r0, r1, #8
 183:../../libDaisy/src/hid/midi.h ****                             //system real time = 1111 1xxx
 3195              		.loc 4 183 55 view .LVU893
 3196 0216 EA60     		str	r2, [r5, #12]
 185:../../libDaisy/src/hid/midi.h ****                             {
 3197              		.loc 4 185 29 view .LVU894
 3198 0218 36D1     		bne	.L189
 202:../../libDaisy/src/hid/midi.h ****                                 //sysex
ARM GAS  /tmp/cc1ZxEVo.s 			page 96


 3199              		.loc 4 202 69 view .LVU895
 3200 021a 01F00703 		and	r3, r1, #7
 201:../../libDaisy/src/hid/midi.h ****                                                                     & 0x07);
 3201              		.loc 4 201 37 view .LVU896
 3202 021e 85F89330 		strb	r3, [r5, #147]
 204:../../libDaisy/src/hid/midi.h ****                                 {
 3203              		.loc 4 204 33 view .LVU897
 3204 0222 3BB9     		cbnz	r3, .L136
 206:../../libDaisy/src/hid/midi.h ****                                     incoming_message_.sysex_message_len = 0;
 3205              		.loc 4 206 45 view .LVU898
 3206 0224 0322     		movs	r2, #3
 207:../../libDaisy/src/hid/midi.h ****                                 }
 3207              		.loc 4 207 73 view .LVU899
 3208 0226 85F89230 		strb	r3, [r5, #146]
 206:../../libDaisy/src/hid/midi.h ****                                     incoming_message_.sysex_message_len = 0;
 3209              		.loc 4 206 45 view .LVU900
 3210 022a 2A71     		strb	r2, [r5, #4]
 3211 022c 09E7     		b	.L128
 3212              	.LVL218:
 3213              	.L188:
 286:../../libDaisy/src/hid/midi.h ****                     }
 3214              		.loc 4 286 48 view .LVU901
 3215 022e 0023     		movs	r3, #0
 3216 0230 2B72     		strb	r3, [r5, #8]
 3217 0232 70E7     		b	.L148
 3218              	.LVL219:
 3219              	.L136:
 210:../../libDaisy/src/hid/midi.h ****                                 {
 3220              		.loc 4 210 38 view .LVU902
 3221 0234 4B07     		lsls	r3, r1, #29
 3222 0236 7FF504AF 		bpl	.L128
 3223 023a 6E46     		mov	r6, sp
 212:../../libDaisy/src/hid/midi.h ****                                     event_q_.Write(incoming_message_);
 3224              		.loc 4 212 45 view .LVU903
 3225 023c 2871     		strb	r0, [r5, #4]
 3226              	.LVL220:
 212:../../libDaisy/src/hid/midi.h ****                                     event_q_.Write(incoming_message_);
 3227              		.loc 4 212 45 view .LVU904
 3228 023e 9022     		movs	r2, #144
 3229 0240 05F10801 		add	r1, r5, #8
 3230              	.LVL221:
 212:../../libDaisy/src/hid/midi.h ****                                     event_q_.Write(incoming_message_);
 3231              		.loc 4 212 45 view .LVU905
 3232 0244 3046     		mov	r0, r6
 3233 0246 FFF7FEFF 		bl	memcpy
 3234              	.LVL222:
 3235              	.LBB1042:
 3236              	.LBI1042:
  44:../../libDaisy/src/util/ringbuffer.h ****     {
 3237              		.loc 21 44 17 is_stmt 1 view .LVU906
 3238              	.L137:
 3239              	.LBB1043:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 3240              		.loc 21 46 24 view .LVU907
 3241              	.LBB1044:
 3242              	.LBI1044:
  30:../../libDaisy/src/util/ringbuffer.h ****     {
ARM GAS  /tmp/cc1ZxEVo.s 			page 97


 3243              		.loc 21 30 19 view .LVU908
 3244              	.LBB1045:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3245              		.loc 21 32 17 is_stmt 0 view .LVU909
 3246 024a D4F89830 		ldr	r3, [r4, #152]
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3247              		.loc 21 32 29 view .LVU910
 3248 024e D4F89C20 		ldr	r2, [r4, #156]
 3249              	.LVL223:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3250              		.loc 21 32 40 view .LVU911
 3251 0252 013B     		subs	r3, r3, #1
 3252 0254 9B1A     		subs	r3, r3, r2
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3253              		.loc 21 32 47 view .LVU912
 3254 0256 DBB2     		uxtb	r3, r3
 3255              	.LBE1045:
 3256              	.LBE1044:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 3257              		.loc 21 46 24 view .LVU913
 3258 0258 002B     		cmp	r3, #0
 3259 025a F6D0     		beq	.L137
 3260              	.LVL224:
 3261              	.L184:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 3262              		.loc 21 46 24 view .LVU914
 3263 025c 9022     		movs	r2, #144
 3264 025e 3146     		mov	r1, r6
 3265 0260 0DEB0200 		add	r0, sp, r2
 3266 0264 FFF7FEFF 		bl	memcpy
 3267              	.LVL225:
 3268              	.LBB1046:
 3269              	.LBI1046:
  54:../../libDaisy/src/util/ringbuffer.h ****     {
 3270              		.loc 21 54 17 is_stmt 1 view .LVU915
 3271              	.LBB1047:
  56:../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 3272              		.loc 21 56 16 is_stmt 0 view .LVU916
 3273 0268 D4F89C60 		ldr	r6, [r4, #156]
 3274              	.LVL226:
  57:../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 3275              		.loc 21 57 9 view .LVU917
 3276 026c 24A9     		add	r1, sp, #144
 3277 026e 9022     		movs	r2, #144
 3278 0270 06EBC600 		add	r0, r6, r6, lsl #3
 3279 0274 05EB0010 		add	r0, r5, r0, lsl #4
 3280 0278 9830     		adds	r0, r0, #152
 3281 027a FFF7FEFF 		bl	memcpy
 3282              	.LVL227:
 3283              		.loc 21 58 25 view .LVU918
 3284 027e 731C     		adds	r3, r6, #1
 3285              		.loc 21 58 30 view .LVU919
 3286 0280 DBB2     		uxtb	r3, r3
 3287              		.loc 21 58 20 view .LVU920
 3288 0282 C4F89C30 		str	r3, [r4, #156]
 3289              	.LVL228:
 3290              		.loc 21 58 20 view .LVU921
ARM GAS  /tmp/cc1ZxEVo.s 			page 98


 3291              	.LBE1047:
 3292              	.LBE1046:
 3293              	.LBE1043:
 3294              	.LBE1042:
 3295 0286 DCE6     		b	.L128
 3296              	.LVL229:
 3297              	.L189:
 187:../../libDaisy/src/hid/midi.h ****                                 running_status_        = SystemRealTime;
 3298              		.loc 4 187 56 view .LVU922
 3299 0288 0823     		movs	r3, #8
 3300 028a 6E46     		mov	r6, sp
 3301 028c 2B72     		strb	r3, [r5, #8]
 3302 028e 3046     		mov	r0, r6
 188:../../libDaisy/src/hid/midi.h ****                                 incoming_message_.srt_type
 3303              		.loc 4 188 56 view .LVU923
 3304 0290 84F8A430 		strb	r3, [r4, #164]
 191:../../libDaisy/src/hid/midi.h **** 
 3305              		.loc 4 191 46 view .LVU924
 3306 0294 94F8BA30 		ldrb	r3, [r4, #186]	@ zero_extendqisi2
 194:../../libDaisy/src/hid/midi.h ****                                 event_q_.Write(incoming_message_);
 3307              		.loc 4 194 41 view .LVU925
 3308 0298 2A71     		strb	r2, [r5, #4]
 3309              	.LVL230:
 194:../../libDaisy/src/hid/midi.h ****                                 event_q_.Write(incoming_message_);
 3310              		.loc 4 194 41 view .LVU926
 3311 029a 9022     		movs	r2, #144
 191:../../libDaisy/src/hid/midi.h **** 
 3312              		.loc 4 191 46 view .LVU927
 3313 029c 1940     		ands	r1, r1, r3
 3314              	.LVL231:
 190:../../libDaisy/src/hid/midi.h ****                                         byte & kSystemRealTimeMask);
 3315              		.loc 4 190 37 view .LVU928
 3316 029e 85F89410 		strb	r1, [r5, #148]
 3317 02a2 05F10801 		add	r1, r5, #8
 3318 02a6 FFF7FEFF 		bl	memcpy
 3319              	.LVL232:
 3320              	.LBB1048:
 3321              	.LBI1048:
  44:../../libDaisy/src/util/ringbuffer.h ****     {
 3322              		.loc 21 44 17 is_stmt 1 view .LVU929
 3323              	.L135:
 3324              	.LBB1049:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 3325              		.loc 21 46 24 view .LVU930
 3326              	.LBB1050:
 3327              	.LBI1050:
  30:../../libDaisy/src/util/ringbuffer.h ****     {
 3328              		.loc 21 30 19 view .LVU931
 3329              	.LBB1051:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3330              		.loc 21 32 17 is_stmt 0 view .LVU932
 3331 02aa D4F89830 		ldr	r3, [r4, #152]
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3332              		.loc 21 32 29 view .LVU933
 3333 02ae D4F89C20 		ldr	r2, [r4, #156]
 3334              	.LVL233:
  32:../../libDaisy/src/util/ringbuffer.h ****     }
ARM GAS  /tmp/cc1ZxEVo.s 			page 99


 3335              		.loc 21 32 40 view .LVU934
 3336 02b2 013B     		subs	r3, r3, #1
 3337 02b4 9B1A     		subs	r3, r3, r2
  32:../../libDaisy/src/util/ringbuffer.h ****     }
 3338              		.loc 21 32 47 view .LVU935
 3339 02b6 DBB2     		uxtb	r3, r3
 3340              	.LBE1051:
 3341              	.LBE1050:
  46:../../libDaisy/src/util/ringbuffer.h ****             ;
 3342              		.loc 21 46 24 view .LVU936
 3343 02b8 002B     		cmp	r3, #0
 3344 02ba F6D0     		beq	.L135
 3345 02bc CEE7     		b	.L184
 3346              	.LBE1049:
 3347              	.LBE1048:
 3348              		.cfi_endproc
 3349              	.LFE5261:
 3351 02be 00BF     		.section	.text.startup.main,"ax",%progbits
 3352              		.align	1
 3353              		.p2align 2,,3
 3354              		.global	main
 3355              		.syntax unified
 3356              		.thumb
 3357              		.thumb_func
 3359              	main:
 3360              	.LFB4806:
 141:Polysynth.cpp ****     float samplerate;
 3361              		.loc 14 141 1 is_stmt 1 view -0
 3362              		.cfi_startproc
 3363              		@ args = 0, pretend = 0, frame = 8
 3364              		@ frame_needed = 0, uses_anonymous_args = 0
 142:Polysynth.cpp ****     
 3365              		.loc 14 142 5 view .LVU938
 145:Polysynth.cpp ****     hw.SetAudioBlockSize(4);
 3366              		.loc 14 145 5 view .LVU939
 141:Polysynth.cpp ****     float samplerate;
 3367              		.loc 14 141 1 is_stmt 0 view .LVU940
 3368 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3369              		.cfi_def_cfa_offset 32
 3370              		.cfi_offset 4, -32
 3371              		.cfi_offset 5, -28
 3372              		.cfi_offset 6, -24
 3373              		.cfi_offset 7, -20
 3374              		.cfi_offset 8, -16
 3375              		.cfi_offset 9, -12
 3376              		.cfi_offset 10, -8
 3377              		.cfi_offset 14, -4
 3378              	.LBB1104:
 3379              	.LBB1105:
  97:../../libDaisy/src/hid/midi.h **** 
 3380              		.loc 4 97 9 view .LVU941
 3381 0004 5D4C     		ldr	r4, .L220
 3382              	.LBE1105:
 3383              	.LBE1104:
 141:Polysynth.cpp ****     float samplerate;
 3384              		.loc 14 141 1 view .LVU942
 3385 0006 82B0     		sub	sp, sp, #8
ARM GAS  /tmp/cc1ZxEVo.s 			page 100


 3386              		.cfi_def_cfa_offset 40
 145:Polysynth.cpp ****     hw.SetAudioBlockSize(4);
 3387              		.loc 14 145 12 view .LVU943
 3388 0008 0021     		movs	r1, #0
 3389 000a 5D48     		ldr	r0, .L220+4
 3390              	.LBB1117:
 3391              	.LBB1111:
  97:../../libDaisy/src/hid/midi.h **** 
 3392              		.loc 4 97 9 view .LVU944
 3393 000c 0025     		movs	r5, #0
 3394              	.LBE1111:
 3395              	.LBE1117:
 145:Polysynth.cpp ****     hw.SetAudioBlockSize(4);
 3396              		.loc 14 145 12 view .LVU945
 3397 000e FFF7FEFF 		bl	_ZN5daisy8DaisyPod4InitEb
 3398              	.LVL234:
 146:Polysynth.cpp ****     samplerate = hw.AudioSampleRate();
 3399              		.loc 14 146 5 is_stmt 1 view .LVU946
 3400              	.LBB1118:
 3401              	.LBB1112:
  97:../../libDaisy/src/hid/midi.h **** 
 3402              		.loc 4 97 9 is_stmt 0 view .LVU947
 3403 0012 04F51048 		add	r8, r4, #36864
 3404              	.LBE1112:
 3405              	.LBE1118:
 146:Polysynth.cpp ****     samplerate = hw.AudioSampleRate();
 3406              		.loc 14 146 25 view .LVU948
 3407 0016 0421     		movs	r1, #4
 3408 0018 5948     		ldr	r0, .L220+4
 3409 001a 04F19807 		add	r7, r4, #152
 3410 001e FFF7FEFF 		bl	_ZN5daisy8DaisyPod17SetAudioBlockSizeEj
 3411              	.LVL235:
 147:Polysynth.cpp ****     
 3412              		.loc 14 147 5 is_stmt 1 view .LVU949
 147:Polysynth.cpp ****     
 3413              		.loc 14 147 36 is_stmt 0 view .LVU950
 3414 0022 5748     		ldr	r0, .L220+4
 3415 0024 FFF7FEFF 		bl	_ZN5daisy8DaisyPod15AudioSampleRateEv
 3416              	.LVL236:
 3417              	.LBB1119:
 3418              	.LBB1113:
  99:../../libDaisy/src/hid/midi.h **** 
 3419              		.loc 4 99 24 view .LVU951
 3420 0028 2946     		mov	r1, r5
 3421 002a 08F1A800 		add	r0, r8, #168
  97:../../libDaisy/src/hid/midi.h **** 
 3422              		.loc 4 97 9 view .LVU952
 3423 002e 88F8A550 		strb	r5, [r8, #165]
 3424 0032 DFF86091 		ldr	r9, .L220+24
 3425              	.LBE1113:
 3426              	.LBE1119:
 147:Polysynth.cpp ****     
 3427              		.loc 14 147 36 view .LVU953
 3428 0036 8DED010A 		vstr.32	s0, [sp, #4]	@ int
 3429              	.LVL237:
 149:Polysynth.cpp ****     midi_cfg.transport_config.periph = MidiUsbTransport::Config::INTERNAL;
 3430              		.loc 14 149 5 is_stmt 1 view .LVU954
ARM GAS  /tmp/cc1ZxEVo.s 			page 101


 150:Polysynth.cpp ****     midi.Init(midi_cfg);
 3431              		.loc 14 150 5 view .LVU955
 151:Polysynth.cpp ****     hw.midi.StartReceive();
 3432              		.loc 14 151 5 view .LVU956
 3433              	.LBB1120:
 3434              	.LBI1104:
  95:../../libDaisy/src/hid/midi.h ****     {
 3435              		.loc 4 95 10 view .LVU957
 3436              	.LBB1114:
  99:../../libDaisy/src/hid/midi.h **** 
 3437              		.loc 4 99 24 is_stmt 0 view .LVU958
 3438 003a FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport4InitENS0_6ConfigE
 3439              	.LVL238:
 3440              	.LBB1106:
 3441              	.LBI1106:
  24:../../libDaisy/src/util/ringbuffer.h **** 
 3442              		.loc 21 24 17 is_stmt 1 view .LVU959
 3443              	.LBE1106:
 102:../../libDaisy/src/hid/midi.h ****         pstate_                = ParserEmpty;
 3444              		.loc 4 102 32 is_stmt 0 view .LVU960
 3445 003e 0A23     		movs	r3, #10
 3446              	.LBB1109:
 3447              	.LBB1107:
  24:../../libDaisy/src/util/ringbuffer.h **** 
 3448              		.loc 21 24 49 view .LVU961
 3449 0040 C8F89C50 		str	r5, [r8, #156]
 3450              	.LBE1107:
 3451              	.LBE1109:
 3452              	.LBE1114:
 3453              	.LBE1120:
 3454              	.LBB1121:
 3455              	.LBB1122:
 3456              	.LBB1123:
  61:../../libDaisy/src/hid/midi.h ****     inline size_t  Readable() { return uart_.Readable(); }
 3457              		.loc 4 61 45 view .LVU962
 3458 0044 4F48     		ldr	r0, .L220+8
 3459              	.LBE1123:
 3460              	.LBE1122:
 3461              	.LBE1121:
 3462              	.LBB1128:
 3463              	.LBB1115:
 3464              	.LBB1110:
 3465              	.LBB1108:
  24:../../libDaisy/src/util/ringbuffer.h **** 
 3466              		.loc 21 24 36 view .LVU963
 3467 0046 C8F89850 		str	r5, [r8, #152]
 3468              	.LVL239:
  24:../../libDaisy/src/util/ringbuffer.h **** 
 3469              		.loc 21 24 36 view .LVU964
 3470              	.LBE1108:
 3471              	.LBE1110:
 3472              	.LBE1115:
 3473              	.LBE1128:
 152:Polysynth.cpp **** 
 3474              		.loc 14 152 5 is_stmt 1 view .LVU965
 3475              	.LBB1129:
 3476              	.LBI1121:
ARM GAS  /tmp/cc1ZxEVo.s 			page 102


 107:../../libDaisy/src/hid/midi.h **** 
 3477              		.loc 4 107 10 view .LVU966
 3478              	.LBB1126:
 3479              	.LBI1122:
  61:../../libDaisy/src/hid/midi.h ****     inline size_t  Readable() { return uart_.Readable(); }
 3480              		.loc 4 61 20 view .LVU967
 3481              	.LBB1124:
  61:../../libDaisy/src/hid/midi.h ****     inline size_t  Readable() { return uart_.Readable(); }
 3482              		.loc 4 61 32 view .LVU968
 3483              	.LBE1124:
 3484              	.LBE1126:
 3485              	.LBE1129:
 3486              	.LBB1130:
 3487              	.LBB1116:
 102:../../libDaisy/src/hid/midi.h ****         pstate_                = ParserEmpty;
 3488              		.loc 4 102 32 is_stmt 0 view .LVU969
 3489 004a 2372     		strb	r3, [r4, #8]
 103:../../libDaisy/src/hid/midi.h ****     }
 3490              		.loc 4 103 32 view .LVU970
 3491 004c 2571     		strb	r5, [r4, #4]
 3492              	.LBE1116:
 3493              	.LBE1130:
 3494              	.LBB1131:
 3495              	.LBB1127:
 3496              	.LBB1125:
  61:../../libDaisy/src/hid/midi.h ****     inline size_t  Readable() { return uart_.Readable(); }
 3497              		.loc 4 61 45 view .LVU971
 3498 004e FFF7FEFF 		bl	_ZN5daisy11UartHandler7StartRxEv
 3499              	.LVL240:
  61:../../libDaisy/src/hid/midi.h ****     inline size_t  Readable() { return uart_.Readable(); }
 3500              		.loc 4 61 45 view .LVU972
 3501              	.LBE1125:
 3502              	.LBE1127:
 3503              	.LBE1131:
 154:Polysynth.cpp ****     InitEnvelopes(samplerate);
 3504              		.loc 14 154 5 is_stmt 1 view .LVU973
 3505 0052 A9F51045 		sub	r5, r9, #36864
 154:Polysynth.cpp ****     InitEnvelopes(samplerate);
 3506              		.loc 14 154 14 is_stmt 0 view .LVU974
 3507 0056 9DED010A 		vldr.32	s0, [sp, #4]	@ int
 3508 005a FFF7FEFF 		bl	_Z9InitSynthf
 3509              	.LVL241:
 155:Polysynth.cpp ****     InitColors();
 3510              		.loc 14 155 5 is_stmt 1 view .LVU975
 155:Polysynth.cpp ****     InitColors();
 3511              		.loc 14 155 18 is_stmt 0 view .LVU976
 3512 005e 9DED010A 		vldr.32	s0, [sp, #4]	@ int
 3513 0062 FFF7FEFF 		bl	_Z13InitEnvelopesf
 3514              	.LVL242:
 156:Polysynth.cpp ****     
 3515              		.loc 14 156 5 is_stmt 1 view .LVU977
 3516 0066 05F50576 		add	r6, r5, #532
 156:Polysynth.cpp ****     
 3517              		.loc 14 156 15 is_stmt 0 view .LVU978
 3518 006a FFF7FEFF 		bl	_Z10InitColorsv
 3519              	.LVL243:
 159:Polysynth.cpp ****     hw.StartAudio(AudioCallback);
ARM GAS  /tmp/cc1ZxEVo.s 			page 103


 3520              		.loc 14 159 5 is_stmt 1 view .LVU979
 159:Polysynth.cpp ****     hw.StartAudio(AudioCallback);
 3521              		.loc 14 159 16 is_stmt 0 view .LVU980
 3522 006e A9F51040 		sub	r0, r9, #36864
 3523 0072 FFF7FEFF 		bl	_ZN5daisy8DaisyPod8StartAdcEv
 3524              	.LVL244:
 160:Polysynth.cpp ****     //logger.StartLog(true);
 3525              		.loc 14 160 5 is_stmt 1 view .LVU981
 160:Polysynth.cpp ****     //logger.StartLog(true);
 3526              		.loc 14 160 18 is_stmt 0 view .LVU982
 3527 0076 4449     		ldr	r1, .L220+12
 3528 0078 A9F51040 		sub	r0, r9, #36864
 3529 007c FFF7FEFF 		bl	_ZN5daisy8DaisyPod10StartAudioEPFvPKfPfjE
 3530              	.LVL245:
 3531              	.L202:
 164:Polysynth.cpp ****     {
 3532              		.loc 14 164 5 is_stmt 1 view .LVU983
 3533              	.LBB1132:
 167:Polysynth.cpp ****         hw.midi.Listen();
 3534              		.loc 14 167 9 view .LVU984
 3535              	.LBB1133:
 3536              	.LBI1133:
 110:../../libDaisy/src/hid/midi.h ****     {
 3537              		.loc 4 110 10 view .LVU985
 3538              	.LBB1134:
 113:../../libDaisy/src/hid/midi.h ****         while(transport_.Readable())
 3539              		.loc 4 113 29 is_stmt 0 view .LVU986
 3540 0080 FFF7FEFF 		bl	_ZN5daisy6System6GetNowEv
 3541              	.LVL246:
 3542 0084 8246     		mov	r10, r0
 3543              	.LVL247:
 113:../../libDaisy/src/hid/midi.h ****         while(transport_.Readable())
 3544              		.loc 4 113 29 view .LVU987
 3545 0086 07E0     		b	.L192
 3546              	.LVL248:
 3547              	.L215:
 116:../../libDaisy/src/hid/midi.h ****             Parse(transport_.Rx());
 3548              		.loc 4 116 24 view .LVU988
 3549 0088 C8F8A0A0 		str	r10, [r8, #160]
 117:../../libDaisy/src/hid/midi.h ****         }
 3550              		.loc 4 117 18 view .LVU989
 3551 008c FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport2RxEv
 3552              	.LVL249:
 3553 0090 0146     		mov	r1, r0
 3554 0092 3A48     		ldr	r0, .L220
 3555 0094 FFF7FEFF 		bl	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh
 3556              	.LVL250:
 3557              	.L192:
 114:../../libDaisy/src/hid/midi.h ****         {
 3558              		.loc 4 114 34 is_stmt 1 view .LVU990
 3559 0098 3C48     		ldr	r0, .L220+16
 3560 009a FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport8ReadableEv
 3561              	.LVL251:
 3562 009e 0346     		mov	r3, r0
 117:../../libDaisy/src/hid/midi.h ****         }
 3563              		.loc 4 117 18 is_stmt 0 view .LVU991
 3564 00a0 3A48     		ldr	r0, .L220+16
ARM GAS  /tmp/cc1ZxEVo.s 			page 104


 114:../../libDaisy/src/hid/midi.h ****         {
 3565              		.loc 4 114 34 view .LVU992
 3566 00a2 002B     		cmp	r3, #0
 3567 00a4 F0D1     		bne	.L215
 123:../../libDaisy/src/hid/midi.h ****         {
 3568              		.loc 4 123 32 view .LVU993
 3569 00a6 3948     		ldr	r0, .L220+16
 3570 00a8 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport8RxActiveEv
 3571              	.LVL252:
 123:../../libDaisy/src/hid/midi.h ****         {
 3572              		.loc 4 123 9 view .LVU994
 3573 00ac 0346     		mov	r3, r0
 3574 00ae 0028     		cmp	r0, #0
 3575 00b0 5CD0     		beq	.L216
 3576              	.L193:
 3577              	.LVL253:
 123:../../libDaisy/src/hid/midi.h ****         {
 3578              		.loc 4 123 9 view .LVU995
 3579              	.LBE1134:
 3580              	.LBE1133:
 168:Polysynth.cpp ****         /** When there are messages waiting in the queue... */
 3581              		.loc 14 168 9 is_stmt 1 view .LVU996
 3582              	.LBB1138:
 3583              	.LBI1138:
 110:../../libDaisy/src/hid/midi.h ****     {
 3584              		.loc 4 110 10 view .LVU997
 3585              	.LBB1139:
 113:../../libDaisy/src/hid/midi.h ****         while(transport_.Readable())
 3586              		.loc 4 113 29 is_stmt 0 view .LVU998
 3587 00b2 FFF7FEFF 		bl	_ZN5daisy6System6GetNowEv
 3588              	.LVL254:
 3589 00b6 8246     		mov	r10, r0
 3590              	.LVL255:
 113:../../libDaisy/src/hid/midi.h ****         while(transport_.Readable())
 3591              		.loc 4 113 29 view .LVU999
 3592 00b8 07E0     		b	.L195
 3593              	.LVL256:
 3594              	.L217:
 116:../../libDaisy/src/hid/midi.h ****             Parse(transport_.Rx());
 3595              		.loc 4 116 24 view .LVU1000
 3596 00ba C9F81CA2 		str	r10, [r9, #540]
 3597              	.LVL257:
 3598              	.LBB1140:
 3599              	.LBI1140:
  63:../../libDaisy/src/hid/midi.h ****     inline bool    RxActive() { return uart_.RxActive(); }
 3600              		.loc 4 63 20 is_stmt 1 view .LVU1001
 3601              	.LBB1141:
  63:../../libDaisy/src/hid/midi.h ****     inline bool    RxActive() { return uart_.RxActive(); }
 3602              		.loc 4 63 27 view .LVU1002
  63:../../libDaisy/src/hid/midi.h ****     inline bool    RxActive() { return uart_.RxActive(); }
 3603              		.loc 4 63 45 is_stmt 0 view .LVU1003
 3604 00be FFF7FEFF 		bl	_ZN5daisy11UartHandler5PopRxEv
 3605              	.LVL258:
  63:../../libDaisy/src/hid/midi.h ****     inline bool    RxActive() { return uart_.RxActive(); }
 3606              		.loc 4 63 45 view .LVU1004
 3607 00c2 0146     		mov	r1, r0
 3608              	.LBE1141:
ARM GAS  /tmp/cc1ZxEVo.s 			page 105


 3609              	.LBE1140:
 117:../../libDaisy/src/hid/midi.h ****         }
 3610              		.loc 4 117 18 view .LVU1005
 3611 00c4 3248     		ldr	r0, .L220+20
 3612              	.LVL259:
 117:../../libDaisy/src/hid/midi.h ****         }
 3613              		.loc 4 117 18 view .LVU1006
 3614 00c6 FFF7FEFF 		bl	_ZN5daisy11MidiHandlerINS_17MidiUartTransportEE5ParseEh
 3615              	.LVL260:
 3616              	.L195:
 114:../../libDaisy/src/hid/midi.h ****         {
 3617              		.loc 4 114 34 is_stmt 1 view .LVU1007
 3618              	.LBB1143:
 3619              	.LBI1143:
  62:../../libDaisy/src/hid/midi.h ****     inline uint8_t Rx() { return uart_.PopRx(); }
 3620              		.loc 4 62 20 view .LVU1008
 3621              	.LBB1144:
  62:../../libDaisy/src/hid/midi.h ****     inline uint8_t Rx() { return uart_.PopRx(); }
 3622              		.loc 4 62 33 view .LVU1009
  62:../../libDaisy/src/hid/midi.h ****     inline uint8_t Rx() { return uart_.PopRx(); }
 3623              		.loc 4 62 54 is_stmt 0 view .LVU1010
 3624 00ca 2E48     		ldr	r0, .L220+8
 3625              	.LVL261:
  62:../../libDaisy/src/hid/midi.h ****     inline uint8_t Rx() { return uart_.PopRx(); }
 3626              		.loc 4 62 54 view .LVU1011
 3627 00cc FFF7FEFF 		bl	_ZN5daisy11UartHandler8ReadableEv
 3628              	.LVL262:
  62:../../libDaisy/src/hid/midi.h ****     inline uint8_t Rx() { return uart_.PopRx(); }
 3629              		.loc 4 62 54 view .LVU1012
 3630 00d0 0346     		mov	r3, r0
 3631              	.LBE1144:
 3632              	.LBE1143:
 3633              	.LBB1145:
 3634              	.LBB1142:
  63:../../libDaisy/src/hid/midi.h ****     inline bool    RxActive() { return uart_.RxActive(); }
 3635              		.loc 4 63 45 view .LVU1013
 3636 00d2 2C48     		ldr	r0, .L220+8
 3637              	.LBE1142:
 3638              	.LBE1145:
 114:../../libDaisy/src/hid/midi.h ****         {
 3639              		.loc 4 114 34 view .LVU1014
 3640 00d4 002B     		cmp	r3, #0
 3641 00d6 F0D1     		bne	.L217
 3642              	.LVL263:
 3643              	.L200:
 114:../../libDaisy/src/hid/midi.h ****         {
 3644              		.loc 4 114 34 view .LVU1015
 3645              	.LBE1139:
 3646              	.LBE1138:
 170:Polysynth.cpp ****         {
 3647              		.loc 14 170 9 is_stmt 1 discriminator 1 view .LVU1016
 170:Polysynth.cpp ****         {
 3648              		.loc 14 170 29 discriminator 1 view .LVU1017
 3649              	.LBB1146:
 3650              	.LBI1146:
 134:../../libDaisy/src/hid/midi.h **** 
 3651              		.loc 4 134 10 discriminator 1 view .LVU1018
ARM GAS  /tmp/cc1ZxEVo.s 			page 106


 3652              	.LBB1147:
 3653              	.LBI1147:
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3654              		.loc 21 36 19 discriminator 1 view .LVU1019
 3655              	.LBB1148:
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3656              		.loc 21 36 46 is_stmt 0 discriminator 1 view .LVU1020
 3657 00d8 D8F89C30 		ldr	r3, [r8, #156]
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3658              		.loc 21 36 59 discriminator 1 view .LVU1021
 3659 00dc D8F89820 		ldr	r2, [r8, #152]
 3660              	.LVL264:
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3661              		.loc 21 36 57 discriminator 1 view .LVU1022
 3662 00e0 9B1A     		subs	r3, r3, r2
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3663              		.loc 21 36 72 discriminator 1 view .LVU1023
 3664 00e2 DBB2     		uxtb	r3, r3
 3665              	.LBE1148:
 3666              	.LBE1147:
 3667              	.LBE1146:
 170:Polysynth.cpp ****         {
 3668              		.loc 14 170 29 discriminator 1 view .LVU1024
 3669 00e4 5BB3     		cbz	r3, .L204
 3670              	.L199:
 3671              	.LBB1149:
 3672              	.LBB1150:
 3673              	.LBB1151:
 3674              	.LBB1152:
  59:../../libDaisy/src/util/ringbuffer.h ****     }
  60:../../libDaisy/src/util/ringbuffer.h **** 
  61:../../libDaisy/src/util/ringbuffer.h ****     /** Reads the first available element from the ring buffer
  62:../../libDaisy/src/util/ringbuffer.h ****     \return read value
  63:../../libDaisy/src/util/ringbuffer.h ****      */
  64:../../libDaisy/src/util/ringbuffer.h ****     inline T Read()
  65:../../libDaisy/src/util/ringbuffer.h ****     {
  66:../../libDaisy/src/util/ringbuffer.h ****         while(!readable())
 3675              		.loc 21 66 24 is_stmt 1 view .LVU1025
 3676              	.LVL265:
 3677              	.LBB1153:
 3678              	.LBI1153:
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3679              		.loc 21 36 19 view .LVU1026
 3680              	.LBB1154:
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3681              		.loc 21 36 46 is_stmt 0 view .LVU1027
 3682 00e6 D8F89C30 		ldr	r3, [r8, #156]
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3683              		.loc 21 36 59 view .LVU1028
 3684 00ea D8F89820 		ldr	r2, [r8, #152]
 3685              	.LVL266:
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3686              		.loc 21 36 57 view .LVU1029
 3687 00ee 9B1A     		subs	r3, r3, r2
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3688              		.loc 21 36 72 view .LVU1030
 3689 00f0 DBB2     		uxtb	r3, r3
ARM GAS  /tmp/cc1ZxEVo.s 			page 107


 3690              	.LBE1154:
 3691              	.LBE1153:
 3692              		.loc 21 66 24 view .LVU1031
 3693 00f2 002B     		cmp	r3, #0
 3694 00f4 F7D0     		beq	.L199
 3695              	.LVL267:
 3696              	.LBB1155:
 3697              	.LBI1155:
  67:../../libDaisy/src/util/ringbuffer.h ****             ;
  68:../../libDaisy/src/util/ringbuffer.h ****         return ImmediateRead();
  69:../../libDaisy/src/util/ringbuffer.h ****     }
  70:../../libDaisy/src/util/ringbuffer.h **** 
  71:../../libDaisy/src/util/ringbuffer.h ****     /** Reads next element from ring buffer immediately
  72:../../libDaisy/src/util/ringbuffer.h ****     \return read value
  73:../../libDaisy/src/util/ringbuffer.h ****      */
  74:../../libDaisy/src/util/ringbuffer.h ****     inline T ImmediateRead()
 3698              		.loc 21 74 14 is_stmt 1 view .LVU1032
 3699              	.LBB1156:
  75:../../libDaisy/src/util/ringbuffer.h ****     {
  76:../../libDaisy/src/util/ringbuffer.h ****         size_t r      = read_ptr_;
 3700              		.loc 21 76 16 is_stmt 0 view .LVU1033
 3701 00f6 D8F89830 		ldr	r3, [r8, #152]
 3702              	.LVL268:
  77:../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 3703              		.loc 21 77 16 view .LVU1034
 3704 00fa 03EBC302 		add	r2, r3, r3, lsl #3
 3705              	.LVL269:
  78:../../libDaisy/src/util/ringbuffer.h ****         read_ptr_     = (r + 1) % size;
 3706              		.loc 21 78 28 view .LVU1035
 3707 00fe 0133     		adds	r3, r3, #1
 3708              	.LVL270:
  77:../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 3709              		.loc 21 77 16 view .LVU1036
 3710 0100 1201     		lsls	r2, r2, #4
 3711              		.loc 21 78 33 view .LVU1037
 3712 0102 DBB2     		uxtb	r3, r3
  77:../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 3713              		.loc 21 77 16 view .LVU1038
 3714 0104 B95C     		ldrb	r1, [r7, r2]	@ zero_extendqisi2
 3715              	.LVL271:
  77:../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 3716              		.loc 21 77 16 view .LVU1039
 3717 0106 2244     		add	r2, r2, r4
 3718              		.loc 21 78 23 view .LVU1040
 3719 0108 C8F89830 		str	r3, [r8, #152]
 3720              	.LVL272:
 3721              		.loc 21 78 23 view .LVU1041
 3722              	.LBE1156:
 3723              	.LBE1155:
 3724              	.LBE1152:
 3725              	.LBE1151:
 3726              	.LBE1150:
 3727              	.LBB1161:
 174:Polysynth.cpp ****             {
 3728              		.loc 14 174 13 view .LVU1042
 3729 010c 0129     		cmp	r1, #1
 3730              	.LBE1161:
ARM GAS  /tmp/cc1ZxEVo.s 			page 108


 3731              	.LBB1166:
 3732              	.LBB1160:
 3733              	.LBB1159:
 3734              	.LBB1158:
 3735              	.LBB1157:
  77:../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 3736              		.loc 21 77 16 view .LVU1043
 3737 010e 92F8A000 		ldrb	r0, [r2, #160]	@ zero_extendqisi2
 3738              	.LVL273:
  77:../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 3739              		.loc 21 77 16 view .LVU1044
 3740              	.LBE1157:
 3741              	.LBE1158:
 3742              	.LBE1159:
 3743              	.LBE1160:
 3744              	.LBE1166:
 174:Polysynth.cpp ****             {
 3745              		.loc 14 174 13 is_stmt 1 view .LVU1045
 3746              	.LBB1167:
 3747 0112 E1D1     		bne	.L200
 3748              	.LBB1162:
 176:Polysynth.cpp ****                 {
 3749              		.loc 14 176 17 view .LVU1046
 177:Polysynth.cpp ****                     /** and change the frequency of the oscillator */
 3750              		.loc 14 177 17 view .LVU1047
 3751              	.LBB1163:
 179:Polysynth.cpp ****                     //osc[0].SetFreq(mtof(note_msg.note));
 3752              		.loc 14 179 21 view .LVU1048
 3753              	.LVL274:
 3754              	.LBB1164:
 3755              	.LBI1164:
 3756              		.file 22 "../../libDaisy/src/hid/MidiEvent.h"
   1:../../libDaisy/src/hid/MidiEvent.h **** namespace daisy
   2:../../libDaisy/src/hid/MidiEvent.h **** {
   3:../../libDaisy/src/hid/MidiEvent.h **** /** @addtogroup midi MIDI
   4:../../libDaisy/src/hid/MidiEvent.h ****  *  @ingroup human_interface
   5:../../libDaisy/src/hid/MidiEvent.h ****  *  @ingroup libdaisy
   6:../../libDaisy/src/hid/MidiEvent.h ****  *  @brief MIDI handlers, transports, and message types
   7:../../libDaisy/src/hid/MidiEvent.h ****  *  @{
   8:../../libDaisy/src/hid/MidiEvent.h ****  */
   9:../../libDaisy/src/hid/MidiEvent.h **** 
  10:../../libDaisy/src/hid/MidiEvent.h **** /** @defgroup midi_events MIDI_EVENTS 
  11:../../libDaisy/src/hid/MidiEvent.h ****  *  @{
  12:../../libDaisy/src/hid/MidiEvent.h **** */
  13:../../libDaisy/src/hid/MidiEvent.h **** 
  14:../../libDaisy/src/hid/MidiEvent.h **** /** Parsed from the Status Byte, these are the common Midi Messages that can be handled. \n
  15:../../libDaisy/src/hid/MidiEvent.h **** At this time only 3-byte messages are correctly parsed into MidiEvents.
  16:../../libDaisy/src/hid/MidiEvent.h **** */
  17:../../libDaisy/src/hid/MidiEvent.h **** enum MidiMessageType
  18:../../libDaisy/src/hid/MidiEvent.h **** {
  19:../../libDaisy/src/hid/MidiEvent.h ****     NoteOff,               /**< & */
  20:../../libDaisy/src/hid/MidiEvent.h ****     NoteOn,                /**< & */
  21:../../libDaisy/src/hid/MidiEvent.h ****     PolyphonicKeyPressure, /**< & */
  22:../../libDaisy/src/hid/MidiEvent.h ****     ControlChange,         /**< & */
  23:../../libDaisy/src/hid/MidiEvent.h ****     ProgramChange,         /**< & */
  24:../../libDaisy/src/hid/MidiEvent.h ****     ChannelPressure,       /**< & */
  25:../../libDaisy/src/hid/MidiEvent.h ****     PitchBend,             /**< & */
ARM GAS  /tmp/cc1ZxEVo.s 			page 109


  26:../../libDaisy/src/hid/MidiEvent.h ****     SystemCommon,          /**< & */
  27:../../libDaisy/src/hid/MidiEvent.h ****     SystemRealTime,        /**< & */
  28:../../libDaisy/src/hid/MidiEvent.h ****     ChannelMode,           /**< & */
  29:../../libDaisy/src/hid/MidiEvent.h ****     MessageLast,           /**< & */
  30:../../libDaisy/src/hid/MidiEvent.h **** };
  31:../../libDaisy/src/hid/MidiEvent.h **** 
  32:../../libDaisy/src/hid/MidiEvent.h **** enum SystemCommonType
  33:../../libDaisy/src/hid/MidiEvent.h **** {
  34:../../libDaisy/src/hid/MidiEvent.h ****     SystemExclusive,     /**< & */
  35:../../libDaisy/src/hid/MidiEvent.h ****     MTCQuarterFrame,     /**< & */
  36:../../libDaisy/src/hid/MidiEvent.h ****     SongPositionPointer, /**< & */
  37:../../libDaisy/src/hid/MidiEvent.h ****     SongSelect,          /**< & */
  38:../../libDaisy/src/hid/MidiEvent.h ****     SCUndefined0,        /**< & */
  39:../../libDaisy/src/hid/MidiEvent.h ****     SCUndefined1,        /**< & */
  40:../../libDaisy/src/hid/MidiEvent.h ****     TuneRequest,         /**< & */
  41:../../libDaisy/src/hid/MidiEvent.h ****     SysExEnd,            /**< & */
  42:../../libDaisy/src/hid/MidiEvent.h ****     SystemCommonLast,    /**< & */
  43:../../libDaisy/src/hid/MidiEvent.h **** };
  44:../../libDaisy/src/hid/MidiEvent.h **** 
  45:../../libDaisy/src/hid/MidiEvent.h **** enum SystemRealTimeType
  46:../../libDaisy/src/hid/MidiEvent.h **** {
  47:../../libDaisy/src/hid/MidiEvent.h ****     TimingClock,        /**< & */
  48:../../libDaisy/src/hid/MidiEvent.h ****     SRTUndefined0,      /**< & */
  49:../../libDaisy/src/hid/MidiEvent.h ****     Start,              /**< & */
  50:../../libDaisy/src/hid/MidiEvent.h ****     Continue,           /**< & */
  51:../../libDaisy/src/hid/MidiEvent.h ****     Stop,               /**< & */
  52:../../libDaisy/src/hid/MidiEvent.h ****     SRTUndefined1,      /**< & */
  53:../../libDaisy/src/hid/MidiEvent.h ****     ActiveSensing,      /**< & */
  54:../../libDaisy/src/hid/MidiEvent.h ****     Reset,              /**< & */
  55:../../libDaisy/src/hid/MidiEvent.h ****     SystemRealTimeLast, /**< & */
  56:../../libDaisy/src/hid/MidiEvent.h **** };
  57:../../libDaisy/src/hid/MidiEvent.h **** 
  58:../../libDaisy/src/hid/MidiEvent.h **** enum ChannelModeType
  59:../../libDaisy/src/hid/MidiEvent.h **** {
  60:../../libDaisy/src/hid/MidiEvent.h ****     AllSoundOff,         /**< & */
  61:../../libDaisy/src/hid/MidiEvent.h ****     ResetAllControllers, /**< & */
  62:../../libDaisy/src/hid/MidiEvent.h ****     LocalControl,        /**< & */
  63:../../libDaisy/src/hid/MidiEvent.h ****     AllNotesOff,         /**< & */
  64:../../libDaisy/src/hid/MidiEvent.h ****     OmniModeOff,         /**< & */
  65:../../libDaisy/src/hid/MidiEvent.h ****     OmniModeOn,          /**< & */
  66:../../libDaisy/src/hid/MidiEvent.h ****     MonoModeOn,          /**< & */
  67:../../libDaisy/src/hid/MidiEvent.h ****     PolyModeOn,          /**< & */
  68:../../libDaisy/src/hid/MidiEvent.h ****     ChannelModeLast,     /**< & */
  69:../../libDaisy/src/hid/MidiEvent.h **** };
  70:../../libDaisy/src/hid/MidiEvent.h **** 
  71:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing note, and velocity data for a given channel.
  72:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
  73:../../libDaisy/src/hid/MidiEvent.h **** */
  74:../../libDaisy/src/hid/MidiEvent.h **** struct NoteOffEvent
  75:../../libDaisy/src/hid/MidiEvent.h **** {
  76:../../libDaisy/src/hid/MidiEvent.h ****     int     channel;  /**< & */
  77:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t note;     /**< & */
  78:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t velocity; /**< & */
  79:../../libDaisy/src/hid/MidiEvent.h **** };
  80:../../libDaisy/src/hid/MidiEvent.h **** 
  81:../../libDaisy/src/hid/MidiEvent.h **** 
  82:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing note, and velocity data for a given channel.
ARM GAS  /tmp/cc1ZxEVo.s 			page 110


  83:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
  84:../../libDaisy/src/hid/MidiEvent.h **** */
  85:../../libDaisy/src/hid/MidiEvent.h **** struct NoteOnEvent
  86:../../libDaisy/src/hid/MidiEvent.h **** {
  87:../../libDaisy/src/hid/MidiEvent.h ****     int     channel;  /**< & */
  88:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t note;     /**< & */
  89:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t velocity; /**< & */
  90:../../libDaisy/src/hid/MidiEvent.h **** };
  91:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing note, and pressure data for a given channel.
  92:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
  93:../../libDaisy/src/hid/MidiEvent.h **** */
  94:../../libDaisy/src/hid/MidiEvent.h **** struct PolyphonicKeyPressureEvent
  95:../../libDaisy/src/hid/MidiEvent.h **** {
  96:../../libDaisy/src/hid/MidiEvent.h ****     int     channel;
  97:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t note;
  98:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t pressure;
  99:../../libDaisy/src/hid/MidiEvent.h **** };
 100:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing control number, and value for a given channel.
 101:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 102:../../libDaisy/src/hid/MidiEvent.h **** */
 103:../../libDaisy/src/hid/MidiEvent.h **** struct ControlChangeEvent
 104:../../libDaisy/src/hid/MidiEvent.h **** {
 105:../../libDaisy/src/hid/MidiEvent.h ****     int     channel;        /**< & */
 106:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t control_number; /**< & */
 107:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t value;          /**< & */
 108:../../libDaisy/src/hid/MidiEvent.h **** };
 109:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing new program number, for a given channel.
 110:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 111:../../libDaisy/src/hid/MidiEvent.h **** */
 112:../../libDaisy/src/hid/MidiEvent.h **** struct ProgramChangeEvent
 113:../../libDaisy/src/hid/MidiEvent.h **** {
 114:../../libDaisy/src/hid/MidiEvent.h ****     int     channel; /**< & */
 115:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t program; /**< & */
 116:../../libDaisy/src/hid/MidiEvent.h **** };
 117:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing pressure (aftertouch), for a given channel.
 118:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 119:../../libDaisy/src/hid/MidiEvent.h **** */
 120:../../libDaisy/src/hid/MidiEvent.h **** struct ChannelPressureEvent
 121:../../libDaisy/src/hid/MidiEvent.h **** {
 122:../../libDaisy/src/hid/MidiEvent.h ****     int     channel;  /**< & */
 123:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t pressure; /**< & */
 124:../../libDaisy/src/hid/MidiEvent.h **** };
 125:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing pitch bend value for a given channel.
 126:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 127:../../libDaisy/src/hid/MidiEvent.h **** */
 128:../../libDaisy/src/hid/MidiEvent.h **** struct PitchBendEvent
 129:../../libDaisy/src/hid/MidiEvent.h **** {
 130:../../libDaisy/src/hid/MidiEvent.h ****     int     channel; /**< & */
 131:../../libDaisy/src/hid/MidiEvent.h ****     int16_t value;   /**< & */
 132:../../libDaisy/src/hid/MidiEvent.h **** };
 133:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing channel mode event for a given channel.
 134:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 135:../../libDaisy/src/hid/MidiEvent.h **** */
 136:../../libDaisy/src/hid/MidiEvent.h **** struct ChannelModeEvent
 137:../../libDaisy/src/hid/MidiEvent.h **** {
 138:../../libDaisy/src/hid/MidiEvent.h ****     int             channel;    /**< & */
 139:../../libDaisy/src/hid/MidiEvent.h ****     ChannelModeType event_type; /**< & */
ARM GAS  /tmp/cc1ZxEVo.s 			page 111


 140:../../libDaisy/src/hid/MidiEvent.h ****     int16_t         value;      /**< & */
 141:../../libDaisy/src/hid/MidiEvent.h **** };
 142:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing sysex data.
 143:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 144:../../libDaisy/src/hid/MidiEvent.h **** */
 145:../../libDaisy/src/hid/MidiEvent.h **** struct SystemExclusiveEvent
 146:../../libDaisy/src/hid/MidiEvent.h **** {
 147:../../libDaisy/src/hid/MidiEvent.h ****     int     length;
 148:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t data[SYSEX_BUFFER_LEN]; /**< & */
 149:../../libDaisy/src/hid/MidiEvent.h **** };
 150:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing QuarterFrame data.
 151:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 152:../../libDaisy/src/hid/MidiEvent.h **** */
 153:../../libDaisy/src/hid/MidiEvent.h **** struct MTCQuarterFrameEvent
 154:../../libDaisy/src/hid/MidiEvent.h **** {
 155:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t message_type; /**< & */
 156:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t value;        /**< & */
 157:../../libDaisy/src/hid/MidiEvent.h **** };
 158:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing song position data.
 159:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 160:../../libDaisy/src/hid/MidiEvent.h **** */
 161:../../libDaisy/src/hid/MidiEvent.h **** struct SongPositionPointerEvent
 162:../../libDaisy/src/hid/MidiEvent.h **** {
 163:../../libDaisy/src/hid/MidiEvent.h ****     uint16_t position; /**< & */
 164:../../libDaisy/src/hid/MidiEvent.h **** };
 165:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing song select data.
 166:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 167:../../libDaisy/src/hid/MidiEvent.h **** */
 168:../../libDaisy/src/hid/MidiEvent.h **** struct SongSelectEvent
 169:../../libDaisy/src/hid/MidiEvent.h **** {
 170:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t song; /**< & */
 171:../../libDaisy/src/hid/MidiEvent.h **** };
 172:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing sound off data.
 173:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 174:../../libDaisy/src/hid/MidiEvent.h **** */
 175:../../libDaisy/src/hid/MidiEvent.h **** struct AllSoundOffEvent
 176:../../libDaisy/src/hid/MidiEvent.h **** {
 177:../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 178:../../libDaisy/src/hid/MidiEvent.h **** };
 179:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing ResetAllControllersEvent data.
 180:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 181:../../libDaisy/src/hid/MidiEvent.h **** */
 182:../../libDaisy/src/hid/MidiEvent.h **** struct ResetAllControllersEvent
 183:../../libDaisy/src/hid/MidiEvent.h **** {
 184:../../libDaisy/src/hid/MidiEvent.h ****     int     channel; /**< & */
 185:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t value;   /**< & */
 186:../../libDaisy/src/hid/MidiEvent.h **** };
 187:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing LocalControlEvent data.
 188:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 189:../../libDaisy/src/hid/MidiEvent.h **** */
 190:../../libDaisy/src/hid/MidiEvent.h **** struct LocalControlEvent
 191:../../libDaisy/src/hid/MidiEvent.h **** {
 192:../../libDaisy/src/hid/MidiEvent.h ****     int  channel;           /**< & */
 193:../../libDaisy/src/hid/MidiEvent.h ****     bool local_control_off; /**< & */
 194:../../libDaisy/src/hid/MidiEvent.h ****     bool local_control_on;  /**< & */
 195:../../libDaisy/src/hid/MidiEvent.h **** };
 196:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing AllNotesOffEvent data.
ARM GAS  /tmp/cc1ZxEVo.s 			page 112


 197:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 198:../../libDaisy/src/hid/MidiEvent.h **** */
 199:../../libDaisy/src/hid/MidiEvent.h **** struct AllNotesOffEvent
 200:../../libDaisy/src/hid/MidiEvent.h **** {
 201:../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 202:../../libDaisy/src/hid/MidiEvent.h **** };
 203:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing OmniModeOffEvent data. 
 204:../../libDaisy/src/hid/MidiEvent.h ****  * Can be made from MidiEvent
 205:../../libDaisy/src/hid/MidiEvent.h **** */
 206:../../libDaisy/src/hid/MidiEvent.h **** struct OmniModeOffEvent
 207:../../libDaisy/src/hid/MidiEvent.h **** {
 208:../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 209:../../libDaisy/src/hid/MidiEvent.h **** };
 210:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing OmniModeOnEvent data.
 211:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 212:../../libDaisy/src/hid/MidiEvent.h **** */
 213:../../libDaisy/src/hid/MidiEvent.h **** struct OmniModeOnEvent
 214:../../libDaisy/src/hid/MidiEvent.h **** {
 215:../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 216:../../libDaisy/src/hid/MidiEvent.h **** };
 217:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing MonoModeOnEvent data.
 218:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 219:../../libDaisy/src/hid/MidiEvent.h **** */
 220:../../libDaisy/src/hid/MidiEvent.h **** struct MonoModeOnEvent
 221:../../libDaisy/src/hid/MidiEvent.h **** {
 222:../../libDaisy/src/hid/MidiEvent.h ****     int     channel;      /**< & */
 223:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t num_channels; /**< & */
 224:../../libDaisy/src/hid/MidiEvent.h **** };
 225:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing PolyModeOnEvent data.
 226:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 227:../../libDaisy/src/hid/MidiEvent.h **** */
 228:../../libDaisy/src/hid/MidiEvent.h **** struct PolyModeOnEvent
 229:../../libDaisy/src/hid/MidiEvent.h **** {
 230:../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 231:../../libDaisy/src/hid/MidiEvent.h **** };
 232:../../libDaisy/src/hid/MidiEvent.h **** 
 233:../../libDaisy/src/hid/MidiEvent.h **** 
 234:../../libDaisy/src/hid/MidiEvent.h **** /** Simple MidiEvent with message type, channel, and data[2] members.
 235:../../libDaisy/src/hid/MidiEvent.h **** */
 236:../../libDaisy/src/hid/MidiEvent.h **** struct MidiEvent
 237:../../libDaisy/src/hid/MidiEvent.h **** {
 238:../../libDaisy/src/hid/MidiEvent.h ****     // Newer ish.
 239:../../libDaisy/src/hid/MidiEvent.h ****     MidiMessageType    type;                         /**< & */
 240:../../libDaisy/src/hid/MidiEvent.h ****     int                channel;                      /**< & */
 241:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t            data[2];                      /**< & */
 242:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t            sysex_data[SYSEX_BUFFER_LEN]; /**< & */
 243:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t            sysex_message_len;
 244:../../libDaisy/src/hid/MidiEvent.h ****     SystemCommonType   sc_type;
 245:../../libDaisy/src/hid/MidiEvent.h ****     SystemRealTimeType srt_type;
 246:../../libDaisy/src/hid/MidiEvent.h ****     ChannelModeType    cm_type;
 247:../../libDaisy/src/hid/MidiEvent.h **** 
 248:../../libDaisy/src/hid/MidiEvent.h ****     /** Returns the data within the MidiEvent as a NoteOffEvent struct */
 249:../../libDaisy/src/hid/MidiEvent.h ****     NoteOffEvent AsNoteOff()
 250:../../libDaisy/src/hid/MidiEvent.h ****     {
 251:../../libDaisy/src/hid/MidiEvent.h ****         NoteOffEvent m;
 252:../../libDaisy/src/hid/MidiEvent.h ****         m.channel  = channel;
 253:../../libDaisy/src/hid/MidiEvent.h ****         m.note     = data[0];
ARM GAS  /tmp/cc1ZxEVo.s 			page 113


 254:../../libDaisy/src/hid/MidiEvent.h ****         m.velocity = data[1];
 255:../../libDaisy/src/hid/MidiEvent.h ****         return m;
 256:../../libDaisy/src/hid/MidiEvent.h ****     }
 257:../../libDaisy/src/hid/MidiEvent.h **** 
 258:../../libDaisy/src/hid/MidiEvent.h ****     /** Returns the data within the MidiEvent as a NoteOnEvent struct */
 259:../../libDaisy/src/hid/MidiEvent.h ****     NoteOnEvent AsNoteOn()
 3757              		.loc 22 259 17 view .LVU1049
 3758              	.LBB1165:
 260:../../libDaisy/src/hid/MidiEvent.h ****     {
 261:../../libDaisy/src/hid/MidiEvent.h ****         NoteOnEvent m;
 3759              		.loc 22 261 9 view .LVU1050
 262:../../libDaisy/src/hid/MidiEvent.h ****         m.channel  = channel;
 3760              		.loc 22 262 9 view .LVU1051
 263:../../libDaisy/src/hid/MidiEvent.h ****         m.note     = data[0];
 3761              		.loc 22 263 9 view .LVU1052
 264:../../libDaisy/src/hid/MidiEvent.h ****         m.velocity = data[1];
 3762              		.loc 22 264 9 view .LVU1053
 265:../../libDaisy/src/hid/MidiEvent.h ****         return m;
 3763              		.loc 22 265 9 view .LVU1054
 3764              		.loc 22 265 9 is_stmt 0 view .LVU1055
 3765              	.LBE1165:
 3766              	.LBE1164:
 181:Polysynth.cpp ****                     hw.UpdateLeds();
 3767              		.loc 14 181 21 is_stmt 1 view .LVU1056
 181:Polysynth.cpp ****                     hw.UpdateLeds();
 3768              		.loc 14 181 27 is_stmt 0 view .LVU1057
 3769 0114 FFF7FEFF 		bl	_Z6NoteONh
 3770              	.LVL275:
 182:Polysynth.cpp ****                 }
 3771              		.loc 14 182 21 is_stmt 1 view .LVU1058
 182:Polysynth.cpp ****                 }
 3772              		.loc 14 182 34 is_stmt 0 view .LVU1059
 3773 0118 1948     		ldr	r0, .L220+4
 3774 011a FFF7FEFF 		bl	_ZN5daisy8DaisyPod10UpdateLedsEv
 3775              	.LVL276:
 3776              	.LBE1163:
 184:Polysynth.cpp ****                 
 3777              		.loc 14 184 17 is_stmt 1 view .LVU1060
 3778 011e DBE7     		b	.L200
 3779              	.L219:
 3780              	.LVL277:
 184:Polysynth.cpp ****                 
 3781              		.loc 14 184 17 is_stmt 0 view .LVU1061
 3782              	.LBE1162:
 3783              	.LBE1167:
 3784              	.LBE1149:
 3785              	.LBB1168:
 3786              	.LBB1169:
 3787              	.LBB1170:
 3788              	.LBB1171:
 3789              	.LBB1172:
 3790              	.LBI1172:
  74:../../libDaisy/src/util/ringbuffer.h ****     {
 3791              		.loc 21 74 14 is_stmt 1 view .LVU1062
 3792              	.LBB1173:
  76:../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 3793              		.loc 21 76 16 is_stmt 0 view .LVU1063
ARM GAS  /tmp/cc1ZxEVo.s 			page 114


 3794 0120 D9F81432 		ldr	r3, [r9, #532]
 3795              	.LVL278:
  77:../../libDaisy/src/util/ringbuffer.h ****         read_ptr_     = (r + 1) % size;
 3796              		.loc 21 77 16 view .LVU1064
 3797 0124 03EBC302 		add	r2, r3, r3, lsl #3
 3798              		.loc 21 78 28 view .LVU1065
 3799 0128 0133     		adds	r3, r3, #1
 3800              	.LVL279:
  77:../../libDaisy/src/util/ringbuffer.h ****         read_ptr_     = (r + 1) % size;
 3801              		.loc 21 77 16 view .LVU1066
 3802 012a 1201     		lsls	r2, r2, #4
 3803              		.loc 21 78 33 view .LVU1067
 3804 012c DBB2     		uxtb	r3, r3
  77:../../libDaisy/src/util/ringbuffer.h ****         read_ptr_     = (r + 1) % size;
 3805              		.loc 21 77 16 view .LVU1068
 3806 012e B15C     		ldrb	r1, [r6, r2]	@ zero_extendqisi2
 3807              	.LVL280:
  77:../../libDaisy/src/util/ringbuffer.h ****         read_ptr_     = (r + 1) % size;
 3808              		.loc 21 77 16 view .LVU1069
 3809 0130 2A44     		add	r2, r2, r5
 3810              		.loc 21 78 23 view .LVU1070
 3811 0132 C9F81432 		str	r3, [r9, #532]
 3812              	.LVL281:
 3813              		.loc 21 78 23 view .LVU1071
 3814              	.LBE1173:
 3815              	.LBE1172:
 3816              	.LBE1171:
 3817              	.LBE1170:
 3818              	.LBE1169:
 3819              	.LBB1182:
 193:Polysynth.cpp ****             {
 3820              		.loc 14 193 13 view .LVU1072
 3821 0136 0129     		cmp	r1, #1
 3822              	.LBE1182:
 3823              	.LBB1187:
 3824              	.LBB1180:
 3825              	.LBB1178:
 3826              	.LBB1175:
 3827              	.LBB1174:
  77:../../libDaisy/src/util/ringbuffer.h ****         read_ptr_     = (r + 1) % size;
 3828              		.loc 21 77 16 view .LVU1073
 3829 0138 92F81C02 		ldrb	r0, [r2, #540]	@ zero_extendqisi2
 3830              	.LVL282:
  77:../../libDaisy/src/util/ringbuffer.h ****         read_ptr_     = (r + 1) % size;
 3831              		.loc 21 77 16 view .LVU1074
 3832              	.LBE1174:
 3833              	.LBE1175:
 3834              	.LBE1178:
 3835              	.LBE1180:
 3836              	.LBE1187:
 193:Polysynth.cpp ****             {
 3837              		.loc 14 193 13 is_stmt 1 view .LVU1075
 3838              	.LBB1188:
 3839 013c 10D0     		beq	.L218
 3840              	.LVL283:
 3841              	.L204:
 193:Polysynth.cpp ****             {
ARM GAS  /tmp/cc1ZxEVo.s 			page 115


 3842              		.loc 14 193 13 is_stmt 0 view .LVU1076
 3843              	.LBE1188:
 3844              	.LBE1168:
 189:Polysynth.cpp ****         {
 3845              		.loc 14 189 9 is_stmt 1 discriminator 2 view .LVU1077
 189:Polysynth.cpp ****         {
 3846              		.loc 14 189 32 discriminator 2 view .LVU1078
 3847              	.LBB1191:
 3848              	.LBI1191:
 134:../../libDaisy/src/hid/midi.h **** 
 3849              		.loc 4 134 10 discriminator 2 view .LVU1079
 3850              	.LBB1192:
 3851              	.LBI1192:
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3852              		.loc 21 36 19 discriminator 2 view .LVU1080
 3853              	.LBB1193:
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3854              		.loc 21 36 46 is_stmt 0 discriminator 2 view .LVU1081
 3855 013e D9F81832 		ldr	r3, [r9, #536]
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3856              		.loc 21 36 59 discriminator 2 view .LVU1082
 3857 0142 D9F81422 		ldr	r2, [r9, #532]
 3858              	.LVL284:
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3859              		.loc 21 36 57 discriminator 2 view .LVU1083
 3860 0146 9B1A     		subs	r3, r3, r2
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3861              		.loc 21 36 72 discriminator 2 view .LVU1084
 3862 0148 DBB2     		uxtb	r3, r3
 3863              	.LBE1193:
 3864              	.LBE1192:
 3865              	.LBE1191:
 189:Polysynth.cpp ****         {
 3866              		.loc 14 189 32 discriminator 2 view .LVU1085
 3867 014a 002B     		cmp	r3, #0
 3868 014c 98D0     		beq	.L202
 3869              	.L203:
 3870              	.LBB1194:
 3871              	.LBB1189:
 3872              	.LBB1181:
 3873              	.LBB1179:
  66:../../libDaisy/src/util/ringbuffer.h ****             ;
 3874              		.loc 21 66 24 is_stmt 1 view .LVU1086
 3875              	.LVL285:
 3876              	.LBB1176:
 3877              	.LBI1176:
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3878              		.loc 21 36 19 view .LVU1087
 3879              	.LBB1177:
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3880              		.loc 21 36 46 is_stmt 0 view .LVU1088
 3881 014e D9F81832 		ldr	r3, [r9, #536]
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3882              		.loc 21 36 59 view .LVU1089
 3883 0152 D9F81422 		ldr	r2, [r9, #532]
 3884              	.LVL286:
  36:../../libDaisy/src/util/ringbuffer.h **** 
ARM GAS  /tmp/cc1ZxEVo.s 			page 116


 3885              		.loc 21 36 57 view .LVU1090
 3886 0156 9B1A     		subs	r3, r3, r2
  36:../../libDaisy/src/util/ringbuffer.h **** 
 3887              		.loc 21 36 72 view .LVU1091
 3888 0158 DBB2     		uxtb	r3, r3
 3889              	.LBE1177:
 3890              	.LBE1176:
  66:../../libDaisy/src/util/ringbuffer.h ****             ;
 3891              		.loc 21 66 24 view .LVU1092
 3892 015a 002B     		cmp	r3, #0
 3893 015c F7D0     		beq	.L203
 3894 015e DFE7     		b	.L219
 3895              	.LVL287:
 3896              	.L218:
  66:../../libDaisy/src/util/ringbuffer.h ****             ;
 3897              		.loc 21 66 24 view .LVU1093
 3898              	.LBE1179:
 3899              	.LBE1181:
 3900              	.LBE1189:
 3901              	.LBB1190:
 3902              	.LBB1183:
 195:Polysynth.cpp ****                 {
 3903              		.loc 14 195 17 is_stmt 1 view .LVU1094
 196:Polysynth.cpp ****                     /** and change the frequency of the oscillator */
 3904              		.loc 14 196 17 view .LVU1095
 3905              	.LBB1184:
 198:Polysynth.cpp ****                     //osc[0].SetFreq(mtof(note_msg.note));
 3906              		.loc 14 198 21 view .LVU1096
 3907              	.LBB1185:
 3908              	.LBI1185:
 259:../../libDaisy/src/hid/MidiEvent.h ****     {
 3909              		.loc 22 259 17 view .LVU1097
 3910              	.LBB1186:
 261:../../libDaisy/src/hid/MidiEvent.h ****         m.channel  = channel;
 3911              		.loc 22 261 9 view .LVU1098
 262:../../libDaisy/src/hid/MidiEvent.h ****         m.note     = data[0];
 3912              		.loc 22 262 9 view .LVU1099
 263:../../libDaisy/src/hid/MidiEvent.h ****         m.velocity = data[1];
 3913              		.loc 22 263 9 view .LVU1100
 264:../../libDaisy/src/hid/MidiEvent.h ****         return m;
 3914              		.loc 22 264 9 view .LVU1101
 3915              		.loc 22 265 9 view .LVU1102
 3916              		.loc 22 265 9 is_stmt 0 view .LVU1103
 3917              	.LBE1186:
 3918              	.LBE1185:
 200:Polysynth.cpp ****                     hw.UpdateLeds();
 3919              		.loc 14 200 21 is_stmt 1 view .LVU1104
 200:Polysynth.cpp ****                     hw.UpdateLeds();
 3920              		.loc 14 200 27 is_stmt 0 view .LVU1105
 3921 0160 FFF7FEFF 		bl	_Z6NoteONh
 3922              	.LVL288:
 201:Polysynth.cpp ****                 }
 3923              		.loc 14 201 21 is_stmt 1 view .LVU1106
 201:Polysynth.cpp ****                 }
 3924              		.loc 14 201 34 is_stmt 0 view .LVU1107
 3925 0164 0648     		ldr	r0, .L220+4
 3926 0166 FFF7FEFF 		bl	_ZN5daisy8DaisyPod10UpdateLedsEv
ARM GAS  /tmp/cc1ZxEVo.s 			page 117


 3927              	.LVL289:
 3928              	.LBE1184:
 203:Polysynth.cpp ****         
 3929              		.loc 14 203 17 is_stmt 1 view .LVU1108
 3930 016a E8E7     		b	.L204
 3931              	.LVL290:
 3932              	.L216:
 203:Polysynth.cpp ****         
 3933              		.loc 14 203 17 is_stmt 0 view .LVU1109
 3934              	.LBE1183:
 3935              	.LBE1190:
 3936              	.LBE1194:
 3937              	.LBB1195:
 3938              	.LBB1137:
 126:../../libDaisy/src/hid/midi.h ****             StartReceive();
 3939              		.loc 4 126 31 view .LVU1110
 3940 016c 0748     		ldr	r0, .L220+16
 125:../../libDaisy/src/hid/midi.h ****             transport_.FlushRx();
 3941              		.loc 4 125 21 view .LVU1111
 3942 016e 2371     		strb	r3, [r4, #4]
 126:../../libDaisy/src/hid/midi.h ****             StartReceive();
 3943              		.loc 4 126 31 view .LVU1112
 3944 0170 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport7FlushRxEv
 3945              	.LVL291:
 3946              	.LBB1135:
 3947              	.LBI1135:
 107:../../libDaisy/src/hid/midi.h **** 
 3948              		.loc 4 107 10 is_stmt 1 view .LVU1113
 3949              	.LBB1136:
 107:../../libDaisy/src/hid/midi.h **** 
 3950              		.loc 4 107 45 is_stmt 0 view .LVU1114
 3951 0174 0548     		ldr	r0, .L220+16
 3952 0176 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport7StartRxEv
 3953              	.LVL292:
 107:../../libDaisy/src/hid/midi.h **** 
 3954              		.loc 4 107 49 view .LVU1115
 3955 017a 9AE7     		b	.L193
 3956              	.L221:
 3957              		.align	2
 3958              	.L220:
 3959 017c 00000000 		.word	midi
 3960 0180 00000000 		.word	hw
 3961 0184 2C920000 		.word	hw+37420
 3962 0188 00000000 		.word	_ZL13AudioCallbackPKfPfj
 3963 018c A8900000 		.word	midi+37032
 3964 0190 7C010000 		.word	hw+380
 3965 0194 00900000 		.word	hw+36864
 3966              	.LBE1136:
 3967              	.LBE1135:
 3968              	.LBE1137:
 3969              	.LBE1195:
 3970              	.LBE1132:
 3971              		.cfi_endproc
 3972              	.LFE4806:
 3974              		.section	.text.startup._GLOBAL__sub_I_voicenote,"ax",%progbits
 3975              		.align	1
 3976              		.p2align 2,,3
ARM GAS  /tmp/cc1ZxEVo.s 			page 118


 3977              		.syntax unified
 3978              		.thumb
 3979              		.thumb_func
 3981              	_GLOBAL__sub_I_voicenote:
 3982              	.LFB5418:
 3983              		.loc 14 315 1 is_stmt 1 view -0
 3984              		.cfi_startproc
 3985              		@ args = 0, pretend = 0, frame = 0
 3986              		@ frame_needed = 0, uses_anonymous_args = 0
 3987              	.LBB1306:
 3988              	.LBI1306:
 3989              		.loc 14 315 1 view .LVU1117
 3990              	.LVL293:
 3991              	.LBB1307:
  29:Polysynth.cpp **** int curveTimeMode;
 3992              		.loc 14 29 21 view .LVU1118
 3993              	.LBE1307:
 3994              	.LBE1306:
 3995              		.loc 14 315 1 is_stmt 0 view .LVU1119
 3996 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 3997              		.cfi_def_cfa_offset 32
 3998              		.cfi_offset 3, -32
 3999              		.cfi_offset 4, -28
 4000              		.cfi_offset 5, -24
 4001              		.cfi_offset 6, -20
 4002              		.cfi_offset 7, -16
 4003              		.cfi_offset 8, -12
 4004              		.cfi_offset 9, -8
 4005              		.cfi_offset 14, -4
 4006              	.LBB1443:
 4007              	.LBB1441:
  29:Polysynth.cpp **** int curveTimeMode;
 4008              		.loc 14 29 12 view .LVU1120
 4009 0004 2A4D     		ldr	r5, .L224
 4010 0006 0020     		movs	r0, #0
 4011 0008 2A49     		ldr	r1, .L224+4
 4012              	.LBB1308:
 4013              	.LBB1309:
 4014              	.LBB1310:
 4015              	.LBB1311:
 4016              	.LBB1312:
  84:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 4017              		.loc 4 84 19 view .LVU1121
 4018 000a 4FF60F07 		movw	r7, #63503
 4019              	.LBE1312:
 4020              	.LBE1311:
 4021              	.LBE1310:
 4022              	.LBE1309:
 4023              	.LBE1308:
  29:Polysynth.cpp **** int curveTimeMode;
 4024              		.loc 14 29 12 view .LVU1122
 4025 000e 2A46     		mov	r2, r5
 4026              	.LBB1397:
 4027              	.LBB1393:
 4028              	.LBB1349:
 4029              	.LBB1350:
 4030              	.LBB1351:
ARM GAS  /tmp/cc1ZxEVo.s 			page 119


 4031              	.LBB1352:
 4032              	.LBB1353:
 4033              		.file 23 "../../libDaisy/src/per/qspi.h"
   1:../../libDaisy/src/per/qspi.h **** #ifndef DSY_QSPI
   2:../../libDaisy/src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:../../libDaisy/src/per/qspi.h **** 
   4:../../libDaisy/src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:../../libDaisy/src/per/qspi.h **** 
   6:../../libDaisy/src/per/qspi.h **** #include <cstdint>
   7:../../libDaisy/src/per/qspi.h **** #include "daisy_core.h" // Added for dsy_gpio_pin typedef
   8:../../libDaisy/src/per/qspi.h **** 
   9:../../libDaisy/src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  10:../../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  11:../../libDaisy/src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  12:../../libDaisy/src/per/qspi.h **** #define DSY_QSPI_DATA       \
  13:../../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  14:../../libDaisy/src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  15:../../libDaisy/src/per/qspi.h **** #define DSY_QSPI_BSS        \
  16:../../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  17:../../libDaisy/src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  18:../../libDaisy/src/per/qspi.h **** 
  19:../../libDaisy/src/per/qspi.h **** namespace daisy
  20:../../libDaisy/src/per/qspi.h **** {
  21:../../libDaisy/src/per/qspi.h **** /** @addtogroup serial
  22:../../libDaisy/src/per/qspi.h **** @{
  23:../../libDaisy/src/per/qspi.h **** */
  24:../../libDaisy/src/per/qspi.h **** 
  25:../../libDaisy/src/per/qspi.h **** /** 
  26:../../libDaisy/src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  27:../../libDaisy/src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  28:../../libDaisy/src/per/qspi.h ****     * IS25LP080D
  29:../../libDaisy/src/per/qspi.h **** */
  30:../../libDaisy/src/per/qspi.h **** class QSPIHandle
  31:../../libDaisy/src/per/qspi.h **** {
  32:../../libDaisy/src/per/qspi.h ****   public:
  33:../../libDaisy/src/per/qspi.h ****     enum Result
  34:../../libDaisy/src/per/qspi.h ****     {
  35:../../libDaisy/src/per/qspi.h ****         OK = 0,
  36:../../libDaisy/src/per/qspi.h ****         ERR
  37:../../libDaisy/src/per/qspi.h ****     };
  38:../../libDaisy/src/per/qspi.h **** 
  39:../../libDaisy/src/per/qspi.h ****     /** Indicates the current status of the module. 
  40:../../libDaisy/src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  41:../../libDaisy/src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  42:../../libDaisy/src/per/qspi.h ****          * 
  43:../../libDaisy/src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  44:../../libDaisy/src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  45:../../libDaisy/src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  46:../../libDaisy/src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  47:../../libDaisy/src/per/qspi.h ****          */
  48:../../libDaisy/src/per/qspi.h ****     enum Status
  49:../../libDaisy/src/per/qspi.h ****     {
  50:../../libDaisy/src/per/qspi.h ****         GOOD = 0,
  51:../../libDaisy/src/per/qspi.h ****         E_HAL_ERROR,
  52:../../libDaisy/src/per/qspi.h ****         E_SWITCHING_MODES,
  53:../../libDaisy/src/per/qspi.h ****         E_INVALID_MODE,
  54:../../libDaisy/src/per/qspi.h ****     };
ARM GAS  /tmp/cc1ZxEVo.s 			page 120


  55:../../libDaisy/src/per/qspi.h **** 
  56:../../libDaisy/src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  57:../../libDaisy/src/per/qspi.h ****     struct Config
  58:../../libDaisy/src/per/qspi.h ****     {
  59:../../libDaisy/src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  60:../../libDaisy/src/per/qspi.h ****         enum Device
  61:../../libDaisy/src/per/qspi.h ****         {
  62:../../libDaisy/src/per/qspi.h ****             IS25LP080D,  /**< & */
  63:../../libDaisy/src/per/qspi.h ****             IS25LP064A,  /**< & */
  64:../../libDaisy/src/per/qspi.h ****             DEVICE_LAST, /**< & */
  65:../../libDaisy/src/per/qspi.h ****         };
  66:../../libDaisy/src/per/qspi.h **** 
  67:../../libDaisy/src/per/qspi.h ****         /** 
  68:../../libDaisy/src/per/qspi.h ****         Modes of operation.
  69:../../libDaisy/src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  70:../../libDaisy/src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  71:../../libDaisy/src/per/qspi.h ****         possible in this mode. \n 
  72:../../libDaisy/src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  73:../../libDaisy/src/per/qspi.h ****         */
  74:../../libDaisy/src/per/qspi.h ****         enum Mode
  75:../../libDaisy/src/per/qspi.h ****         {
  76:../../libDaisy/src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  77:../../libDaisy/src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  78:../../libDaisy/src/per/qspi.h ****             MODE_LAST,
  79:../../libDaisy/src/per/qspi.h ****         };
  80:../../libDaisy/src/per/qspi.h **** 
  81:../../libDaisy/src/per/qspi.h ****         //SCK,  CE# (active low)
  82:../../libDaisy/src/per/qspi.h ****         struct
  83:../../libDaisy/src/per/qspi.h ****         {
  84:../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io0; /**< & */
  85:../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io1; /**< & */
  86:../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io2; /**< & */
  87:../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io3; /**< & */
  88:../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin clk; /**< & */
  89:../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin ncs; /**< & */
  90:../../libDaisy/src/per/qspi.h ****         } pin_config;
  91:../../libDaisy/src/per/qspi.h **** 
  92:../../libDaisy/src/per/qspi.h ****         Device device;
  93:../../libDaisy/src/per/qspi.h ****         Mode   mode;
  94:../../libDaisy/src/per/qspi.h ****     };
  95:../../libDaisy/src/per/qspi.h **** 
  96:../../libDaisy/src/per/qspi.h ****     /** 
  97:../../libDaisy/src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  98:../../libDaisy/src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
  99:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 100:../../libDaisy/src/per/qspi.h ****         */
 101:../../libDaisy/src/per/qspi.h ****     Result Init(const Config& config);
 102:../../libDaisy/src/per/qspi.h **** 
 103:../../libDaisy/src/per/qspi.h ****     /** Returns the current config. */
 104:../../libDaisy/src/per/qspi.h ****     const Config& GetConfig() const;
 105:../../libDaisy/src/per/qspi.h **** 
 106:../../libDaisy/src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 107:../../libDaisy/src/per/qspi.h ****     // would make manually calling it unnecessary.
 108:../../libDaisy/src/per/qspi.h ****     /** 
 109:../../libDaisy/src/per/qspi.h ****         Deinitializes the peripheral
 110:../../libDaisy/src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 111:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
ARM GAS  /tmp/cc1ZxEVo.s 			page 121


 112:../../libDaisy/src/per/qspi.h ****         */
 113:../../libDaisy/src/per/qspi.h ****     Result DeInit();
 114:../../libDaisy/src/per/qspi.h **** 
 115:../../libDaisy/src/per/qspi.h ****     /** 
 116:../../libDaisy/src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 117:../../libDaisy/src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 118:../../libDaisy/src/per/qspi.h ****         \param address Address to write to
 119:../../libDaisy/src/per/qspi.h ****         \param size Buffer size
 120:../../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 121:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 122:../../libDaisy/src/per/qspi.h ****         */
 123:../../libDaisy/src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 124:../../libDaisy/src/per/qspi.h **** 
 125:../../libDaisy/src/per/qspi.h ****     /** 
 126:../../libDaisy/src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 127:../../libDaisy/src/per/qspi.h ****         \param address Address to write to
 128:../../libDaisy/src/per/qspi.h ****         \param size Buffer size
 129:../../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 130:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 131:../../libDaisy/src/per/qspi.h ****         */
 132:../../libDaisy/src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 133:../../libDaisy/src/per/qspi.h **** 
 134:../../libDaisy/src/per/qspi.h ****     /** 
 135:../../libDaisy/src/per/qspi.h ****         Erases the area specified on the chip.
 136:../../libDaisy/src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 137:../../libDaisy/src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 138:../../libDaisy/src/per/qspi.h ****         \param start_addr Address to begin erasing from
 139:../../libDaisy/src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 140:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 141:../../libDaisy/src/per/qspi.h ****         */
 142:../../libDaisy/src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 143:../../libDaisy/src/per/qspi.h **** 
 144:../../libDaisy/src/per/qspi.h ****     /**  
 145:../../libDaisy/src/per/qspi.h ****          Erases a single sector of the chip.  
 146:../../libDaisy/src/per/qspi.h ****         TODO: Document the size of this function. 
 147:../../libDaisy/src/per/qspi.h ****         \param address Address of sector to erase
 148:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 149:../../libDaisy/src/per/qspi.h ****         */
 150:../../libDaisy/src/per/qspi.h ****     Result EraseSector(uint32_t address);
 151:../../libDaisy/src/per/qspi.h **** 
 152:../../libDaisy/src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 153:../../libDaisy/src/per/qspi.h ****      *  \returns Status
 154:../../libDaisy/src/per/qspi.h ****      */
 155:../../libDaisy/src/per/qspi.h ****     Status GetStatus();
 156:../../libDaisy/src/per/qspi.h **** 
 157:../../libDaisy/src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
 158:../../libDaisy/src/per/qspi.h ****      *  The memory at this address is read-only
 159:../../libDaisy/src/per/qspi.h ****      *  to write to it use the Write function.
 160:../../libDaisy/src/per/qspi.h ****      * 
 161:../../libDaisy/src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 162:../../libDaisy/src/per/qspi.h ****      *                many bytes into the memory
 163:../../libDaisy/src/per/qspi.h ****     */
 164:../../libDaisy/src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 165:../../libDaisy/src/per/qspi.h **** 
 166:../../libDaisy/src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 4034              		.loc 23 166 34 view .LVU1123
 4035 0010 0446     		mov	r4, r0
ARM GAS  /tmp/cc1ZxEVo.s 			page 122


 4036              	.LBE1353:
 4037              	.LBE1352:
 4038              	.LBE1351:
 4039              	.LBE1350:
 4040              	.LBE1349:
 4041              	.LBE1393:
 4042              	.LBE1397:
  29:Polysynth.cpp **** int curveTimeMode;
 4043              		.loc 14 29 12 view .LVU1124
 4044 0012 FFF7FEFF 		bl	__aeabi_atexit
 4045              	.LVL294:
 4046              	.LBB1398:
 4047              	.LBI1398:
 4048              		.file 24 "../../libDaisy/src/hid/logger.h"
   1:../../libDaisy/src/hid/logger.h **** #pragma once
   2:../../libDaisy/src/hid/logger.h **** #ifndef __DSY_LOGGER_H__
   3:../../libDaisy/src/hid/logger.h **** #define __DSY_LOGGER_H__
   4:../../libDaisy/src/hid/logger.h **** 
   5:../../libDaisy/src/hid/logger.h **** #include <cmath>
   6:../../libDaisy/src/hid/logger.h **** #include <cstdarg>
   7:../../libDaisy/src/hid/logger.h **** #include <cstdio>
   8:../../libDaisy/src/hid/logger.h **** #include "logger_impl.h"
   9:../../libDaisy/src/hid/logger.h **** 
  10:../../libDaisy/src/hid/logger.h **** namespace daisy
  11:../../libDaisy/src/hid/logger.h **** {
  12:../../libDaisy/src/hid/logger.h **** /** 
  13:../../libDaisy/src/hid/logger.h ****  *  @addtogroup hid_logging LOGGING
  14:../../libDaisy/src/hid/logger.h ****  *  @brief Intefaces for Logging over USB, etc.
  15:../../libDaisy/src/hid/logger.h ****  *  @ingroup human_interface
  16:../../libDaisy/src/hid/logger.h ****  *  @ingroup libdaisy
  17:../../libDaisy/src/hid/logger.h ****  * 
  18:../../libDaisy/src/hid/logger.h ****  *  The following is a short example of using the DaisySeed::Logger
  19:../../libDaisy/src/hid/logger.h ****  *  to print to a serial port.
  20:../../libDaisy/src/hid/logger.h ****  *  @include SerialPrint.cpp
  21:../../libDaisy/src/hid/logger.h ****  *  @{
  22:../../libDaisy/src/hid/logger.h ****  */
  23:../../libDaisy/src/hid/logger.h **** 
  24:../../libDaisy/src/hid/logger.h **** /** @defgroup logging_macros LoggerHelperMacros 
  25:../../libDaisy/src/hid/logger.h ****  *  @{ */
  26:../../libDaisy/src/hid/logger.h **** /** Logger configuration
  27:../../libDaisy/src/hid/logger.h ****  */
  28:../../libDaisy/src/hid/logger.h **** #define LOGGER_NEWLINE "\r\n" /**< custom newline character sequence */
  29:../../libDaisy/src/hid/logger.h **** #define LOGGER_BUFFER 128     /**< size in bytes */
  30:../../libDaisy/src/hid/logger.h **** 
  31:../../libDaisy/src/hid/logger.h **** /** 
  32:../../libDaisy/src/hid/logger.h ****  * Helper macros for string concatenation and macro expansion
  33:../../libDaisy/src/hid/logger.h ****  */
  34:../../libDaisy/src/hid/logger.h **** #define PPCAT_NX(A, B) A##B          /**< non-expanding concatenation */
  35:../../libDaisy/src/hid/logger.h **** #define PPCAT(A, B) PPCAT_NX(A, B)   /**< concatenate tokens */
  36:../../libDaisy/src/hid/logger.h **** #define STRINGIZE_NX(A) #A           /**< non-expanding stringize  */
  37:../../libDaisy/src/hid/logger.h **** #define STRINGIZE(A) STRINGIZE_NX(A) /**< make a string */
  38:../../libDaisy/src/hid/logger.h **** 
  39:../../libDaisy/src/hid/logger.h **** /** Floating point output formatting string. Include in your printf-style format string
  40:../../libDaisy/src/hid/logger.h ****  *  example: printf("float value = " FLT_FMT(3) " continue like that", FLT_VAR(3, x));
  41:../../libDaisy/src/hid/logger.h ****  */
  42:../../libDaisy/src/hid/logger.h **** // clang-format off
  43:../../libDaisy/src/hid/logger.h **** #define FLT_FMT(_n) STRINGIZE(PPCAT(PPCAT(%c%d.%0, _n), d))
ARM GAS  /tmp/cc1ZxEVo.s 			page 123


  44:../../libDaisy/src/hid/logger.h **** // clang-format on
  45:../../libDaisy/src/hid/logger.h **** 
  46:../../libDaisy/src/hid/logger.h **** /** Floating point output variable preprocessing 
  47:../../libDaisy/src/hid/logger.h ****  * Note: uses truncation instead of rounding -> the last digit may be off
  48:../../libDaisy/src/hid/logger.h ****  */
  49:../../libDaisy/src/hid/logger.h **** #define FLT_VAR(_n, _x)                   \
  50:../../libDaisy/src/hid/logger.h ****     (_x < 0 ? '-' : ' '), (int)(abs(_x)), \
  51:../../libDaisy/src/hid/logger.h ****         (int)(((abs(_x)) - (int)(abs(_x))) * pow(10, (_n)))
  52:../../libDaisy/src/hid/logger.h **** 
  53:../../libDaisy/src/hid/logger.h **** /** Shorthand for 10^-3 fraction, output equivalent to %.3f
  54:../../libDaisy/src/hid/logger.h ****  */
  55:../../libDaisy/src/hid/logger.h **** #define FLT_FMT3 FLT_FMT(3)
  56:../../libDaisy/src/hid/logger.h **** /** Shorthand for 10^-3 fraction
  57:../../libDaisy/src/hid/logger.h ****  */
  58:../../libDaisy/src/hid/logger.h **** #define FLT_VAR3(_x) FLT_VAR(3, _x)
  59:../../libDaisy/src/hid/logger.h **** 
  60:../../libDaisy/src/hid/logger.h **** /** @} */ // End logging_macros
  61:../../libDaisy/src/hid/logger.h **** 
  62:../../libDaisy/src/hid/logger.h **** /**   @brief Interface for simple USB logging
  63:../../libDaisy/src/hid/logger.h ****  *    @author Alexander Petrov-Savchenko (axp@soft-amp.com)
  64:../../libDaisy/src/hid/logger.h ****  *    @date November 2020
  65:../../libDaisy/src/hid/logger.h ****  *    
  66:../../libDaisy/src/hid/logger.h ****  *    Simple Example:
  67:../../libDaisy/src/hid/logger.h ****  *    @include SerialPrint.cpp
  68:../../libDaisy/src/hid/logger.h ****  * 
  69:../../libDaisy/src/hid/logger.h ****  */
  70:../../libDaisy/src/hid/logger.h **** template <LoggerDestination dest = LOGGER_INTERNAL>
  71:../../libDaisy/src/hid/logger.h **** class Logger
  72:../../libDaisy/src/hid/logger.h **** {
  73:../../libDaisy/src/hid/logger.h ****   public:
  74:../../libDaisy/src/hid/logger.h ****     /** Object constructor
  75:../../libDaisy/src/hid/logger.h ****      */
  76:../../libDaisy/src/hid/logger.h ****     Logger() {}
 4049              		.loc 24 76 5 is_stmt 1 view .LVU1125
 4050              		.loc 24 76 5 is_stmt 0 view .LVU1126
 4051              	.LBE1398:
 4052              	.LBB1399:
 4053              	.LBI1308:
  35:../../libDaisy/src/daisy_pod.h ****     ~DaisyPod() {}
 4054              		.loc 3 35 5 is_stmt 1 view .LVU1127
 4055              	.LBB1394:
 4056              	.LBB1371:
 4057              	.LBI1349:
  21:../../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 4058              		.loc 9 21 5 view .LVU1128
 4059              	.LBB1369:
 4060              	.LBB1358:
 4061              	.LBI1351:
 4062              		.loc 23 166 5 view .LVU1129
 4063              	.LBB1356:
 4064              	.LBB1354:
 4065              		.loc 23 166 34 is_stmt 0 view .LVU1130
 4066 0016 2848     		ldr	r0, .L224+8
 4067              	.LBE1354:
 4068              	.LBE1356:
 4069              	.LBE1358:
 4070              	.LBE1369:
ARM GAS  /tmp/cc1ZxEVo.s 			page 124


 4071              	.LBE1371:
 4072              	.LBB1372:
 4073              	.LBB1346:
 4074              	.LBB1343:
 4075              	.LBB1313:
 4076              	.LBB1314:
 4077              	.LBB1315:
 4078              	.LBB1316:
  37:../../libDaisy/src/hid/midi.h ****             tx     = {DSY_GPIOB, 6};
 4079              		.loc 4 37 20 view .LVU1131
 4080 0018 284A     		ldr	r2, .L224+12
 4081              	.LBE1316:
 4082              	.LBE1315:
 4083              	.LBE1314:
 4084              	.LBE1313:
  84:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 4085              		.loc 4 84 19 view .LVU1132
 4086 001a 0726     		movs	r6, #7
 4087              	.LBB1329:
 4088              	.LBB1325:
 4089              	.LBB1321:
 4090              	.LBB1317:
  36:../../libDaisy/src/hid/midi.h ****             rx     = {DSY_GPIOB, 7};
 4091              		.loc 4 36 20 view .LVU1133
 4092 001c 00F51043 		add	r3, r0, #36864
 4093              	.LBE1317:
 4094              	.LBE1321:
 4095              	.LBE1325:
 4096              	.LBE1329:
  84:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 4097              		.loc 4 84 19 view .LVU1134
 4098 0020 DFF8C080 		ldr	r8, .L224+52
 4099              	.LBB1330:
 4100              	.LBB1326:
 4101              	.LBB1322:
 4102              	.LBB1318:
  37:../../libDaisy/src/hid/midi.h ****             tx     = {DSY_GPIOB, 6};
 4103              		.loc 4 37 20 view .LVU1135
 4104 0024 1188     		ldrh	r1, [r2]
  38:../../libDaisy/src/hid/midi.h ****         }
 4105              		.loc 4 38 20 view .LVU1136
 4106 0026 9288     		ldrh	r2, [r2, #4]
  36:../../libDaisy/src/hid/midi.h ****             rx     = {DSY_GPIOB, 7};
 4107              		.loc 4 36 20 view .LVU1137
 4108 0028 C3F82442 		str	r4, [r3, #548]
 4109              	.LBE1318:
 4110              	.LBE1322:
 4111              	.LBE1326:
 4112              	.LBE1330:
 4113              	.LBB1331:
 4114              	.LBB1332:
 4115              	.LBB1333:
 4116              	.LBB1334:
 4117              		.file 25 "../../libDaisy/src/per/uart.h"
   1:../../libDaisy/src/per/uart.h **** /* 
   2:../../libDaisy/src/per/uart.h **** TODO
   3:../../libDaisy/src/per/uart.h **** - UART1 defaults to DMA, add flexible config for DMA on all periphs
ARM GAS  /tmp/cc1ZxEVo.s 			page 125


   4:../../libDaisy/src/per/uart.h **** - Transmit function improvements.
   5:../../libDaisy/src/per/uart.h **** - Overflow handling, etc. for Rx Queue.
   6:../../libDaisy/src/per/uart.h **** */
   7:../../libDaisy/src/per/uart.h **** 
   8:../../libDaisy/src/per/uart.h **** #pragma once
   9:../../libDaisy/src/per/uart.h **** #ifndef DSY_UART_H
  10:../../libDaisy/src/per/uart.h **** #define DSY_UART_H /**< macro */
  11:../../libDaisy/src/per/uart.h **** #include "daisy_core.h"
  12:../../libDaisy/src/per/uart.h **** 
  13:../../libDaisy/src/per/uart.h **** 
  14:../../libDaisy/src/per/uart.h **** namespace daisy
  15:../../libDaisy/src/per/uart.h **** {
  16:../../libDaisy/src/per/uart.h **** /** @addtogroup serial
  17:../../libDaisy/src/per/uart.h ****     @{
  18:../../libDaisy/src/per/uart.h ****     */
  19:../../libDaisy/src/per/uart.h **** 
  20:../../libDaisy/src/per/uart.h **** /** 
  21:../../libDaisy/src/per/uart.h ****     Uart Peripheral
  22:../../libDaisy/src/per/uart.h ****     @author shensley
  23:../../libDaisy/src/per/uart.h ****     @date March 2020
  24:../../libDaisy/src/per/uart.h ****     */
  25:../../libDaisy/src/per/uart.h **** class UartHandler
  26:../../libDaisy/src/per/uart.h **** {
  27:../../libDaisy/src/per/uart.h ****   public:
  28:../../libDaisy/src/per/uart.h ****     struct Config
  29:../../libDaisy/src/per/uart.h ****     {
  30:../../libDaisy/src/per/uart.h ****         enum class Peripheral
  31:../../libDaisy/src/per/uart.h ****         {
  32:../../libDaisy/src/per/uart.h ****             USART_1,
  33:../../libDaisy/src/per/uart.h ****             USART_2,
  34:../../libDaisy/src/per/uart.h ****             USART_3,
  35:../../libDaisy/src/per/uart.h ****             UART_4,
  36:../../libDaisy/src/per/uart.h ****             UART_5,
  37:../../libDaisy/src/per/uart.h ****             USART_6,
  38:../../libDaisy/src/per/uart.h ****             UART_7,
  39:../../libDaisy/src/per/uart.h ****             UART_8,
  40:../../libDaisy/src/per/uart.h ****             LPUART_1,
  41:../../libDaisy/src/per/uart.h ****         };
  42:../../libDaisy/src/per/uart.h **** 
  43:../../libDaisy/src/per/uart.h ****         enum class StopBits
  44:../../libDaisy/src/per/uart.h ****         {
  45:../../libDaisy/src/per/uart.h ****             BITS_0_5,
  46:../../libDaisy/src/per/uart.h ****             BITS_1,
  47:../../libDaisy/src/per/uart.h ****             BITS_1_5,
  48:../../libDaisy/src/per/uart.h ****             BITS_2,
  49:../../libDaisy/src/per/uart.h ****         };
  50:../../libDaisy/src/per/uart.h **** 
  51:../../libDaisy/src/per/uart.h ****         enum class Parity
  52:../../libDaisy/src/per/uart.h ****         {
  53:../../libDaisy/src/per/uart.h ****             NONE,
  54:../../libDaisy/src/per/uart.h ****             EVEN,
  55:../../libDaisy/src/per/uart.h ****             ODD,
  56:../../libDaisy/src/per/uart.h ****         };
  57:../../libDaisy/src/per/uart.h **** 
  58:../../libDaisy/src/per/uart.h ****         enum class Mode
  59:../../libDaisy/src/per/uart.h ****         {
  60:../../libDaisy/src/per/uart.h ****             RX,
ARM GAS  /tmp/cc1ZxEVo.s 			page 126


  61:../../libDaisy/src/per/uart.h ****             TX,
  62:../../libDaisy/src/per/uart.h ****             TX_RX,
  63:../../libDaisy/src/per/uart.h ****         };
  64:../../libDaisy/src/per/uart.h **** 
  65:../../libDaisy/src/per/uart.h ****         enum class WordLength
  66:../../libDaisy/src/per/uart.h ****         {
  67:../../libDaisy/src/per/uart.h ****             BITS_7,
  68:../../libDaisy/src/per/uart.h ****             BITS_8,
  69:../../libDaisy/src/per/uart.h ****             BITS_9,
  70:../../libDaisy/src/per/uart.h ****         };
  71:../../libDaisy/src/per/uart.h **** 
  72:../../libDaisy/src/per/uart.h ****         struct
  73:../../libDaisy/src/per/uart.h ****         {
  74:../../libDaisy/src/per/uart.h ****             dsy_gpio_pin tx; /**< & */
  75:../../libDaisy/src/per/uart.h ****             dsy_gpio_pin rx; /**< & */
  76:../../libDaisy/src/per/uart.h ****         } pin_config;        /**< & */
  77:../../libDaisy/src/per/uart.h **** 
  78:../../libDaisy/src/per/uart.h ****         Config()
  79:../../libDaisy/src/per/uart.h ****         {
  80:../../libDaisy/src/per/uart.h ****             // user must init periph, pin_config, and mode
  81:../../libDaisy/src/per/uart.h ****             stopbits   = StopBits::BITS_1;
  82:../../libDaisy/src/per/uart.h ****             parity     = Parity::NONE;
  83:../../libDaisy/src/per/uart.h ****             wordlength = WordLength::BITS_8;
  84:../../libDaisy/src/per/uart.h ****             baudrate   = 4800;
  85:../../libDaisy/src/per/uart.h ****             // baudrate   = 31250;
  86:../../libDaisy/src/per/uart.h ****         }
  87:../../libDaisy/src/per/uart.h **** 
  88:../../libDaisy/src/per/uart.h ****         Peripheral periph;
  89:../../libDaisy/src/per/uart.h ****         StopBits   stopbits;
  90:../../libDaisy/src/per/uart.h ****         Parity     parity;
  91:../../libDaisy/src/per/uart.h ****         Mode       mode;
  92:../../libDaisy/src/per/uart.h ****         WordLength wordlength;
  93:../../libDaisy/src/per/uart.h ****         uint32_t   baudrate;
  94:../../libDaisy/src/per/uart.h ****     };
  95:../../libDaisy/src/per/uart.h **** 
  96:../../libDaisy/src/per/uart.h **** 
  97:../../libDaisy/src/per/uart.h ****     UartHandler() : pimpl_(nullptr) {}
 4118              		.loc 25 97 35 view .LVU1138
 4119 002c C3F82C42 		str	r4, [r3, #556]
 4120              	.LBE1334:
 4121              	.LBE1333:
 4122              	.LBE1332:
 4123              	.LBE1331:
 4124              	.LBB1336:
 4125              	.LBB1327:
 4126              	.LBB1323:
 4127              	.LBB1319:
  37:../../libDaisy/src/hid/midi.h ****             tx     = {DSY_GPIOB, 6};
 4128              		.loc 4 37 20 view .LVU1139
 4129 0030 A3F82812 		strh	r1, [r3, #552]	@ movhi
  38:../../libDaisy/src/hid/midi.h ****         }
 4130              		.loc 4 38 20 view .LVU1140
 4131 0034 A3F82A22 		strh	r2, [r3, #554]	@ movhi
 4132              	.LBE1319:
 4133              	.LBE1323:
 4134              	.LBE1327:
 4135              	.LBE1336:
ARM GAS  /tmp/cc1ZxEVo.s 			page 127


 4136              	.LBE1343:
 4137              	.LBE1346:
 4138              	.LBE1372:
 4139              	.LBE1394:
 4140              	.LBE1399:
  51:Polysynth.cpp **** Oscillator osc[voicecount];
 4141              		.loc 14 51 12 view .LVU1141
 4142 0038 2A46     		mov	r2, r5
 4143              	.LBB1400:
 4144              	.LBB1395:
 4145              	.LBB1373:
 4146              	.LBB1347:
 4147              	.LBB1344:
  84:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 4148              		.loc 4 84 19 view .LVU1142
 4149 003a C3F83082 		str	r8, [r3, #560]
 4150 003e A3F83472 		strh	r7, [r3, #564]	@ movhi
 4151 0042 83F83662 		strb	r6, [r3, #566]
 4152              	.LBE1344:
 4153              	.LBE1347:
 4154              	.LBE1373:
 4155              	.LBE1395:
 4156              	.LBE1400:
  53:Polysynth.cpp **** 
 4157              		.loc 14 53 12 view .LVU1143
 4158 0046 DFF8A090 		ldr	r9, .L224+56
  51:Polysynth.cpp **** Oscillator osc[voicecount];
 4159              		.loc 14 51 12 view .LVU1144
 4160 004a 1D49     		ldr	r1, .L224+16
 4161              	.LBB1401:
 4162              	.LBB1396:
 4163              	.LBB1374:
 4164              	.LBB1370:
 4165              	.LBB1359:
 4166              	.LBB1357:
 4167              	.LBB1355:
 4168              		.loc 23 166 34 view .LVU1145
 4169 004c 0460     		str	r4, [r0]
 4170              	.LVL295:
 4171              		.loc 23 166 34 view .LVU1146
 4172              	.LBE1355:
 4173              	.LBE1357:
 4174              	.LBE1359:
 4175              	.LBB1360:
 4176              	.LBI1360:
  95:../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 4177              		.loc 13 95 5 is_stmt 1 view .LVU1147
 4178              	.LBB1361:
 4179              	.LBB1362:
  95:../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 4180              		.loc 13 95 35 is_stmt 0 view .LVU1148
 4181 004e 4461     		str	r4, [r0, #20]
 4182              	.LVL296:
  95:../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 4183              		.loc 13 95 35 view .LVU1149
 4184              	.LBE1362:
 4185              	.LBE1361:
ARM GAS  /tmp/cc1ZxEVo.s 			page 128


 4186              	.LBE1360:
 4187              	.LBB1363:
 4188              	.LBI1363:
  92:../../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 4189              		.loc 12 92 5 is_stmt 1 view .LVU1150
  92:../../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 4190              		.loc 12 92 5 is_stmt 0 view .LVU1151
 4191              	.LBE1363:
 4192              	.LBB1364:
 4193              	.LBI1364:
 4194              		.file 26 "../../libDaisy/src/per/dac.h"
   1:../../libDaisy/src/per/dac.h **** #pragma once
   2:../../libDaisy/src/per/dac.h **** #ifndef DSY_DAC_H
   3:../../libDaisy/src/per/dac.h **** #define DSY_DAC_H
   4:../../libDaisy/src/per/dac.h **** 
   5:../../libDaisy/src/per/dac.h **** #include "daisy_core.h"
   6:../../libDaisy/src/per/dac.h **** 
   7:../../libDaisy/src/per/dac.h **** namespace daisy
   8:../../libDaisy/src/per/dac.h **** {
   9:../../libDaisy/src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../../libDaisy/src/per/dac.h ****  *  @ingroup per_analog
  11:../../libDaisy/src/per/dac.h ****  ** 
  12:../../libDaisy/src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../../libDaisy/src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../../libDaisy/src/per/dac.h ****  **
  15:../../libDaisy/src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../../libDaisy/src/per/dac.h ****  **
  17:../../libDaisy/src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../../libDaisy/src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../../libDaisy/src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../../libDaisy/src/per/dac.h ****  ***/
  21:../../libDaisy/src/per/dac.h **** class DacHandle
  22:../../libDaisy/src/per/dac.h **** {
  23:../../libDaisy/src/per/dac.h ****   public:
  24:../../libDaisy/src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../../libDaisy/src/per/dac.h ****     enum class Result
  26:../../libDaisy/src/per/dac.h ****     {
  27:../../libDaisy/src/per/dac.h ****         OK,
  28:../../libDaisy/src/per/dac.h ****         ERR,
  29:../../libDaisy/src/per/dac.h ****     };
  30:../../libDaisy/src/per/dac.h **** 
  31:../../libDaisy/src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../../libDaisy/src/per/dac.h ****     enum class Channel
  33:../../libDaisy/src/per/dac.h ****     {
  34:../../libDaisy/src/per/dac.h ****         ONE,
  35:../../libDaisy/src/per/dac.h ****         TWO,
  36:../../libDaisy/src/per/dac.h ****         BOTH,
  37:../../libDaisy/src/per/dac.h ****     };
  38:../../libDaisy/src/per/dac.h **** 
  39:../../libDaisy/src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../../libDaisy/src/per/dac.h ****      **
  41:../../libDaisy/src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../../libDaisy/src/per/dac.h ****      **
  43:../../libDaisy/src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:../../libDaisy/src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../../libDaisy/src/per/dac.h ****      ***/
  46:../../libDaisy/src/per/dac.h ****     enum class Mode
ARM GAS  /tmp/cc1ZxEVo.s 			page 129


  47:../../libDaisy/src/per/dac.h ****     {
  48:../../libDaisy/src/per/dac.h ****         POLLING,
  49:../../libDaisy/src/per/dac.h ****         DMA,
  50:../../libDaisy/src/per/dac.h ****     };
  51:../../libDaisy/src/per/dac.h **** 
  52:../../libDaisy/src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../../libDaisy/src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../../libDaisy/src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../../libDaisy/src/per/dac.h ****      ***/
  56:../../libDaisy/src/per/dac.h ****     enum class BitDepth
  57:../../libDaisy/src/per/dac.h ****     {
  58:../../libDaisy/src/per/dac.h ****         BITS_8,
  59:../../libDaisy/src/per/dac.h ****         BITS_12
  60:../../libDaisy/src/per/dac.h ****     };
  61:../../libDaisy/src/per/dac.h **** 
  62:../../libDaisy/src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../../libDaisy/src/per/dac.h ****     enum class BufferState
  64:../../libDaisy/src/per/dac.h ****     {
  65:../../libDaisy/src/per/dac.h ****         ENABLED,
  66:../../libDaisy/src/per/dac.h ****         DISABLED,
  67:../../libDaisy/src/per/dac.h ****     };
  68:../../libDaisy/src/per/dac.h **** 
  69:../../libDaisy/src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../../libDaisy/src/per/dac.h ****     struct Config
  71:../../libDaisy/src/per/dac.h ****     {
  72:../../libDaisy/src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../../libDaisy/src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../../libDaisy/src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../../libDaisy/src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../../libDaisy/src/per/dac.h ****         uint32_t target_samplerate;
  77:../../libDaisy/src/per/dac.h **** 
  78:../../libDaisy/src/per/dac.h ****         Channel     chn;
  79:../../libDaisy/src/per/dac.h ****         Mode        mode;
  80:../../libDaisy/src/per/dac.h ****         BitDepth    bitdepth;
  81:../../libDaisy/src/per/dac.h ****         BufferState buff_state;
  82:../../libDaisy/src/per/dac.h ****     };
  83:../../libDaisy/src/per/dac.h **** 
  84:../../libDaisy/src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 4195              		.loc 26 84 5 is_stmt 1 view .LVU1152
 4196              	.LBB1365:
 4197              	.LBB1366:
 4198              		.loc 26 84 33 is_stmt 0 view .LVU1153
 4199 0050 0462     		str	r4, [r0, #32]
 4200              	.LVL297:
 4201              		.loc 26 84 33 view .LVU1154
 4202              	.LBE1366:
 4203              	.LBE1365:
 4204              	.LBE1364:
 4205              	.LBB1367:
 4206              	.LBI1367:
  40:../../libDaisy/src/hid/usb.h **** 
 4207              		.loc 11 40 5 is_stmt 1 view .LVU1155
  40:../../libDaisy/src/hid/usb.h **** 
 4208              		.loc 11 40 5 is_stmt 0 view .LVU1156
 4209              	.LBE1367:
 4210              	.LBB1368:
 4211              	.LBI1368:
ARM GAS  /tmp/cc1ZxEVo.s 			page 130


  77:../../libDaisy/src/sys/system.h ****     ~System() {}
 4212              		.loc 10 77 5 is_stmt 1 view .LVU1157
  77:../../libDaisy/src/sys/system.h ****     ~System() {}
 4213              		.loc 10 77 5 is_stmt 0 view .LVU1158
 4214              	.LBE1368:
 4215              	.LBE1370:
 4216              	.LBE1374:
 4217              	.LBB1375:
 4218              	.LBI1375:
  20:../../libDaisy/src/hid/encoder.h ****     ~Encoder() {}
 4219              		.loc 8 20 5 is_stmt 1 view .LVU1159
 4220              	.LBB1376:
 4221              	.LBB1377:
 4222              	.LBI1377:
  41:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 4223              		.loc 7 41 5 view .LVU1160
  41:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 4224              		.loc 7 41 5 is_stmt 0 view .LVU1161
 4225              	.LBE1377:
 4226              	.LBE1376:
 4227              	.LBE1375:
 4228              	.LBB1378:
 4229              	.LBI1378:
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4230              		.loc 2 21 5 is_stmt 1 view .LVU1162
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4231              		.loc 2 21 5 is_stmt 0 view .LVU1163
 4232              	.LBE1378:
 4233              	.LBB1379:
 4234              	.LBI1379:
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4235              		.loc 2 21 5 is_stmt 1 view .LVU1164
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4236              		.loc 2 21 5 is_stmt 0 view .LVU1165
 4237              	.LBE1379:
 4238              	.LBB1380:
 4239              	.LBI1380:
  41:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 4240              		.loc 7 41 5 is_stmt 1 view .LVU1166
  41:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 4241              		.loc 7 41 5 is_stmt 0 view .LVU1167
 4242              	.LBE1380:
 4243              	.LBB1381:
 4244              	.LBI1381:
  41:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 4245              		.loc 7 41 5 is_stmt 1 view .LVU1168
  41:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 4246              		.loc 7 41 5 is_stmt 0 view .LVU1169
 4247              	.LBE1381:
 4248              	.LBB1382:
 4249              	.LBI1382:
  17:../../libDaisy/src/hid/rgb_led.h ****     ~RgbLed() {}
 4250              		.loc 5 17 5 is_stmt 1 view .LVU1170
 4251              	.LBB1383:
 4252              	.LBB1384:
 4253              	.LBI1384:
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
ARM GAS  /tmp/cc1ZxEVo.s 			page 131


 4254              		.loc 6 24 5 view .LVU1171
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 4255              		.loc 6 24 5 is_stmt 0 view .LVU1172
 4256              	.LBE1384:
 4257              	.LBB1385:
 4258              	.LBI1385:
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 4259              		.loc 6 24 5 is_stmt 1 view .LVU1173
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 4260              		.loc 6 24 5 is_stmt 0 view .LVU1174
 4261              	.LBE1385:
 4262              	.LBB1386:
 4263              	.LBI1386:
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 4264              		.loc 6 24 5 is_stmt 1 view .LVU1175
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 4265              		.loc 6 24 5 is_stmt 0 view .LVU1176
 4266              	.LBE1386:
 4267              	.LBE1383:
 4268              	.LBE1382:
 4269              	.LBB1387:
 4270              	.LBI1387:
  17:../../libDaisy/src/hid/rgb_led.h ****     ~RgbLed() {}
 4271              		.loc 5 17 5 is_stmt 1 view .LVU1177
 4272              	.LBB1388:
 4273              	.LBB1389:
 4274              	.LBI1389:
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 4275              		.loc 6 24 5 view .LVU1178
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 4276              		.loc 6 24 5 is_stmt 0 view .LVU1179
 4277              	.LBE1389:
 4278              	.LBB1390:
 4279              	.LBI1390:
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 4280              		.loc 6 24 5 is_stmt 1 view .LVU1180
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 4281              		.loc 6 24 5 is_stmt 0 view .LVU1181
 4282              	.LBE1390:
 4283              	.LBB1391:
 4284              	.LBI1391:
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 4285              		.loc 6 24 5 is_stmt 1 view .LVU1182
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 4286              		.loc 6 24 5 is_stmt 0 view .LVU1183
 4287              	.LBE1391:
 4288              	.LBE1388:
 4289              	.LBE1387:
 4290              	.LBB1392:
 4291              	.LBI1310:
  84:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 4292              		.loc 4 84 5 is_stmt 1 view .LVU1184
 4293              	.LBB1348:
 4294              	.LBB1345:
 4295              	.LBB1337:
 4296              	.LBI1337:
 4297              		.loc 25 97 5 view .LVU1185
ARM GAS  /tmp/cc1ZxEVo.s 			page 132


 4298              	.LBB1338:
 4299              	.LBB1339:
 4300              		.loc 25 97 35 is_stmt 0 view .LVU1186
 4301 0052 C0F87C41 		str	r4, [r0, #380]
 4302              	.LVL298:
 4303              		.loc 25 97 35 view .LVU1187
 4304              	.LBE1339:
 4305              	.LBE1338:
 4306              	.LBE1337:
 4307              	.LBB1340:
 4308              	.LBI1340:
  21:../../libDaisy/src/util/ringbuffer.h **** 
 4309              		.loc 21 21 5 is_stmt 1 view .LVU1188
  21:../../libDaisy/src/util/ringbuffer.h **** 
 4310              		.loc 21 21 5 is_stmt 0 view .LVU1189
 4311              	.LBE1340:
 4312              	.LBB1341:
 4313              	.LBI1313:
  87:../../libDaisy/src/hid/midi.h ****     {
 4314              		.loc 4 87 12 is_stmt 1 view .LVU1190
 4315              	.LBB1328:
 4316              	.LBI1314:
  34:../../libDaisy/src/hid/midi.h ****         {
 4317              		.loc 4 34 9 view .LVU1191
 4318              	.LBB1324:
 4319              	.LBB1320:
  36:../../libDaisy/src/hid/midi.h ****             rx     = {DSY_GPIOB, 7};
 4320              		.loc 4 36 13 view .LVU1192
  37:../../libDaisy/src/hid/midi.h ****             tx     = {DSY_GPIOB, 6};
 4321              		.loc 4 37 13 view .LVU1193
  38:../../libDaisy/src/hid/midi.h ****         }
 4322              		.loc 4 38 13 view .LVU1194
  38:../../libDaisy/src/hid/midi.h ****         }
 4323              		.loc 4 38 13 is_stmt 0 view .LVU1195
 4324              	.LBE1320:
 4325              	.LBE1324:
 4326              	.LBE1328:
 4327              	.LBE1341:
 4328              	.LBB1342:
 4329              	.LBI1331:
  25:../../libDaisy/src/hid/midi.h ****     ~MidiUartTransport() {}
 4330              		.loc 4 25 5 is_stmt 1 view .LVU1196
 4331              	.LBB1335:
 4332              	.LBI1332:
 4333              		.loc 25 97 5 view .LVU1197
 4334              		.loc 25 97 5 is_stmt 0 view .LVU1198
 4335              	.LBE1335:
 4336              	.LBE1342:
 4337              	.LBE1345:
 4338              	.LBE1348:
 4339              	.LBE1392:
 4340              	.LBE1396:
 4341              	.LBE1401:
  51:Polysynth.cpp **** Oscillator osc[voicecount];
 4342              		.loc 14 51 12 view .LVU1199
 4343 0056 FFF7FEFF 		bl	__aeabi_atexit
 4344              	.LVL299:
ARM GAS  /tmp/cc1ZxEVo.s 			page 133


  52:Polysynth.cpp **** Parameter  p_envf, p_decay;
 4345              		.loc 14 52 26 is_stmt 1 view .LVU1200
  52:Polysynth.cpp **** Parameter  p_envf, p_decay;
 4346              		.loc 14 52 12 is_stmt 0 view .LVU1201
 4347 005a 2A46     		mov	r2, r5
 4348 005c 1949     		ldr	r1, .L224+20
 4349 005e 2046     		mov	r0, r4
 4350 0060 FFF7FEFF 		bl	__aeabi_atexit
 4351              	.LVL300:
 4352              	.LBB1402:
 4353              	.LBI1402:
  25:../../libDaisy/src/hid/parameter.h ****     /** Destructor */
 4354              		.loc 1 25 5 is_stmt 1 view .LVU1202
 4355              	.LBB1403:
 4356              	.LBB1404:
 4357              	.LBI1404:
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4358              		.loc 2 21 5 view .LVU1203
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4359              		.loc 2 21 5 is_stmt 0 view .LVU1204
 4360              	.LBE1404:
 4361              	.LBE1403:
 4362              	.LBE1402:
  53:Polysynth.cpp **** 
 4363              		.loc 14 53 12 view .LVU1205
 4364 0064 2A46     		mov	r2, r5
 4365 0066 4946     		mov	r1, r9
 4366 0068 1748     		ldr	r0, .L224+24
 4367 006a FFF7FEFF 		bl	__aeabi_atexit
 4368              	.LVL301:
 4369              	.LBB1405:
 4370              	.LBI1405:
  25:../../libDaisy/src/hid/parameter.h ****     /** Destructor */
 4371              		.loc 1 25 5 is_stmt 1 view .LVU1206
 4372              	.LBB1406:
 4373              	.LBB1407:
 4374              	.LBI1407:
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4375              		.loc 2 21 5 view .LVU1207
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4376              		.loc 2 21 5 is_stmt 0 view .LVU1208
 4377              	.LBE1407:
 4378              	.LBE1406:
 4379              	.LBE1405:
  53:Polysynth.cpp **** 
 4380              		.loc 14 53 20 view .LVU1209
 4381 006e 2A46     		mov	r2, r5
 4382 0070 4946     		mov	r1, r9
 4383 0072 1648     		ldr	r0, .L224+28
 4384 0074 FFF7FEFF 		bl	__aeabi_atexit
 4385              	.LVL302:
 4386              	.LBB1408:
 4387              	.LBI1408:
  84:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 4388              		.loc 4 84 5 is_stmt 1 view .LVU1210
 4389              	.LBB1409:
 4390              	.LBB1410:
ARM GAS  /tmp/cc1ZxEVo.s 			page 134


 4391              	.LBB1411:
 4392              	.LBI1411:
 4393              		.loc 25 97 5 view .LVU1211
 4394              		.loc 25 97 5 is_stmt 0 view .LVU1212
 4395              	.LBE1411:
 4396              	.LBB1416:
 4397              	.LBI1416:
  21:../../libDaisy/src/util/ringbuffer.h **** 
 4398              		.loc 21 21 5 is_stmt 1 view .LVU1213
  21:../../libDaisy/src/util/ringbuffer.h **** 
 4399              		.loc 21 21 5 is_stmt 0 view .LVU1214
 4400              	.LBE1416:
 4401              	.LBB1417:
 4402              	.LBI1417:
  19:../../libDaisy/src/hid/usb_midi.h **** 
  20:../../libDaisy/src/hid/usb_midi.h ****     struct Config
  21:../../libDaisy/src/hid/usb_midi.h ****     {
  22:../../libDaisy/src/hid/usb_midi.h ****         enum Periph
  23:../../libDaisy/src/hid/usb_midi.h ****         {
  24:../../libDaisy/src/hid/usb_midi.h ****             INTERNAL = 0,
  25:../../libDaisy/src/hid/usb_midi.h ****             EXTERNAL
  26:../../libDaisy/src/hid/usb_midi.h ****         };
  27:../../libDaisy/src/hid/usb_midi.h **** 
  28:../../libDaisy/src/hid/usb_midi.h ****         Periph periph;
  29:../../libDaisy/src/hid/usb_midi.h ****     };
  30:../../libDaisy/src/hid/usb_midi.h **** 
  31:../../libDaisy/src/hid/usb_midi.h ****     void Init(Config config);
  32:../../libDaisy/src/hid/usb_midi.h **** 
  33:../../libDaisy/src/hid/usb_midi.h ****     void    StartRx();
  34:../../libDaisy/src/hid/usb_midi.h ****     size_t  Readable();
  35:../../libDaisy/src/hid/usb_midi.h ****     uint8_t Rx();
  36:../../libDaisy/src/hid/usb_midi.h ****     bool    RxActive();
  37:../../libDaisy/src/hid/usb_midi.h ****     void    FlushRx();
  38:../../libDaisy/src/hid/usb_midi.h ****     void    Tx(uint8_t* buffer, size_t size);
  39:../../libDaisy/src/hid/usb_midi.h **** 
  40:../../libDaisy/src/hid/usb_midi.h ****     class Impl;
  41:../../libDaisy/src/hid/usb_midi.h **** 
  42:../../libDaisy/src/hid/usb_midi.h ****     MidiUsbTransport() : pimpl_(nullptr) {}
 4403              		.loc 16 42 5 is_stmt 1 view .LVU1215
 4404              		.loc 16 42 5 is_stmt 0 view .LVU1216
 4405              	.LBE1417:
 4406              	.LBB1422:
 4407              	.LBB1412:
 4408              	.LBB1413:
 4409              		.loc 25 97 35 view .LVU1217
 4410 0078 1548     		ldr	r0, .L224+32
 4411              	.LBE1413:
 4412              	.LBE1412:
 4413              	.LBE1422:
 4414              	.LBE1410:
 4415              	.LBE1409:
 4416              	.LBE1408:
  55:Polysynth.cpp **** envStruct envelopes[voicecount]; // envelopes struct
 4417              		.loc 14 55 16 view .LVU1218
 4418 007a 2A46     		mov	r2, r5
 4419 007c 1549     		ldr	r1, .L224+36
 4420              	.LBB1429:
ARM GAS  /tmp/cc1ZxEVo.s 			page 135


 4421              	.LBB1428:
 4422              	.LBB1426:
 4423              	.LBB1423:
 4424              	.LBB1418:
 4425              	.LBB1419:
 4426              		.loc 16 42 40 view .LVU1219
 4427 007e 00F51043 		add	r3, r0, #36864
 4428              	.LBE1419:
 4429              	.LBE1418:
 4430              	.LBE1423:
 4431              	.LBB1424:
 4432              	.LBB1415:
 4433              	.LBB1414:
 4434              		.loc 25 97 35 view .LVU1220
 4435 0082 0460     		str	r4, [r0]
 4436              	.LBE1414:
 4437              	.LBE1415:
 4438              	.LBE1424:
 4439              	.LBE1426:
  84:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 4440              		.loc 4 84 5 view .LVU1221
 4441 0084 C3F8AC80 		str	r8, [r3, #172]
 4442 0088 A3F8B070 		strh	r7, [r3, #176]	@ movhi
 4443              	.LBB1427:
 4444              	.LBB1425:
 4445              	.LBB1421:
 4446              	.LBB1420:
 4447              		.loc 16 42 40 view .LVU1222
 4448 008c C3F8A840 		str	r4, [r3, #168]
 4449              	.LBE1420:
 4450              	.LBE1421:
 4451              	.LBE1425:
  84:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 4452              		.loc 4 84 19 view .LVU1223
 4453 0090 83F8B260 		strb	r6, [r3, #178]
 4454              	.LVL303:
  84:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 4455              		.loc 4 84 19 view .LVU1224
 4456              	.LBE1427:
 4457              	.LBE1428:
 4458              	.LBE1429:
  55:Polysynth.cpp **** envStruct envelopes[voicecount]; // envelopes struct
 4459              		.loc 14 55 16 view .LVU1225
 4460 0094 FFF7FEFF 		bl	__aeabi_atexit
 4461              	.LVL304:
  56:Polysynth.cpp **** filtStruct   filter; // filter struct
 4462              		.loc 14 56 31 is_stmt 1 view .LVU1226
  56:Polysynth.cpp **** filtStruct   filter; // filter struct
 4463              		.loc 14 56 11 is_stmt 0 view .LVU1227
 4464 0098 2A46     		mov	r2, r5
 4465 009a 0F49     		ldr	r1, .L224+40
 4466 009c 2046     		mov	r0, r4
 4467 009e FFF7FEFF 		bl	__aeabi_atexit
 4468              	.LVL305:
 4469              	.LBB1430:
 4470              	.LBI1430:
  43:Polysynth.cpp **** {
ARM GAS  /tmp/cc1ZxEVo.s 			page 136


 4471              		.loc 14 43 8 is_stmt 1 view .LVU1228
 4472              	.LBB1431:
 4473              	.LBI1431:
  20:../../DaisySP/Source/Filters/moogladder.h ****     ~MoogLadder() {}
 4474              		.loc 15 20 5 view .LVU1229
  20:../../DaisySP/Source/Filters/moogladder.h ****     ~MoogLadder() {}
 4475              		.loc 15 20 5 is_stmt 0 view .LVU1230
 4476              	.LBE1431:
 4477              	.LBB1432:
 4478              	.LBI1432:
  25:../../libDaisy/src/hid/parameter.h ****     /** Destructor */
 4479              		.loc 1 25 5 is_stmt 1 view .LVU1231
 4480              	.LBB1433:
 4481              	.LBB1434:
 4482              	.LBI1434:
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4483              		.loc 2 21 5 view .LVU1232
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4484              		.loc 2 21 5 is_stmt 0 view .LVU1233
 4485              	.LBE1434:
 4486              	.LBE1433:
 4487              	.LBE1432:
 4488              	.LBB1435:
 4489              	.LBI1435:
  25:../../libDaisy/src/hid/parameter.h ****     /** Destructor */
 4490              		.loc 1 25 5 is_stmt 1 view .LVU1234
 4491              	.LBB1436:
 4492              	.LBB1437:
 4493              	.LBI1437:
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4494              		.loc 2 21 5 view .LVU1235
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4495              		.loc 2 21 5 is_stmt 0 view .LVU1236
 4496              	.LBE1437:
 4497              	.LBE1436:
 4498              	.LBE1435:
 4499              	.LBB1438:
 4500              	.LBI1438:
  25:../../libDaisy/src/hid/parameter.h ****     /** Destructor */
 4501              		.loc 1 25 5 is_stmt 1 view .LVU1237
 4502              	.LBB1439:
 4503              	.LBB1440:
 4504              	.LBI1440:
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4505              		.loc 2 21 5 view .LVU1238
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 4506              		.loc 2 21 5 is_stmt 0 view .LVU1239
 4507              	.LBE1440:
 4508              	.LBE1439:
 4509              	.LBE1438:
 4510              	.LBE1430:
  57:Polysynth.cpp **** 
 4511              		.loc 14 57 14 view .LVU1240
 4512 00a2 2A46     		mov	r2, r5
 4513 00a4 0D49     		ldr	r1, .L224+44
 4514 00a6 0E48     		ldr	r0, .L224+48
 4515              	.LBE1441:
ARM GAS  /tmp/cc1ZxEVo.s 			page 137


 4516              	.LBE1443:
 4517              		.loc 14 315 1 view .LVU1241
 4518 00a8 BDE8F843 		pop	{r3, r4, r5, r6, r7, r8, r9, lr}
 4519              		.cfi_restore 14
 4520              		.cfi_restore 9
 4521              		.cfi_restore 8
 4522              		.cfi_restore 7
 4523              		.cfi_restore 6
 4524              		.cfi_restore 5
 4525              		.cfi_restore 4
 4526              		.cfi_restore 3
 4527              		.cfi_def_cfa_offset 0
 4528              	.LBB1444:
 4529              	.LBB1442:
  57:Polysynth.cpp **** 
 4530              		.loc 14 57 14 view .LVU1242
 4531 00ac FFF7FEBF 		b	__aeabi_atexit
 4532              	.LVL306:
 4533              	.L225:
 4534              		.align	2
 4535              	.L224:
 4536 00b0 00000000 		.word	__dso_handle
 4537 00b4 00000000 		.word	__tcf_0
 4538 00b8 00000000 		.word	hw
 4539 00bc 00000000 		.word	.LANCHOR5
 4540 00c0 00000000 		.word	_ZN5daisy8DaisyPodD1Ev
 4541 00c4 00000000 		.word	__tcf_1
 4542 00c8 00000000 		.word	.LANCHOR6
 4543 00cc 00000000 		.word	.LANCHOR7
 4544 00d0 00000000 		.word	midi
 4545 00d4 00000000 		.word	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev
 4546 00d8 00000000 		.word	__tcf_2
 4547 00dc 00000000 		.word	_ZN10filtStructD1Ev
 4548 00e0 00000000 		.word	.LANCHOR8
 4549 00e4 80707FF0 		.word	-260083584
 4550 00e8 00000000 		.word	_ZN5daisy9ParameterD1Ev
 4551              	.LBE1442:
 4552              	.LBE1444:
 4553              		.cfi_endproc
 4554              	.LFE5418:
 4556              		.section	.init_array,"aw",%init_array
 4557              		.align	2
 4558 0000 00000000 		.word	_GLOBAL__sub_I_voicenote(target1)
 4559              		.global	filter
 4560              		.global	envelopes
 4561              		.global	midi
 4562              		.global	p_decay
 4563              		.global	p_envf
 4564              		.global	osc
 4565              		.global	hw
 4566              		.global	logger
 4567              		.global	curveTimeMode
 4568              		.global	colors
 4569              		.global	voicehist
 4570              		.global	voicetrig
 4571              		.global	voicenote
 4572              		.section	.rodata
ARM GAS  /tmp/cc1ZxEVo.s 			page 138


 4573              		.align	2
 4574              		.set	.LANCHOR5,. + 0
 4575              	.LC0:
 4576 0000 01       		.byte	1
 4577 0001 07       		.byte	7
 4578 0002 0000     		.space	2
 4579              	.LC1:
 4580 0004 01       		.byte	1
 4581 0005 06       		.byte	6
 4582              		.section	.bss.colors,"aw",%nobits
 4583              		.align	2
 4584              		.set	.LANCHOR3,. + 0
 4587              	colors:
 4588 0000 00000000 		.space	120
 4588      00000000 
 4588      00000000 
 4588      00000000 
 4588      00000000 
 4589              		.section	.bss.curveTimeMode,"aw",%nobits
 4590              		.align	2
 4593              	curveTimeMode:
 4594 0000 00000000 		.space	4
 4595              		.section	.bss.envelopes,"aw",%nobits
 4596              		.align	2
 4597              		.set	.LANCHOR0,. + 0
 4600              	envelopes:
 4601 0000 00000000 		.space	912
 4601      00000000 
 4601      00000000 
 4601      00000000 
 4601      00000000 
 4602              		.section	.bss.filter,"aw",%nobits
 4603              		.align	2
 4604              		.set	.LANCHOR8,. + 0
 4607              	filter:
 4608 0000 00000000 		.space	236
 4608      00000000 
 4608      00000000 
 4608      00000000 
 4608      00000000 
 4609              		.section	.bss.hw,"aw",%nobits
 4610              		.align	2
 4613              	hw:
 4614 0000 00000000 		.space	37432
 4614      00000000 
 4614      00000000 
 4614      00000000 
 4614      00000000 
 4615              		.section	.bss.logger,"aw",%nobits
 4616              		.align	2
 4619              	logger:
 4620 0000 00       		.space	1
 4621              		.section	.bss.midi,"aw",%nobits
 4622              		.align	2
 4625              	midi:
 4626 0000 00000000 		.space	37044
 4626      00000000 
ARM GAS  /tmp/cc1ZxEVo.s 			page 139


 4626      00000000 
 4626      00000000 
 4626      00000000 
 4627              		.section	.bss.osc,"aw",%nobits
 4628              		.align	2
 4629              		.set	.LANCHOR2,. + 0
 4632              	osc:
 4633 0000 00000000 		.space	192
 4633      00000000 
 4633      00000000 
 4633      00000000 
 4633      00000000 
 4634              		.section	.bss.p_decay,"aw",%nobits
 4635              		.align	2
 4636              		.set	.LANCHOR7,. + 0
 4639              	p_decay:
 4640 0000 00000000 		.space	56
 4640      00000000 
 4640      00000000 
 4640      00000000 
 4640      00000000 
 4641              		.section	.bss.p_envf,"aw",%nobits
 4642              		.align	2
 4643              		.set	.LANCHOR6,. + 0
 4646              	p_envf:
 4647 0000 00000000 		.space	56
 4647      00000000 
 4647      00000000 
 4647      00000000 
 4647      00000000 
 4648              		.section	.bss.voicenote,"aw",%nobits
 4649              		.align	2
 4650              		.set	.LANCHOR1,. + 0
 4653              	voicenote:
 4654 0000 00000000 		.space	4
 4655              		.section	.bss.voicetrig,"aw",%nobits
 4656              		.align	2
 4659              	voicetrig:
 4660 0000 00000000 		.space	4
 4661              		.section	.data.voicehist,"aw"
 4662              		.align	2
 4663              		.set	.LANCHOR4,. + 0
 4666              	voicehist:
 4667 0000 04030201 		.ascii	"\004\003\002\001"
 4668              		.text
 4669              	.Letext0:
 4670              		.file 27 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_de
 4671              		.file 28 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint
 4672              		.file 29 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/stdint.h"
 4673              		.file 30 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/lib/gcc/arm-none-eabi/10.3.1/incl
 4674              		.file 31 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4675              		.file 32 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4676              		.file 33 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4677              		.file 34 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4678              		.file 35 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4679              		.file 36 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4680              		.file 37 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
ARM GAS  /tmp/cc1ZxEVo.s 			page 140


 4681              		.file 38 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4682              		.file 39 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4683              		.file 40 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4684              		.file 41 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4685              		.file 42 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4686              		.file 43 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4687              		.file 44 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4688              		.file 45 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4689              		.file 46 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4690              		.file 47 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4691              		.file 48 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4692              		.file 49 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_types.
 4693              		.file 50 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/reent.h
 4694              		.file 51 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/lock.h"
 4695              		.file 52 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/math.h"
 4696              		.file 53 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/stdlib.h"
 4697              		.file 54 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4698              		.file 55 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/c++/10.3.1/
 4699              		.file 56 "../../libDaisy/src/daisy_core.h"
 4700              		.file 57 "../../libDaisy/src/per/tim.h"
 4701              		.file 58 "../../libDaisy/src/per/sai.h"
 4702              		.file 59 "../../libDaisy/src/hid/logger_impl.h"
 4703              		.file 60 "../../libDaisy/src/util/wav_format.h"
 4704              		.file 61 "../../libDaisy/src/dev/max11300.h"
 4705              		.file 62 "../../libDaisy/src/per/gpio.h"
 4706              		.file 63 "../../libDaisy/src/dev/sdram.h"
 4707              		.file 64 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/lib/gcc/arm-none-eabi/10.3.1/incl
 4708              		.file 65 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/stdio.h"
 4709              		.file 66 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/string.h"
 4710              		.file 67 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/wchar.h"
 4711              		.file 68 "/home/hallmar/Developer/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/locale.h"
 4712              		.file 69 "<built-in>"
 4713              		.file 70 "../../libDaisy/src/dev/sr_595.h"
ARM GAS  /tmp/cc1ZxEVo.s 			page 141


DEFINED SYMBOLS
                            *ABS*:0000000000000000 Polysynth.cpp
     /tmp/cc1ZxEVo.s:19     .text._ZN5daisy9ParameterD2Ev:0000000000000000 $t
     /tmp/cc1ZxEVo.s:26     .text._ZN5daisy9ParameterD2Ev:0000000000000000 _ZN5daisy9ParameterD2Ev
     /tmp/cc1ZxEVo.s:26     .text._ZN5daisy9ParameterD2Ev:0000000000000000 _ZN5daisy9ParameterD1Ev
     /tmp/cc1ZxEVo.s:49     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 $t
     /tmp/cc1ZxEVo.s:56     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 _ZN5daisy8DaisyPodD2Ev
     /tmp/cc1ZxEVo.s:56     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 _ZN5daisy8DaisyPodD1Ev
     /tmp/cc1ZxEVo.s:183    .text.__tcf_0:0000000000000000 $t
     /tmp/cc1ZxEVo.s:189    .text.__tcf_0:0000000000000000 __tcf_0
     /tmp/cc1ZxEVo.s:203    .text._ZN10filtStructD2Ev:0000000000000000 $t
     /tmp/cc1ZxEVo.s:210    .text._ZN10filtStructD2Ev:0000000000000000 _ZN10filtStructD2Ev
     /tmp/cc1ZxEVo.s:210    .text._ZN10filtStructD2Ev:0000000000000000 _ZN10filtStructD1Ev
     /tmp/cc1ZxEVo.s:259    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:0000000000000000 $t
     /tmp/cc1ZxEVo.s:266    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:0000000000000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev
     /tmp/cc1ZxEVo.s:266    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:0000000000000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev
     /tmp/cc1ZxEVo.s:288    .text.__tcf_2:0000000000000000 $t
     /tmp/cc1ZxEVo.s:294    .text.__tcf_2:0000000000000000 __tcf_2
     /tmp/cc1ZxEVo.s:305    .text.__tcf_1:0000000000000000 $t
     /tmp/cc1ZxEVo.s:311    .text.__tcf_1:0000000000000000 __tcf_1
     /tmp/cc1ZxEVo.s:322    .text._ZL13AudioCallbackPKfPfj:0000000000000000 $t
     /tmp/cc1ZxEVo.s:328    .text._ZL13AudioCallbackPKfPfj:0000000000000000 _ZL13AudioCallbackPKfPfj
     /tmp/cc1ZxEVo.s:628    .text._ZL13AudioCallbackPKfPfj:00000000000000ec $d
     /tmp/cc1ZxEVo.s:4613   .bss.hw:0000000000000000 hw
     /tmp/cc1ZxEVo.s:639    .text._Z9InitSynthf:0000000000000000 $t
     /tmp/cc1ZxEVo.s:646    .text._Z9InitSynthf:0000000000000000 _Z9InitSynthf
     /tmp/cc1ZxEVo.s:892    .text._Z9InitSynthf:00000000000000a0 $d
     /tmp/cc1ZxEVo.s:903    .text._Z13InitEnvelopesf:0000000000000000 $t
     /tmp/cc1ZxEVo.s:910    .text._Z13InitEnvelopesf:0000000000000000 _Z13InitEnvelopesf
     /tmp/cc1ZxEVo.s:1072   .text._Z13InitEnvelopesf:0000000000000084 $d
     /tmp/cc1ZxEVo.s:1079   .text._Z10InitColorsv:0000000000000000 $t
     /tmp/cc1ZxEVo.s:1086   .text._Z10InitColorsv:0000000000000000 _Z10InitColorsv
     /tmp/cc1ZxEVo.s:1164   .text._Z10InitColorsv:0000000000000050 $d
     /tmp/cc1ZxEVo.s:1175   .text._Z13UpdateEncoderv:0000000000000000 $t
     /tmp/cc1ZxEVo.s:1182   .text._Z13UpdateEncoderv:0000000000000000 _Z13UpdateEncoderv
     /tmp/cc1ZxEVo.s:1199   .text._Z11UpdateKnobsv:0000000000000000 $t
     /tmp/cc1ZxEVo.s:1206   .text._Z11UpdateKnobsv:0000000000000000 _Z11UpdateKnobsv
     /tmp/cc1ZxEVo.s:1277   .text._Z11UpdateKnobsv:0000000000000028 $d
     /tmp/cc1ZxEVo.s:1282   .text._Z14UpdateControlsv:0000000000000000 $t
     /tmp/cc1ZxEVo.s:1289   .text._Z14UpdateControlsv:0000000000000000 _Z14UpdateControlsv
     /tmp/cc1ZxEVo.s:1379   .text._Z14UpdateControlsv:0000000000000038 $d
     /tmp/cc1ZxEVo.s:1385   .text._Z6NoteONh:0000000000000000 $t
     /tmp/cc1ZxEVo.s:1392   .text._Z6NoteONh:0000000000000000 _Z6NoteONh
     /tmp/cc1ZxEVo.s:2002   .text._Z6NoteONh:0000000000000194 $d
     /tmp/cc1ZxEVo.s:2019   .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh:0000000000000000 $t
     /tmp/cc1ZxEVo.s:2026   .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh:0000000000000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh
     /tmp/cc1ZxEVo.s:2105   .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh:0000000000000050 $d
     /tmp/cc1ZxEVo.s:2109   .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh:0000000000000054 $t
     /tmp/cc1ZxEVo.s:2686   .text._ZN5daisy11MidiHandlerINS_17MidiUartTransportEE5ParseEh:0000000000000000 $t
     /tmp/cc1ZxEVo.s:2693   .text._ZN5daisy11MidiHandlerINS_17MidiUartTransportEE5ParseEh:0000000000000000 _ZN5daisy11MidiHandlerINS_17MidiUartTransportEE5ParseEh
     /tmp/cc1ZxEVo.s:2772   .text._ZN5daisy11MidiHandlerINS_17MidiUartTransportEE5ParseEh:0000000000000050 $d
     /tmp/cc1ZxEVo.s:2776   .text._ZN5daisy11MidiHandlerINS_17MidiUartTransportEE5ParseEh:0000000000000054 $t
     /tmp/cc1ZxEVo.s:3352   .text.startup.main:0000000000000000 $t
     /tmp/cc1ZxEVo.s:3359   .text.startup.main:0000000000000000 main
     /tmp/cc1ZxEVo.s:3959   .text.startup.main:000000000000017c $d
     /tmp/cc1ZxEVo.s:4625   .bss.midi:0000000000000000 midi
     /tmp/cc1ZxEVo.s:3975   .text.startup._GLOBAL__sub_I_voicenote:0000000000000000 $t
ARM GAS  /tmp/cc1ZxEVo.s 			page 142


     /tmp/cc1ZxEVo.s:3981   .text.startup._GLOBAL__sub_I_voicenote:0000000000000000 _GLOBAL__sub_I_voicenote
     /tmp/cc1ZxEVo.s:4536   .text.startup._GLOBAL__sub_I_voicenote:00000000000000b0 $d
     /tmp/cc1ZxEVo.s:4557   .init_array:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4607   .bss.filter:0000000000000000 filter
     /tmp/cc1ZxEVo.s:4600   .bss.envelopes:0000000000000000 envelopes
     /tmp/cc1ZxEVo.s:4639   .bss.p_decay:0000000000000000 p_decay
     /tmp/cc1ZxEVo.s:4646   .bss.p_envf:0000000000000000 p_envf
     /tmp/cc1ZxEVo.s:4632   .bss.osc:0000000000000000 osc
     /tmp/cc1ZxEVo.s:4619   .bss.logger:0000000000000000 logger
     /tmp/cc1ZxEVo.s:4593   .bss.curveTimeMode:0000000000000000 curveTimeMode
     /tmp/cc1ZxEVo.s:4587   .bss.colors:0000000000000000 colors
     /tmp/cc1ZxEVo.s:4666   .data.voicehist:0000000000000000 voicehist
     /tmp/cc1ZxEVo.s:4659   .bss.voicetrig:0000000000000000 voicetrig
     /tmp/cc1ZxEVo.s:4653   .bss.voicenote:0000000000000000 voicenote
     /tmp/cc1ZxEVo.s:4573   .rodata:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4583   .bss.colors:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4590   .bss.curveTimeMode:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4596   .bss.envelopes:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4603   .bss.filter:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4610   .bss.hw:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4616   .bss.logger:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4622   .bss.midi:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4628   .bss.osc:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4635   .bss.p_decay:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4642   .bss.p_envf:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4649   .bss.voicenote:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4656   .bss.voicetrig:0000000000000000 $d
     /tmp/cc1ZxEVo.s:4662   .data.voicehist:0000000000000000 $d
                           .group:0000000000000000 _ZN5daisy9ParameterD5Ev
                           .group:0000000000000000 _ZN5daisy8DaisyPodD5Ev
                           .group:0000000000000000 _ZN10filtStructD5Ev
                           .group:0000000000000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED5Ev

UNDEFINED SYMBOLS
_ZN5daisy8DaisyPod21ProcessAnalogControlsEv
_ZN5daisy8DaisyPod22ProcessDigitalControlsEv
_ZN5daisy8DaisyPod10UpdateLedsEv
_ZN5daisy9Parameter7ProcessEv
powf
_ZN7daisysp10Oscillator12CalcPhaseIncEf
_ZN7daisysp5AdEnv7ProcessEv
_ZN7daisysp10Oscillator7ProcessEv
_ZN7daisysp5AdEnv4InitEf
_ZN5daisy9Parameter4InitENS_13AnalogControlEffNS0_5CurveE
_ZN5daisy5Color4InitENS0_11PresetColorE
_ZN5daisy5Color4InitEfff
_ZN5daisy6RgbLed8SetColorENS_5ColorE
memcpy
_ZN5daisy8DaisyPod4InitEb
_ZN5daisy8DaisyPod17SetAudioBlockSizeEj
_ZN5daisy8DaisyPod15AudioSampleRateEv
_ZN5daisy16MidiUsbTransport4InitENS0_6ConfigE
_ZN5daisy11UartHandler7StartRxEv
_ZN5daisy8DaisyPod8StartAdcEv
_ZN5daisy8DaisyPod10StartAudioEPFvPKfPfjE
_ZN5daisy6System6GetNowEv
_ZN5daisy16MidiUsbTransport2RxEv
ARM GAS  /tmp/cc1ZxEVo.s 			page 143


_ZN5daisy16MidiUsbTransport8ReadableEv
_ZN5daisy16MidiUsbTransport8RxActiveEv
_ZN5daisy11UartHandler5PopRxEv
_ZN5daisy11UartHandler8ReadableEv
_ZN5daisy16MidiUsbTransport7FlushRxEv
_ZN5daisy16MidiUsbTransport7StartRxEv
__aeabi_atexit
__dso_handle
